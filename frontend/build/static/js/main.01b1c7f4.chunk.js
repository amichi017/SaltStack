(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{450:function(e){e.exports=JSON.parse("{}")},586:function(e,t,a){e.exports=a(875)},873:function(e,t,a){},875:function(e,t,a){"use strict";a.r(t);var n={};a.r(n),a.d(n,"loadUser",(function(){return X})),a.d(n,"register",(function(){return $})),a.d(n,"login",(function(){return Q})),a.d(n,"logout",(function(){return ee})),a.d(n,"tokenConfig",(function(){return te}));var r=a(0),s=a.n(r),l=a(24),i=a.n(l),o=a(25),c=a(26),m=a(13),u=a(28),p=a(27),d=a(17),h=a(78),g=a(3),f=a(920),E=a(93),b=a(913),v=a(381),S=a(886),y=a(53),w=a(923),O=a(235),C=a(919),j=a(909),T=a(142),_=a(128),k=a.n(_),D=a(161),I=a.n(D),N=a(31),R=a(35),M=a.n(R),x=a(49),F=a(532),P="FAB",A={msg:{},status:null,id:null},L={token:null,isAuthenticated:null,isLoading:!1,user:null},W={start:new Date,end:new Date,graphDate:new Date},B={saltReturns:null},H={saveMinion:[]},U={listMinions:[]},Y={graphDate:new Date},z={saltReturnsGraph:null},G={CurrentMonth:[]},K={CurrentYear:[]},J={dataInitOne:[],dataInitTow:[],dataInitThree:[]},q={fab:!1,details:{first_name:"",last_name:"",Role:"",Email:""}},V=Object(x.c)({saltReturns:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SALT_RETURNS":return{saltReturns:t.payload};default:return e}},saltReturnsGraph:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SALT_RETURNS_GRAPH":return{saltReturnsGraph:t.payload};default:return e}},date:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"DATE_SELECT":return{start:t.payload.start,end:t.payload.end};default:return e}},graphDate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GRAPH_DATE_SELECT":return{graphDate:t.payload.graphDate};default:return e}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_LOADING":return Object(h.a)({},e,{isLoading:!0});case"USER_LOADED":return Object(h.a)({},e,{isAuthenticated:!0,isLoading:!1,user:t.payload});case"LOGIN_SUCCESS":return localStorage.setItem("token",t.payload.access_token),{token:t.payload.access_token,isAuthenticated:!0,isLoading:!1};case"AUTH_ERROR":case"LOGIN_FAIL":case"LOGOUT_SUCCESS":case"REGISTER_FAIL":return localStorage.removeItem("token"),Object(h.a)({},e,{token:null,user:null,isAuthenticated:!1,isLoading:!1});default:return e}},error:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_ERRORS":return{msg:t.payload.msg,status:t.payload.status,id:t.payload.id};case"CLEAR_ERRORS":return{msg:{},status:null,id:null};default:return e}},saveMinion:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SAVE_MINION":return{saveMinion:t.payload};default:return e}},listMinions:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LIST_MINIONS":return{listMinions:t.payload};default:return e}},CurrentMonth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CURRENT_MONTH":return{CurrentMonth:t.payload};default:return e}},CurrentYear:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CURRENT_YEAR":return{CurrentYear:t.payload};default:return e}},LastThreeMonths:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LAST_THREE_MONTHS_ONE":return Object(h.a)({},e,{dataInitOne:t.payload});case"LAST_THREE_MONTHS_TOW":return Object(h.a)({},e,{dataInitTow:t.payload});case"LAST_THREE_MONTHS_THREE":return Object(h.a)({},e,{dataInitThree:t.payload});default:return e}},fab:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case P:return Object(h.a)({},e,{fab:t.payload});case"FAB_WITH_DATA":return{fab:!0,details:t.payload};default:return e}}}),Z=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:"GET_ERRORS",payload:{msg:e,status:t,id:a}}},X=function(){return function(e,t){e({type:"USER_LOADING"}),M.a.get("/auth/user",te(t)).then((function(t){return e({type:"USER_LOADED",payload:t.data})})).catch((function(t){t.response&&(e(Z(t.response.data,t.response.status)),e({type:"AUTH_ERROR"}))}))}},$=function(e){var t=e.first_name,a=e.last_name,n=e.email,r=e.password;return function(e){var s=JSON.stringify({first_name:t,last_name:a,email:n,password:r});M.a.post("/register",s,{headers:{"Content-Type":"application/json"}}).then((function(t){return e({type:"REGISTER_SUCCESS",payload:t.data})})).catch((function(t){console.log(t),e(Z(t.response.data,t.response.status,"REGISTER_FAIL")),e({type:"REGISTER_FAIL"})}))}},Q=function(e){var t=e.email,a=e.password;return function(e){var n=JSON.stringify({email:t,password:a});M.a.post("/auth",n,{headers:{"Content-Type":"application/json"}}).then((function(t){return e({type:"LOGIN_SUCCESS",payload:t.data})})).catch((function(t){e(Z(t.response.data.message,t.response.status,"LOGIN_FAIL")),e({type:"LOGIN_FAIL"})}))}},ee=function(){return function(e){e({type:"LOGOUT_SUCCESS"})}},te=function(e){var t=e().auth.token,a={headers:{"Content-type":"application/json"}};return t&&(a.headers.Authorization=" Bearer ".concat(t," ")),a},ae=[F.a],ne=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||x.d,re=Object(x.e)(V,{},ne(x.a.apply(void 0,ae))),se=(a(450),function(e){return function(t,a){(new Date).toDateString();var n=String(parseInt(re.getState().date.start.getMonth()+1));n=parseInt(n)<10?"0"+n:n;var r=String(re.getState().date.start.getFullYear()),s=re.getState().date.start.getDate();s=parseInt(s)<10?"0"+s:s;var l=r+String(n)+String(s)+"000000000000",i=String(parseInt(re.getState().date.end.getMonth())+1);i=parseInt(i)<10?"0"+i:i;var o=String(re.getState().date.end.getFullYear()),c=re.getState().date.end.getDate();c=parseInt(c)<10?"0"+c:c;var m=o+String(i)+String(c)+"235959595959",u=[];if("CurrentYear"===e){var p=String((new Date).getFullYear()),d=String(new Date(p,12,0).getDate());c=parseInt(c)<10?"0"+c:c,l=p+"0101000000000000",m=p+"12"+d+"235959595959"}else if("CurrentMonth"===e){var h=String((new Date).getFullYear()),g=String(new Date(h,(new Date).getMonth()+1,0).getDate());c=parseInt(c)<10?"0"+c:c;var f=(new Date).getMonth()+1;l=h+(f=parseInt(f)<10?"0"+f:f)+"01000000000000",m=h+f+g+"235959595959"}else if("LastThreeMonths"===e){var E=String((new Date).getFullYear()),b=String(new Date(E,(new Date).getMonth()-2,1).getFullYear()),v=String(new Date(b,(new Date).getMonth(),0).getDate());c=parseInt(c)<10?"0"+c:c;var S=new Date(2020,(new Date).getMonth()-2,1).getMonth();S=parseInt(S)<10?"0"+S:S;var y=String((new Date).getMonth());l=b+S+"01000000000000",m=b+(y=parseInt(y)<10?"0"+y:y)+v+"235959595959"}var w="/api/saltReturns/apply/"+l+"/"+m;M.a.get(w,le(a)).then((function(e){u=u.concat(e.data),re.dispatch({type:"SALT_RETURNS",payload:u})})).catch((function(e){console.log(e,"error in data")}))}}),le=function(e){var t=e().auth.token,a={headers:{"Content-type":"multipart/form-data"}};return t&&(a.headers.Authorization=" Bearer ".concat(t," ")),a},ie=a(15);function oe(e){return s.a.createElement(y.a,{component:"h2",variant:"h6",color:"primary",gutterBottom:!0},e.children)}var ce=a(497),me=a(5);function ue(e,t,a,n){return{time:e,Success:t,Fail:a,amount:n}}var pe=function(e){},de=(ue("00:00",0,0,0),ue("03:00",0,0,0),ue("06:00",0,0,0),ue("09:00",0,0,0),ue("12:00",0,0,0),ue("15:00",0,0,0),ue("18:00",0,0,0),ue("21:00",0,0,0),ue("24:00",0,0,0),function(e){var t=parseInt(e.slice(8,10));return t<=3?"03:00":t<=6?"06:00":t<=9?"09:00":t<=12?"12:00":t<=15?"15:00":t<=18?"18:00":t<=21?"21:00":t<=24?"24:00":"00:00"}),he=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).dataInit=n.dataInit.bind(Object(m.a)(n)),n.state={graphDate:new Date,flag:!0,minions:null,graphIsPrepared:!0,data:[{time:"00:00",Success:0,Fail:0,amount:0},{time:"03:00",Success:0,Fail:0,amount:0},{time:"06:00",Success:0,Fail:0,amount:0},{time:"09:00",Success:0,Fail:0,amount:0},{time:"12:00",Success:0,Fail:0,amount:0},{time:"15:00",Success:0,Fail:0,amount:0},{time:"18:00",Success:0,Fail:0,amount:0},{time:"21:00",Success:0,Fail:0,amount:0},{time:"24:00",Success:0,Fail:0,amount:0}]},n.dataInit(),n}return Object(c.a)(a,[{key:"dataInit",value:function(){var e=this,t=String(parseInt(re.getState().graphDate.graphDate.getMonth()+1));t=parseInt(t)<10?"0"+t:t;var a=String(re.getState().graphDate.graphDate.getFullYear()),n=re.getState().graphDate.graphDate.getDate();n=parseInt(n)<10?"0"+n:n;var r=a+String(t)+String(n)+"000000000000",s=String(parseInt(re.getState().graphDate.graphDate.getMonth())+1);s=parseInt(s)<10?"0"+s:s;var l=String(re.getState().graphDate.graphDate.getFullYear()),i=re.getState().graphDate.graphDate.getDate();i=parseInt(i)<10?"0"+i:i;var o=l+String(s)+String(i)+"235959595959",c=[],m="/api/saltReturns/apply/"+r+"/"+o;M.a.get(m,function(e){var t=re.getState().auth.token,a={headers:{"Content-type":"multipart/form-data"}};return t&&(a.headers.Authorization=" Bearer ".concat(t," ")),a}(re.getState())).then((function(t){var a=[{time:"00:00",Success:0,Fail:0,amount:0},{time:"03:00",Success:0,Fail:0,amount:0},{time:"06:00",Success:0,Fail:0,amount:0},{time:"09:00",Success:0,Fail:0,amount:0},{time:"12:00",Success:0,Fail:0,amount:0},{time:"15:00",Success:0,Fail:0,amount:0},{time:"18:00",Success:0,Fail:0,amount:0},{time:"21:00",Success:0,Fail:0,amount:0},{time:"24:00",Success:0,Fail:0,amount:0}];c=c.concat(t.data),e.state.minions=c,null!==e.state.minions&&e.state.minions.forEach((function(e){var t=!0;if(Array.isArray(e.return))t=!0;else{var n=Object.entries(e.return).map((function(e){return Object(d.a)({},e[0],e[1])})),r=!1;n.forEach((function(e){!0===Object.values(e)[0].result&&!1===r?t=!0:(t=!1,r=!0)}))}"03:00"===de(e.jid)&&(!0===t?a[1].Success++:a[1].Fail++),"06:00"===de(e.jid)&&(!0===t?a[2].Success++:a[2].Fail++),"09:00"===de(e.jid)&&(!0===t?a[3].Success++:a[3].Fail++),"12:00"===de(e.jid)&&(!0===t?a[4].Success++:a[4].Fail++),"15:00"===de(e.jid)&&(!0===t?a[5].Success++:a[5].Fail++),"18:00"===de(e.jid)&&(!0===t?a[6].Success++:a[6].Fail++),"21:00"===de(e.jid)&&(!0===t?a[7].Success++:a[7].Fail++),"24:00"===de(e.jid)&&(!0===t?a[8].Success++:a[8].Fail++)})),e.state.data=a,e.setState({data:a,graphIsPrepared:!0}),e.forceUpdate()})).catch((function(e){console.log(e,"error in data")}))}},{key:"componentWillReceiveProps",value:function(e){this.dataInit()}},{key:"render",value:function(){return!0===this.state.graphIsPrepared?s.a.createElement(s.a.Fragment,null,s.a.createElement(oe,{style:{paddingLeft:5}}," ",re.getState().graphDate.graphDate.toLocaleDateString()),s.a.createElement(ie.i,null,s.a.createElement(ie.g,{onClick:pe,data:this.state.data,margin:{top:16,right:16,bottom:0,left:24}},s.a.createElement(ie.k,{dataKey:"time"}),s.a.createElement(ie.l,null),s.a.createElement(ie.j,null),s.a.createElement(ie.e,null),s.a.createElement(ie.f,{type:"monotone",dataKey:"Success",stroke:"#82ca9d",onClick:pe}),s.a.createElement(ie.f,{type:"monotone",dataKey:"Fail",stroke:"#ff6666",onClick:pe})))):s.a.createElement("div",{className:this.props.classes.root},s.a.createElement(ce.a,null))}}]),a}(s.a.PureComponent),ge=Object(N.b)((function(e){return{saltReturnsGraph:e.saltReturnsGraph,graphDate:e.graphDate}}))(Object(me.a)((function(e){return{root:{display:"flex",marginLeft:e.spacing(50),marginTop:e.spacing(11),"& > * + *":{marginLeft:e.spacing(2)}}}}))(he)),fe=a(289),Ee=a.n(fe),be=a(143),ve=a(183),Se=a(41),ye=a(369),we=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).handleDateChangeStart=n.handleDateChangeStart.bind(Object(m.a)(n)),n.handleDateChangeEnd=n.handleDateChangeEnd.bind(Object(m.a)(n)),n.dateIsChanged=n.dateIsChanged.bind(Object(m.a)(n)),n.state={start:n.props.date.start,end:n.props.date.end,date:null},n}return Object(c.a)(a,[{key:"handleDateChangeStart",value:function(e){this.setState({booleanStart:!0,start:e})}},{key:"handleDateChangeEnd",value:function(e){this.setState({booleanEnd:!0,end:e})}},{key:"dateIsChanged",value:function(){var e=this.state.start,t=this.state.end;re.dispatch({type:"DATE_SELECT",payload:{start:e,end:t}}),re.dispatch(se())}},{key:"render",value:function(){var e=this;return s.a.createElement(s.a.Fragment,{style:{marginTop:-5}},s.a.createElement(y.a,{variant:"h4"},s.a.createElement(Se.a,{utils:ve.default},s.a.createElement(j.a,{container:!0,justify:"space-around"},s.a.createElement(ye.b,{margin:"normal",id:"date-picker-dialog",label:"Table Start Date",format:"dd/MM/yyyy",value:this.state.start,onChange:function(t){e.handleDateChangeStart(t)},KeyboardButtonProps:{"aria-label":"change date"}}),s.a.createElement(ye.b,{margin:"normal",id:"date-picker-dialog",label:"Table End Date",format:"dd/MM/yyyy",value:this.state.end,onChange:function(t){e.handleDateChangeEnd(t)},KeyboardButtonProps:{"aria-label":"change date"}}),s.a.createElement(y.a,{style:{flex:1,paddingTop:12}},s.a.createElement(be.a,{variant:"outlined",color:"primary",onClick:this.dateIsChanged,endIcon:s.a.createElement(Ee.a,null,"Search")},"Search"))))))}}]),a}(s.a.Component);var Oe=Object(N.b)((function(e,t){return{date:e.date}}))(we),Ce=a(877),je=a(880),Te=a(879),_e=a(922),ke=a(310),De=a.n(ke),Ie=a(943),Ne=a(136),Re=a.n(Ne),Me=a(199),xe=a.n(Me),Fe=a(944),Pe=a(916),Ae=a(929),Le=a(930),We=a(931),Be=a(932),He=a(933),Ue=a(934),Ye=a(935),ze=a(936),Ge=a(937),Ke=a(938),Je=a(939),qe=a(940),Ve=a(941),Ze=a(942),Xe=function(e){var t=e.slice(8,10),a=e.slice(10,12);return String(t)+":"+String(a)},$e=function(e){var t=e.slice(0,4),a=String(parseInt(e.slice(4,6))),n=e.slice(6,8);return String(n)+"/"+String(a)+"/"+String(t)},Qe={Add:Object(r.forwardRef)((function(e,t){return s.a.createElement(Ae.a,Object.assign({},e,{ref:t}))})),Check:Object(r.forwardRef)((function(e,t){return s.a.createElement(Le.a,Object.assign({},e,{ref:t}))})),Clear:Object(r.forwardRef)((function(e,t){return s.a.createElement(We.a,Object.assign({},e,{ref:t}))})),Delete:Object(r.forwardRef)((function(e,t){return s.a.createElement(Be.a,Object.assign({},e,{ref:t}))})),DetailPanel:Object(r.forwardRef)((function(e,t){return s.a.createElement(He.a,Object.assign({},e,{ref:t}))})),Edit:Object(r.forwardRef)((function(e,t){return s.a.createElement(Be.a,Object.assign({},e,{ref:t}))})),Export:Object(r.forwardRef)((function(e,t){return s.a.createElement(Ue.a,Object.assign({},e,{ref:t}))})),Filter:Object(r.forwardRef)((function(e,t){return s.a.createElement(Ye.a,Object.assign({},e,{ref:t}))})),FirstPage:Object(r.forwardRef)((function(e,t){return s.a.createElement(ze.a,Object.assign({},e,{ref:t}))})),LastPage:Object(r.forwardRef)((function(e,t){return s.a.createElement(Ge.a,Object.assign({},e,{ref:t}))})),NextPage:Object(r.forwardRef)((function(e,t){return s.a.createElement(He.a,Object.assign({},e,{ref:t}))})),PreviousPage:Object(r.forwardRef)((function(e,t){return s.a.createElement(Ke.a,Object.assign({},e,{ref:t}))})),ResetSearch:Object(r.forwardRef)((function(e,t){return s.a.createElement(We.a,Object.assign({},e,{ref:t}))})),Search:Object(r.forwardRef)((function(e,t){return s.a.createElement(Je.a,Object.assign({},e,{ref:t}))})),SortArrow:Object(r.forwardRef)((function(e,t){return s.a.createElement(qe.a,Object.assign({},e,{ref:t}))})),ThirdStateCheck:Object(r.forwardRef)((function(e,t){return s.a.createElement(Ve.a,Object.assign({},e,{ref:t}))})),ViewColumn:Object(r.forwardRef)((function(e,t){return s.a.createElement(Ze.a,Object.assign({},e,{ref:t}))}))},et=[{title:"status",field:"status",cellStyle:function(e){return{color:"Success"===e?"#208000":"#ff0000"}}},{title:"Name",field:"name"},{title:"Date",field:"date"},{title:"Time",field:"time"}],tt=[],at=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).selestMinion=n.selestMinion.bind(Object(m.a)(n)),n.handleClickOpen=n.handleClickOpen.bind(Object(m.a)(n)),n.handleClose=n.handleClose.bind(Object(m.a)(n)),re.dispatch(se()),console.log(re.getState(),"store.getState()"),n.state={saltReturns:tt,Returns:null,dialogOpen:!1,minion:"",data:[],flag:!1},n}return Object(c.a)(a,[{key:"componentWillMount",value:function(){var e=this;null!==re.getState().saltReturns.saltReturns&&setTimeout((function(){var t=re.getState().date.start;new Date(t.getTime()).setHours(0,0,0);var a=re.getState().date.end,n=(new Date(a.getTime()),re.getState().saltReturns.saltReturns.map((function(e){var t=!0,a=0;if(Array.isArray(e.return))t=!0;else Object.entries(e.return).map((function(e,n,r){!1===e[1].result&&0===a&&(t=!1,a=1),n===r.length-1&&0===a&&(a=1,t=!0)}));return{status:!0===t?"Success":"Fail",name:e.minion,date:$e(e.jid),id:e._id,time:Xe(e.jid)}})));e.setState({saltReturns:n})}),500)}},{key:"selestMinion",value:function(e,t){var a=this;if(console.log("table - 213"),"Success"!==t.status)re.getState().saltReturns.saltReturns.filter((function(e){if(e._id===t.id){var n=Object.entries(e.return);if("0"===n[0][0])a.setState({flag:!0,data:n[0]}),console.log("table - 225");else{var r=Object.entries(e.return).map((function(e){return Object(d.a)({},e[0],e[1])}));a.setState({data:r}),console.log("table - 230")}return a.setState({dialogOpen:!0,minion:e}),console.log("table - 230"),e}}))}},{key:"handleClickOpen",value:function(){this.setState({dialogOpen:!0})}},{key:"handleClose",value:function(){this.setState({dialogOpen:!1})}},{key:"componentWillReceiveProps",value:function(e,t){var a=this;null!==re.getState().saltReturns.saltReturns&&setTimeout((function(){var e=re.getState().date.start;new Date(e.getTime()).setHours(0,0,0);var t=re.getState().date.end,n=(new Date(t.getTime()),re.getState().saltReturns.saltReturns.map((function(e){var t=!0,a=0;if(Array.isArray(e.return))t=!0;else Object.entries(e.return).map((function(e,n,r){!1===e[1].result&&0===a&&(t=!1,a=1),n===r.length-1&&0===a&&(a=1,t=!0)}));return{status:!0===t?"Success":"Fail",name:e.minion,date:$e(e.jid),id:e._id,time:Xe(e.jid)}})));a.setState({saltReturns:n})}),500)}},{key:"render",value:function(){var e=this;return s.a.createElement("div",null,s.a.createElement(De.a,{title:"Minions Table",columns:et,data:this.state.saltReturns,icons:Qe,onRowClick:function(t,a){return e.setState({selectedRow:a})},options:{exportButton:!0,filtering:!0},actions:[{icon:Object(r.forwardRef)((function(e,t){return s.a.createElement(Be.a,Object.assign({},e,{ref:t}))})),tooltip:"View commands",onClick:function(t,a){e.selestMinion(t,a)}}]}),s.a.createElement(Ce.a,{open:this.state.dialogOpen,onClose:this.handleClose,"aria-describedby":"alert-dialog-description",maxWidth:"lg",scroll:"paper","aria-labelledby":"confirmation-dialog-title"},s.a.createElement(_e.a,{id:"alert-dialog-title"},s.a.createElement(y.a,{style:{color:"#ff6666",fontSize:18}},"Failed ",this.state.minion.minion," at date ",void 0!==this.state.minion?$e(String(this.state.minion.jid)):" "," at hour ",void 0!==this.state.minion?Xe(String(this.state.minion.jid)):" ")),s.a.createElement(Te.a,{dividers:!0},s.a.createElement("div",{style:{minWidth:1e3}},s.a.createElement("div",null,s.a.createElement(Ie.a,{style:{fontSize:18},defaultCollapseIcon:s.a.createElement(Re.a,null),defaultExpandIcon:s.a.createElement(xe.a,null)},this.state.data.map((function(t,a){return!1===e.state.flag?s.a.createElement(y.a,{className:e.props.classes.TreeItem},s.a.createElement(Fe.a,{nodeId:a,label:Object.keys(t)[0],style:{color:!0===Object.values(t)[0].result?"#26a852":"#ff6666",fontSize:18},className:e.props.classes.TreeItemText},console.log("table - 394"),s.a.createElement(y.a,{className:e.props.classes.title,color:"textSecondary",gutterBottom:!0},"comment :"),s.a.createElement(y.a,{color:"textSecondary",className:e.props.classes.text},Object.values(t)[0].comment),s.a.createElement(y.a,{className:e.props.classes.title,color:"textSecondary",gutterBottom:!0},"changes :"),s.a.createElement(y.a,{color:"textSecondary",className:e.props.classes.text},String(Object.values(t)[0]).changes),s.a.createElement(y.a,{className:e.props.classes.title,color:"textSecondary",gutterBottom:!0},"_id_ :"),s.a.createElement(y.a,{color:"textSecondary",className:e.props.classes.text},Object.values(t)[0]._id_))):1===a?s.a.createElement(y.a,{color:"textSecondary",gutterBottom:!0},"return : ",e.state.minion.return):void 0}))),s.a.createElement(Pe.a,null)))),s.a.createElement(je.a,null,s.a.createElement(be.a,{onClick:this.handleClose,color:"primary",autoFocus:!0},"close"))))}}]),a}(s.a.Component);var nt=Object(N.b)((function(e,t){return{saltReturns:e.saltReturns,date:e.date}}))(Object(me.a)((function(e){return{root:{height:240,flexGrow:1,maxWidth:900,fontSize:20},text:{paddingLeft:e.spacing(6),fontSize:16},title:{fontSize:16,paddingLeft:e.spacing(2)},TreeItem:{marginTop:e.spacing(3.5),flexGrow:1,maxWidth:950,fontSize:18},TreeItemText:{fontSize:18}}}))(at)),rt=a(915),st=a(917),lt=a(921),it=a(314),ot=a.n(it),ct=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var n;Object(o.a)(this,a);var r=(n=t.call(this,e)).props.comment;return n.state=Object(d.a)({open:!1,defer:!1,click:!1,comment:r,listOpen:!1},"open",!1),n.onClickMinion=n.onClickMinion.bind(Object(m.a)(n)),n.handleClickButton=n.handleClickButton.bind(Object(m.a)(n)),n.handleClickOpen=n.handleClickOpen.bind(Object(m.a)(n)),n.handleClose=n.handleClose.bind(Object(m.a)(n)),n}return Object(c.a)(a,[{key:"componentWillReceiveProps",value:function(e){e.prepared,this.props.prepared}},{key:"onClickMinion",value:function(){}},{key:"handleClickButton",value:function(){this.state.listOpen=!this.state.listOpen}},{key:"handleClickOpen",value:function(){this.setState((function(e){return{open:!e.open}}))}},{key:"handleClose",value:function(){var e=this;this.setState((function(e){return{open:!e.open}})),this.setState({click:!0});var t=re.getState().saveMinion.saveMinion.filter((function(t){if(t.id!==e.props.id)return t}));t=t.map((function(e,t){return Object(h.a)({},e,{id:t+1})})),re.dispatch({type:"SAVE_MINION",payload:t})}},{key:"render",value:function(){var e=this;this.props.classes.bullet;return""===this.state.comment&&(this.state.click=!0),!1===this.state.click&&!0===this.props.prepared?s.a.createElement(rt.a,{className:this.props.classes.root},s.a.createElement(st.a,null,s.a.createElement(y.a,{className:this.props.classes.title,color:"textSecondary",gutterBottom:!0},"Function: ",this.props.comment),s.a.createElement(y.a,{className:this.props.classes.title,color:"textSecondary",gutterBottom:!0},"Parameter: ",this.props.Parameter),s.a.createElement(y.a,{variant:"h5",component:"h2",color:"textSecondary"},s.a.createElement("div",null,s.a.createElement("div",{className:this.props.classes.container},s.a.createElement(Ie.a,{className:this.props.classes.Tree_Res,defaultCollapseIcon:s.a.createElement(Re.a,null),defaultExpandIcon:s.a.createElement(xe.a,null)},s.a.createElement(Fe.a,{nodeId:"1",label:"See Minions"},this.props.minion.map((function(t,a){return s.a.createElement(Fe.a,{nodeId:a+2,label:t[0],className:e.props.classes.TreeItem},s.a.createElement(y.a,{color:"textSecondary"},s.a.createElement(Fe.a,{nodeId:a+3,label:t[1],className:e.props.classes.res_of_cmd})))})))))))),s.a.createElement(Pe.a,{disableSpacing:!0},s.a.createElement(O.a,{"aria-label":"share",variant:"outlined",onClick:this.handleClickOpen,color:"secondary"},s.a.createElement(ot.a,null)),s.a.createElement(Ce.a,{open:this.state.open,onClose:this.handleClose,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},s.a.createElement(Te.a,null,s.a.createElement(lt.a,{id:"alert-dialog-description"},"Are you sure you want to delete the command from history?")),s.a.createElement(je.a,null,s.a.createElement(be.a,{onClick:this.handleClickOpen,color:"primary"},"Cancel"),s.a.createElement(be.a,{onClick:this.handleClose,color:"secondary",autoFocus:!0},"Delete"))))):!1===this.props.prepared?s.a.createElement(rt.a,{className:this.props.classes.root},s.a.createElement(y.a,{className:this.props.classes.title,color:"textSecondary",gutterBottom:!0},"Function: ",this.props.comment),s.a.createElement(y.a,{className:this.props.classes.title,color:"textSecondary",gutterBottom:!0},"Parameter: ",this.props.Parameter),s.a.createElement(st.a,{className:this.props.classes.CardContent},s.a.createElement("div",{className:this.props.classes.CircularProgress}," ",s.a.createElement(ce.a,null)))):!0===this.props.err?s.a.createElement(rt.a,{className:this.props.classes.root},s.a.createElement(st.a,{className:this.props.classes.CardContent},s.a.createElement(y.a,{className:this.props.classes.title,color:"textSecondary",gutterBottom:!0},"Error from server"))):s.a.createElement("div",null)}}]),a}(s.a.Component),mt=Object(me.a)((function(e){return{root:{maxWidth:500,minWidth:500,Width:500,margin:e.spacing(1),marginLeft:e.spacing(0)},Tree_Res:{maxWidth:450,Width:450},nested:{paddingLeft:e.spacing(4)},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},title:{fontSize:16,overflow:"wrap",paddingLeft:e.spacing(2)},pos:{marginBottom:12},button:{margin:e.spacing(1),fontSize:12},container:{width:400,maxWidth:400,flexWrap:"wrap",overflow:"wrap"},minions:{height:240,flexGrow:1,maxWidth:400},CardContent:{maxWidth:250,width:250},CircularProgress:{paddingLeft:e.spacing(27)},TreeItem:{color:"#26a852",flexWrap:"wrap",maxWidth:400,width:400,wordWrap:"break-word"},res_of_cmd:{maxWidth:400,flexWrap:"wrap",wordWrap:"break-word"}}}))(ct),ut=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return s.a.createElement(be.a,{style:{color:"#fff",border:"none"},variant:"outlined",onClick:function(){return re.dispatch(ee())}},"Log out")}}]),a}(r.Component),pt=(Object(N.b)(null,{logout:ee})(ut),a(162)),dt=a.n(pt),ht=(a(872),a(945)),gt=a(914),ft=a(556),Et=a(928),bt=a(548),vt=a.n(bt),St=a(232),yt=a.n(St),wt=a(396),Ot=a.n(wt),Ct={Add:Object(r.forwardRef)((function(e,t){return s.a.createElement(Ae.a,Object.assign({},e,{ref:t}))})),Check:Object(r.forwardRef)((function(e,t){return s.a.createElement(Le.a,Object.assign({},e,{ref:t}))})),Clear:Object(r.forwardRef)((function(e,t){return s.a.createElement(We.a,Object.assign({},e,{ref:t}))})),Delete:Object(r.forwardRef)((function(e,t){return s.a.createElement(Be.a,Object.assign({},e,{ref:t}))})),DetailPanel:Object(r.forwardRef)((function(e,t){return s.a.createElement(He.a,Object.assign({},e,{ref:t}))})),Edit:Object(r.forwardRef)((function(e,t){return s.a.createElement(Be.a,Object.assign({},e,{ref:t}))})),Export:Object(r.forwardRef)((function(e,t){return s.a.createElement(Ue.a,Object.assign({},e,{ref:t}))})),Filter:Object(r.forwardRef)((function(e,t){return s.a.createElement(Ye.a,Object.assign({},e,{ref:t}))})),FirstPage:Object(r.forwardRef)((function(e,t){return s.a.createElement(ze.a,Object.assign({},e,{ref:t}))})),LastPage:Object(r.forwardRef)((function(e,t){return s.a.createElement(Ge.a,Object.assign({},e,{ref:t}))})),NextPage:Object(r.forwardRef)((function(e,t){return s.a.createElement(He.a,Object.assign({},e,{ref:t}))})),PreviousPage:Object(r.forwardRef)((function(e,t){return s.a.createElement(Ke.a,Object.assign({},e,{ref:t}))})),ResetSearch:Object(r.forwardRef)((function(e,t){return s.a.createElement(We.a,Object.assign({},e,{ref:t}))})),Search:Object(r.forwardRef)((function(e,t){return s.a.createElement(Je.a,Object.assign({},e,{ref:t}))})),SortArrow:Object(r.forwardRef)((function(e,t){return s.a.createElement(qe.a,Object.assign({},e,{ref:t}))})),ThirdStateCheck:Object(r.forwardRef)((function(e,t){return s.a.createElement(Ve.a,Object.assign({},e,{ref:t}))})),ViewColumn:Object(r.forwardRef)((function(e,t){return s.a.createElement(Ze.a,Object.assign({},e,{ref:t}))}))},jt=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).tokenConfig=function(){var e=re.getState().auth.token,t={headers:{"Content-type":"application/json"}};return e&&(t.headers.Authorization=" Bearer ".concat(e," ")),t},n.handleClose=function(e,t){"clickaway"!==t&&n.setState({msg:!1,warninginput:!1,warningNoMinionSelected:!1})},n.clickOpen=n.clickOpen.bind(Object(m.a)(n)),n.handleClose=n.handleClose.bind(Object(m.a)(n)),n.sentCommand=n.sentCommand.bind(Object(m.a)(n)),n.ClickCSend=n.ClickCSend.bind(Object(m.a)(n)),n.getMinionsFromServer=n.getMinionsFromServer.bind(Object(m.a)(n)),n.tokenConfig=n.tokenConfig.bind(Object(m.a)(n)),re.dispatch((function(e,t){M.a.get("/get_connected_minions",le(t)).then((function(e){for(var t=[],a=0;a<e.data.result.length;a++){var n={name:e.data.result[a]};t.push(n)}re.dispatch({type:"TEAM_LIST",payload:t})})).catch((function(e){console.log(e,"err get_connected_minions")}))})),n.state={alert:!1,msg:!1,menu:"Dashboard",open:!1,defer:!1,clickSave:!1,history:[],input:"",parms:"",saveMinion:{},countSaveMinion:0,warninginput:!1,warningNoMinionSelected:!1,err_from_server_run_cmd:!1,err_cmd:"",err_cmd_flag:!1,data:[],minions_send_to_server:[],cmd_no_run_bacuse:""},n.getMinionsFromServer(),0===n.state.history.length&&(n.state.history=re.getState().saveMinion.saveMinion),n}return Object(c.a)(a,[{key:"ClickCSend",value:function(){var e=this;""===this.state.input?(this.setState({warninginput:!0}),setTimeout((function(){e.setState({warninginput:!1})}),2200)):this.sentCommand(this.state.input)}},{key:"getMinionsFromServer",value:function(){var e=this,t=this.tokenConfig();M.a.get("/get_connected_minions",t).then((function(t){for(var a=[],n=0;n<t.data.result.length;n++){var r={name:t.data.result[n]};a.push(r)}e.setState({data:a})})).catch((function(e){console.log(e,"err get_connected_minions")}))}},{key:"clickOpen",value:function(e){var t=this;this.state.countSaveMinion=0,this.state.countSaveMinion++;var a=e.map((function(e){return e.name}));this.state.minions_send_to_server=a;re.getState().saveMinion.saveMinion.length;this.setState({alert:!0,clickSave:!0}),setTimeout((function(){t.setState({alert:!1})}),5e3)}},{key:"componentWillReceiveProps",value:function(e,t){var a=this;e.saveMinion!==this.props.saveMinion&&setTimeout((function(){a.forceUpdate()}),500)}},{key:"sentCommand",value:function(e){var t=this;if(this.state.countSaveMinion--,0===this.state.countSaveMinion){var a=re.getState().saveMinion.saveMinion.length;console.log(re.getState(),"store.getState("),console.log(this.state.history,"this.state.history"),a!==this.state.history.length&&(this.state.history=re.getState().saveMinion.saveMinion);this.state.input.split(" ");var n=this.state.parms.split(" "),r=(new Date).getTime(),s={prepared:!1,comment:e,Parameter:n,id:r,minions:this.state.minions_send_to_server};this.state.input="",this.state.history.unshift(s);var l={func:e,tgt:this.state.minions_send_to_server,salt_cmd:""===this.state.parms?"":n};this.setState({parms:""});var i=JSON.stringify(l),o=this.tokenConfig();console.log(" his.state.history.minions",this.state.history.minions),re.dispatch({type:"SAVE_MINION",payload:this.state.history}),M.a.post("/saltstack_cmd",i,o).then((function(a){var s=a.data.res,l=t.state.minions_send_to_server.map((function(e){return[e,JSON.stringify(s[e])]}));console.log(t.state,"this.state 1"),t.state.history=t.state.history.map((function(t){return t.id===r?(console.log(t,"item"),{prepared:!0,comment:e,Parameter:n,id:r,minions:l}):t})).filter((function(e){if(void 0!==e)return e})),console.log(t.state,"this.state 2"),re.dispatch({type:"SAVE_MINION",payload:t.state.history}),console.log(re.getState(),"store.getState()"),t.setState({parms:""})})).catch((function(e){console.log("err",e),setTimeout((function(){t.state.history=t.state.history.filter((function(e){if(e.id!==r)return e;t.state.cmd_no_run_bacuse=e.comment})),t.setState({err_cmd_flag:!0}),setTimeout((function(){t.setState({err_cmd_flag:!1})}),6500)}),5e3)}))}else 0!==this.state.countSaveMinion&&1!==this.state.countSaveMinion?(console.log("pppppppppppppppppppppp"),this.setState({warningNoMinionSelected:!0}),setTimeout((function(){t.setState({warningNoMinionSelected:!1})}),2200)):setTimeout((function(){t.setState({msg:!1,clickSave:!1})}),2200)}},{key:"render",value:function(){var e,t,a,n=this;return s.a.createElement("div",{style:{display:"flex",flexDirection:"row"}},s.a.createElement("div",{style:{display:"flex",flexDirection:"column"}},s.a.createElement(T.a,{component:"form",className:this.props.classes.root},s.a.createElement(O.a,{className:this.props.classes.iconButton,"aria-label":"menu"},s.a.createElement(k.a,null)),s.a.createElement(ft.a,{autoComplete:!0,autoFocus:"true",value:this.state.input,onChange:function(e){n.setState({input:e.target.value})},className:this.props.classes.input,placeholder:"Command Line",inputProps:{"aria-label":"Command Line"}}),""!==this.state.input?s.a.createElement("div",null,s.a.createElement(O.a,{color:"primary",className:this.props.classes.iconButton,"aria-label":"directions",onClick:function(){n.setState({input:""})}},s.a.createElement(Ot.a,null))):s.a.createElement("div",null),s.a.createElement(w.a,{className:this.props.classes.divider,orientation:"vertical"}),s.a.createElement(O.a,{fontSize:"small",color:"primary",size:"medium",className:this.props.classes.iconButton,"aria-label":"directions",onClick:this.ClickCSend},s.a.createElement(vt.a,null))),s.a.createElement("div",{className:this.props.classes.Comments},"Parameters",s.a.createElement(w.a,{light:!0,style:{width:200}})),s.a.createElement(T.a,{component:"form",className:this.props.classes.paperParms},s.a.createElement(ft.a,{autoComplete:!0,autoFocus:"true",value:this.state.parms,onChange:function(e){n.setState({parms:e.target.value})},className:this.props.classes.inputparms,placeholder:"Parameters",inputProps:{"aria-label":"Parameters"}}),""!==this.state.parms?s.a.createElement(O.a,{fontSize:"small",color:"primary",className:this.props.classes.iconButton,"aria-label":"directions",onClick:function(){n.setState({parms:""})}},s.a.createElement(Ot.a,null)):s.a.createElement("div",null)),s.a.createElement("div",{className:this.props.classes.Comments},"commands",s.a.createElement(w.a,{light:!0,style:{width:200}})),s.a.createElement("div",{className:this.props.classes.ButtonGroup},s.a.createElement(gt.a,(e={size:"large",color:"primary",orientation:"horizontal"},Object(d.a)(e,"color","primary"),Object(d.a)(e,"aria-label","vertical contained primary button group"),Object(d.a)(e,"variant","text"),Object(d.a)(e,"style",{marginTop:35,width:420,height:50}),e),s.a.createElement(be.a,{onClick:function(){return n.sentCommand("state.apply")}},"state.apply"),s.a.createElement(be.a,{onClick:function(){return n.sentCommand("test.ping")}},"test.ping"),s.a.createElement(be.a,{onClick:function(){return n.sentCommand("grains.items")}},"grains.items")),s.a.createElement(gt.a,(t={size:"large",color:"primary",orientation:"horizontal"},Object(d.a)(t,"color","primary"),Object(d.a)(t,"aria-label","vertical contained primary button group"),Object(d.a)(t,"variant","text"),Object(d.a)(t,"style",{marginTop:15,width:380,height:50}),t),s.a.createElement(be.a,{onClick:function(){return n.sentCommand("pillar.items")}},"pillar.items"),s.a.createElement(be.a,{onClick:function(){return n.sentCommand("saltutil.refresh_grains")}},"saltutil.refresh_grains")),s.a.createElement(gt.a,(a={size:"large",color:"primary",orientation:"horizontal"},Object(d.a)(a,"color","primary"),Object(d.a)(a,"aria-label","vertical contained primary button group"),Object(d.a)(a,"variant","text"),Object(d.a)(a,"style",{marginTop:15,width:380,height:50}),a),s.a.createElement(be.a,{onClick:function(){return n.sentCommand("saltutil.refresh_pillar")}},"saltutil.refresh_pillar"))),s.a.createElement("div",{className:this.props.classes.Divider},"History",s.a.createElement(w.a,{light:!0,style:{width:400}})),s.a.createElement("div",{style:{display:"flex",flexDirection:"row",flexFlow:"row wrap",maxWidth:850,width:800}},console.log(this.state.history,"this.state.history"),this.state.history.map((function(e){return s.a.createElement(mt,{id:e.id,minion:e.minions,comment:e.comment,prepared:e.prepared,Parameter:e.Parameter,err:n.state.err_cmd_flag})}))),s.a.createElement("div",{className:this.props.classes.Divider},s.a.createElement(w.a,{light:!0,style:{width:400}}))),s.a.createElement("div",null,s.a.createElement("div",{className:this.props.classes.MaterialTable},this.state.alert?s.a.createElement("div",{className:this.props.classes.msg},s.a.createElement(ht.a,{severity:"success"},"The minions you selected were  \u2014 ",s.a.createElement("strong",null,"accepted in the system"))):s.a.createElement("div",null),s.a.createElement(De.a,{title:"Minions",icons:Ct,columns:[{title:"Name",field:"name"}],data:this.state.data,options:{selection:!0},actions:[{icon:Object(r.forwardRef)((function(e,t){return s.a.createElement(yt.a,Object.assign({color:"action"},e,{ref:t}))})),tooltip:"Save Minions",onClick:function(e,t){n.clickOpen(t)}}]}),!0===this.state.clickSave?s.a.createElement("div",{className:this.props.classes.msg},s.a.createElement(Et.a,{open:this.state.msg,autoHideDuration:6e3,onClose:this.handleClose},s.a.createElement(ht.a,{onClose:this.handleClose,severity:"success"},"The commands you made were received in the system!"))):s.a.createElement("div",null),!0===this.state.warninginput?s.a.createElement("div",{className:this.props.classes.msg},s.a.createElement(Et.a,{open:this.state.warninginput,autoHideDuration:6e3,onClose:this.handleClose},s.a.createElement(ht.a,{onClose:this.handleClose,severity:"warning"},"command not sent because     ",s.a.createElement("strong",null," no command entered   ")))):s.a.createElement("div",null),!0===this.state.warningNoMinionSelected?s.a.createElement("div",{className:this.props.classes.msg},s.a.createElement(Et.a,{open:this.state.warningNoMinionSelected,autoHideDuration:6e3,onClose:this.handleClose},s.a.createElement(ht.a,{onClose:this.handleClose,severity:"warning"},"command not sent because ",s.a.createElement("strong",null,"no minion selected   ")))):s.a.createElement("div",null),!0===this.state.err_cmd_flag?s.a.createElement("div",{className:this.props.classes.msg},s.a.createElement(Et.a,{open:this.state.err_cmd_flag,autoHideDuration:6e3,onClose:this.handleClose},s.a.createElement(ht.a,{onClose:this.handleClose,severity:"error"},"The command  ",s.a.createElement("strong",null,this.state.cmd_no_run_bacuse),"  not sent because ",s.a.createElement("strong",null,"Internal Server Error   ")))):s.a.createElement("div",null))))}}]),a}(s.a.Component),Tt=Object(N.b)((function(e,t){return{saveMinion:e.saveMinion}}))(Object(me.a)((function(e){return{MaterialTable:{marginLeft:e.spacing(-8),marginTop:e.spacing(1),width:450},root:{padding:"2px 4px",display:"flex",alignItems:"center",width:500,height:70,marginTop:e.spacing(1)},paperParms:{padding:"3px 4px",display:"flex",alignItems:"center",width:400,height:50,marginTop:e.spacing(3)},input:{marginLeft:e.spacing(1),marginTop:0,flex:1},inputparms:{marginLeft:e.spacing(1),flex:1},minionStyle:{marginTop:e.spacing(5),width:200},iconButton:{padding:10,height:55},Divider:{marginTop:e.spacing(5),height:50,margin:4},iconButtonParms:{padding:10,height:10,width:4},dividerParms:{marginTop:e.spacing(5),height:"100%",margin:4},msg:{width:"100%","& > * + *":{marginTop:e.spacing(2)}},Comments:{marginTop:e.spacing(4)},ButtonGroup:{display:"flex",flexDirection:"column","& > *":{margin:e.spacing(.5)}},button:{height:50}}}))(jt)),_t=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).handleDateChange=n.handleDateChange.bind(Object(m.a)(n)),n.dateIsChanged=n.dateIsChanged.bind(Object(m.a)(n)),n.state={graphDate:n.props.graphDate.graphDate},n}return Object(c.a)(a,[{key:"handleDateChange",value:function(e){this.setState({graphDate:e}),re.dispatch((function(e,t){(new Date).toDateString();var a=String(parseInt(re.getState().graphDate.graphDate.getMonth()+1));a=parseInt(a)<10?"0"+a:a;var n=String(re.getState().graphDate.graphDate.getFullYear()),r=re.getState().graphDate.graphDate.getDate();r=parseInt(r)<10?"0"+r:r;var s=n+String(a)+String(r)+"000000000000",l=String(parseInt(re.getState().graphDate.graphDate.getMonth())+1);l=parseInt(l)<10?"0"+l:l;var i=String(re.getState().graphDate.graphDate.getFullYear()),o=re.getState().graphDate.graphDate.getDate();o=parseInt(o)<10?"0"+o:o;var c=i+String(l)+String(o)+"235959595959",m=[],u="/api/saltReturns/apply/"+s+"/"+c;M.a.get(u,le(t)).then((function(e){m=m.concat(e.data),re.dispatch({type:"SALT_RETURNS_GRAPH",payload:m})})).catch((function(e){console.log(e,"error in data")}))})),setTimeout((function(){re.dispatch({type:"GRAPH_DATE_SELECT",payload:{graphDate:e}})}),0)}},{key:"dateIsChanged",value:function(){}},{key:"render",value:function(){var e=this;return s.a.createElement(s.a.Fragment,null,s.a.createElement(y.a,{component:"p",variant:"h4"},s.a.createElement(Se.a,{utils:ve.default},s.a.createElement(j.a,{container:!0,justify:"space-around"},s.a.createElement(ye.b,{margin:"normal",id:"date-picker-dialog",label:"Graph Date",format:"dd/MM/yyyy",value:this.state.graphDate,onChange:function(t){e.handleDateChange(t)},KeyboardButtonProps:{"aria-label":"change date"}})))))}}]),a}(s.a.Component),kt=Object(N.b)((function(e,t){return{graphDate:e.graphDate}}))(_t),Dt=a(200),It=a.n(Dt),Nt=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).dataInit=n.dataInit.bind(Object(m.a)(n)),n.initWithoutInformation=n.initWithoutInformation.bind(Object(m.a)(n)),n.initFirstTime=n.initFirstTime.bind(Object(m.a)(n)),n.state={start:new Date,end:new Date,data:[],flag:!0},n.initWithoutInformation(),n}return Object(c.a)(a,[{key:"initFirstTime",value:function(){for(var e=[],t=new Date,a=new Date(t.getFullYear(),t.getMonth()-1,0).getDate(),n=1;n<=a;n++)e.push({name:String(n),Fail:0,Success:0});this.state.data=e}},{key:"initWithoutInformation",value:function(){re.getState().CurrentMonth.CurrentMonth.length>0?(this.state.data=re.getState().CurrentMonth.CurrentMonth,this.forceUpdate()):this.dataInit()}},{key:"dataInit",value:function(){var e=this,t=(new Date).getTime(),a=String((new Date).getFullYear()),n=String(new Date(a,(new Date).getMonth()+1,0).getDate());n=parseInt(n)<10?"0"+n:n;for(var r=(new Date).getMonth()+1,s=a+(r=parseInt(r)<10?"0"+r:r)+"01000000000000",l=a+r+n+"235959595959",i=[],o=[],c=new Date,m=new Date(c.getFullYear(),c.getMonth()-1,0).getDate(),u=1;u<=m;u++)o.push({name:String(u),Fail:0,Success:0});var p="/api/saltReturns/apply/"+s+"/"+l;M.a.get(p,function(e){var t=re.getState().auth.token,a={headers:{"Content-type":"multipart/form-data"}};return t&&(a.headers.Authorization=" Bearer ".concat(t," ")),a}(re.getState())).then((function(a){if(null!==(i=i.concat(a.data))){var n={},r=(i.forEach((function(e){var t=parseInt(e.jid.slice(6,8))-1,a=0;if(Array.isArray(e.return))!0===!0?o[t].Success++:o[t].Fail++;else try{Object.entries(e.return).forEach((function(e,r,s){if(!1===e[1].result&&0===a)throw o[t].Fail++,a=1,n;r===s.length-1&&0===a&&o[t].Success++}))}catch(r){if(r!==n)throw r}})),(new Date).getTime());console.log(r-t,"Time from month")}re.dispatch({type:"CURRENT_MONTH",payload:o}),e.state.data=o,e.forceUpdate()})).catch((function(e){console.log(e,"error in data")}))}},{key:"render",value:function(){var e=this;return s.a.createElement("div",null,s.a.createElement(be.a,{variant:"contained",color:"primary",onClick:function(){e.dataInit()},className:this.props.classes.button,startIcon:s.a.createElement(It.a,null)},"Refresh"),s.a.createElement(ie.b,{width:1220,height:500,data:this.state.data,margin:{top:5,right:20,left:10,bottom:5}},s.a.createElement(ie.d,{strokeDasharray:"3 3"}),s.a.createElement(ie.k,{dataKey:"name"}),s.a.createElement(ie.l,null),s.a.createElement(ie.j,null),s.a.createElement(ie.e,{verticalAlign:"top",wrapperStyle:{lineHeight:"40px"}}),s.a.createElement(ie.h,{y:0,stroke:"#000"}),s.a.createElement(ie.c,{dataKey:"name",height:30,stroke:"#8884d8"}),s.a.createElement(ie.a,{dataKey:"Fail",fill:"#ff6666"}),s.a.createElement(ie.a,{dataKey:"Success",fill:"#82ca9d"})))}}]),a}(r.PureComponent),Rt=Object(N.b)((function(e,t){return{saltReturns:e.saltReturns,date:e.date}}))(Object(me.a)((function(e){return{root:{display:"flex"},button:{margin:e.spacing(1)}}}))(Nt)),Mt=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).dataInit=n.dataInit.bind(Object(m.a)(n)),n.initWithoutInformation=n.initWithoutInformation.bind(Object(m.a)(n)),n.initFirstTime=n.initFirstTime.bind(Object(m.a)(n)),n.state={start:new Date,end:new Date,data:[],flag:!0},n.initWithoutInformation(),n}return Object(c.a)(a,[{key:"initFirstTime",value:function(){var e=[];e.push({name:String("January"),Fail:0,Success:0}),e.push({name:String("February"),Fail:0,Success:0}),e.push({name:String("March"),Fail:0,Success:0}),e.push({name:String("April"),Fail:0,Success:0}),e.push({name:String("May "),Fail:0,Success:0}),e.push({name:String("June  "),Fail:0,Success:0}),e.push({name:String("July  "),Fail:0,Success:0}),e.push({name:String("August "),Fail:0,Success:0}),e.push({name:String("September "),Fail:0,Success:0}),e.push({name:String("October "),Fail:0,Success:0}),e.push({name:String("November  "),Fail:0,Success:0}),e.push({name:String("December "),Fail:0,Success:0}),this.state.data=e}},{key:"initWithoutInformation",value:function(){re.getState().CurrentYear.CurrentYear.length>0?(this.state.data=re.getState().CurrentYear.CurrentYear,this.forceUpdate()):this.dataInit()}},{key:"dataInit",value:function(){var e=this,t=(new Date).getTime(),a=[];a.push({name:String("January"),Fail:0,Success:0}),a.push({name:String("February"),Fail:0,Success:0}),a.push({name:String("March"),Fail:0,Success:0}),a.push({name:String("April"),Fail:0,Success:0}),a.push({name:String("May "),Fail:0,Success:0}),a.push({name:String("June  "),Fail:0,Success:0}),a.push({name:String("July  "),Fail:0,Success:0}),a.push({name:String("August "),Fail:0,Success:0}),a.push({name:String("September "),Fail:0,Success:0}),a.push({name:String("October "),Fail:0,Success:0}),a.push({name:String("November  "),Fail:0,Success:0}),a.push({name:String("December "),Fail:0,Success:0});var n=String((new Date).getFullYear()),r=String(new Date(n,12,0).getDate());r=parseInt(r)<10?"0"+r:r;var s=[],l="/api/saltReturns/apply/"+(n+"0101000000000000")+"/"+(n+"12"+r+"235959595959");M.a.get(l,function(e){var t=re.getState().auth.token,a={headers:{"Content-type":"multipart/form-data"}};return t&&(a.headers.Authorization=" Bearer ".concat(t," ")),a}(re.getState())).then((function(t){if(null!==(s=s.concat(t.data))){var n={};s.forEach((function(e){var t=e.jid.slice(0,4)+"-"+String(parseInt(e.jid.slice(4,6)))+"-"+e.jid.slice(6,8),r=new Date(t).getMonth(),s=0;if(Array.isArray(e.return))!0===!0?a[r].Success++:a[r].Fail++;else try{Object.entries(e.return).forEach((function(e,t,l){if(!1===e[1].result&&0===s)throw a[r].Fail++,s=1,n;t===l.length-1&&0===s&&a[r].Success++}))}catch(l){if(l!==n)throw l}}))}e.state.data=a,re.dispatch({type:"CURRENT_YEAR",payload:a}),e.forceUpdate()})).catch((function(e){console.log(e,"error in data")}));var i=(new Date).getTime();console.log(i-t,"Time from year")}},{key:"render",value:function(){var e=this;return s.a.createElement("div",null,s.a.createElement(be.a,{variant:"contained",color:"primary",onClick:function(){e.dataInit()},className:this.props.classes.button,startIcon:s.a.createElement(It.a,null)},"Refresh"),s.a.createElement(ie.b,{width:1220,height:500,data:this.state.data,margin:{top:5,right:20,left:10,bottom:5}},s.a.createElement(ie.d,{strokeDasharray:"3 3"}),s.a.createElement(ie.k,{dataKey:"name"}),s.a.createElement(ie.l,null),s.a.createElement(ie.j,null),s.a.createElement(ie.e,{verticalAlign:"top",wrapperStyle:{lineHeight:"40px"}}),s.a.createElement(ie.h,{y:0,stroke:"#000"}),s.a.createElement(ie.a,{dataKey:"Fail",fill:"#ff6666"}),s.a.createElement(ie.a,{dataKey:"Success",fill:"#82ca9d"})))}}]),a}(r.PureComponent),xt=Object(N.b)((function(e,t){return{saltReturns:e.saltReturns,date:e.date}}))(Object(me.a)((function(e){return{root:{display:"flex"},button:{margin:e.spacing(1)}}}))(Mt)),Ft=function(){var e=re.getState().auth.token,t={headers:{"Content-type":"multipart/form-data"}};return e&&(t.headers.Authorization=" Bearer ".concat(e," ")),t},Pt=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).initWithoutInformation=n.initWithoutInformation.bind(Object(m.a)(n)),n.dataInitOne=n.dataInitOne.bind(Object(m.a)(n)),n.dataInitTow=n.dataInitTow.bind(Object(m.a)(n)),n.dataInitThree=n.dataInitThree.bind(Object(m.a)(n)),n.getDataFromServer=n.getDataFromServer.bind(Object(m.a)(n)),n.initFirstTime=n.initFirstTime.bind(Object(m.a)(n)),n.state={start:new Date,end:new Date,nameOne:"",nameTow:"",nameThree:"",one:[],tow:[],three:[],flag:!0},n.initWithoutInformation(),n}return Object(c.a)(a,[{key:"initFirstTime",value:function(){for(var e=[],t=new Date,a=new Date(t.getFullYear(),t.getMonth()-2,0).getDate(),n=1;n<=a;n++)e.push({name:String(n),Fail:0,Success:0});this.state.one=e;for(var r=[],s=new Date(t.getFullYear(),t.getMonth()-1,0).getDate(),l=1;l<=s;l++)r.push({name:String(l),Fail:0,Success:0});this.state.tow=r;for(var i=[],o=new Date(t.getFullYear(),t.getMonth(),0).getDate(),c=1;c<=o;c++)i.push({name:String(c),Fail:0,Success:0});this.state.three=i}},{key:"initWithoutInformation",value:function(){re.getState().LastThreeMonths.dataInitOne.length>0?(this.state.one=re.getState().LastThreeMonths.dataInitOne,console.log("this.state.three= store.getState().LastThreeMonths.dataInitOne;"),this.forceUpdate()):(this.dataInitOne(),console.log(" this.dataInitOne();")),re.getState().LastThreeMonths.dataInitTow.length>0?(this.state.tow=re.getState().LastThreeMonths.dataInitTow,console.log("this.state.three= store.getState().LastThreeMonths.dataInitTow;"),this.forceUpdate()):(this.dataInitTow(),console.log(" this.dataInitTow();")),re.getState().LastThreeMonths.dataInitThree.length>0?(this.state.three=re.getState().LastThreeMonths.dataInitThree,this.forceUpdate(),console.log("this.state.three= store.getState().LastThreeMonths.dataInitThree;")):(this.dataInitThree(),console.log(" this.dataInitThree();"))}},{key:"getDataFromServer",value:function(e,t,a){var n=this,r=(new Date).getTime(),s=[],l=new Date;if("LAST_THREE_MONTHS_ONE"===e)for(var i=new Date(l.getFullYear(),l.getMonth()-2,0).getDate(),o=1;o<=i;o++)s.push({name:String(o),Fail:0,Success:0});else if("LAST_THREE_MONTHS_TOW"===e)for(var c=new Date(l.getFullYear(),l.getMonth()-1,0).getDate(),m=1;m<=c;m++)s.push({name:String(m),Fail:0,Success:0});else if("LAST_THREE_MONTHS_THREE"===e)for(var u=new Date(l.getFullYear(),l.getMonth(),0).getDate(),p=1;p<=u;p++)s.push({name:String(p),Fail:0,Success:0});var d=[],h="/api/saltReturns/apply/"+t+"/"+a;console.log("url",h),M.a.get(h,Ft()).then((function(t){if(null!==(d=d.concat(t.data)))d.forEach((function(e){var t=parseInt(e.jid.slice(6,8))-1,a=0;if(Array.isArray(e.return))!0===!0?s[t].Success++:s[t].Fail++;else Object.entries(e.return).map((function(e,n,r){!1===e[1].result&&0===a&&(s[t].Fail++,a=1),n===r.length-1&&0===a&&s[t].Success++}))}));"LAST_THREE_MONTHS_ONE"===e?(re.dispatch({type:"LAST_THREE_MONTHS_ONE",payload:s}),n.state.one=s):"LAST_THREE_MONTHS_TOW"===e?(re.dispatch({type:"LAST_THREE_MONTHS_TOW",payload:s}),n.state.tow=s):"LAST_THREE_MONTHS_THREE"===e&&(re.dispatch({type:"LAST_THREE_MONTHS_THREE",payload:s}),n.state.three=s);var a=(new Date).getTime();console.log(a-r,"time from str"),n.forceUpdate()})).catch((function(e){console.log(e,"error in data")}))}},{key:"dataInitOne",value:function(){var e=String((new Date).getFullYear()),t=String(new Date(e,(new Date).getMonth()-2,1).getFullYear()),a=String(new Date(t,(new Date).getMonth()-2,0).getDate());a=parseInt(a)<10?"0"+a:a;var n=new Date(t,(new Date).getMonth()-2,1).getMonth(),r=t+(n=parseInt(n)<10?"0"+n:n)+"01000000000000",s=t+n+a+"235959595959";this.getDataFromServer("LAST_THREE_MONTHS_ONE",r,s)}},{key:"dataInitTow",value:function(){var e=String((new Date).getFullYear()),t=String(new Date(e,(new Date).getMonth()-2,1).getFullYear()),a=String(new Date(t,(new Date).getMonth()-1,0).getDate());a=parseInt(a)<10?"0"+a:a;var n=new Date(t,(new Date).getMonth()-1,1).getMonth(),r=t+(n=parseInt(n)<10?"0"+n:n)+"01000000000000",s=t+n+a+"235959595959";this.getDataFromServer("LAST_THREE_MONTHS_TOW",r,s)}},{key:"dataInitThree",value:function(){var e=String((new Date).getFullYear()),t=String(new Date(e,(new Date).getMonth()-2,1).getFullYear()),a=String(new Date(t,(new Date).getMonth(),0).getDate());a=parseInt(a)<10?"0"+a:a;var n=new Date(t,(new Date).getMonth(),1).getMonth(),r=t+(n=parseInt(n)<10?"0"+n:n)+"01000000000000",s=t+n+a+"235959595959";this.getDataFromServer("LAST_THREE_MONTHS_THREE",r,s)}},{key:"render",value:function(){var e=this,t=["January","February","March","April","May","June","July","August","September","October","November","December"],a=(new Date).getMonth();return a-1<0&&(a+=12),this.state.nameThree=t[a-1],a-2<0&&(a+=12),this.state.nameTow=t[a-2],a-3<0&&(a+=12),this.state.nameOne=t[a-3],s.a.createElement("div",null,s.a.createElement(be.a,{variant:"contained",color:"primary",onClick:function(){e.dataInitOne(),e.dataInitTow(),e.dataInitThree()},className:this.props.classes.button,startIcon:s.a.createElement(It.a,null)},"Refresh"),s.a.createElement(Ie.a,{className:this.props.classes.root,defaultCollapseIcon:s.a.createElement(Re.a,null),defaultExpandIcon:s.a.createElement(xe.a,null)},s.a.createElement(Fe.a,{nodeId:"1",label:this.state.nameOne},s.a.createElement(ie.b,{width:1170,height:500,data:this.state.one,margin:{top:5,right:20,left:10,bottom:5}},s.a.createElement(ie.d,{strokeDasharray:"3 3"}),s.a.createElement(ie.k,{dataKey:"name"}),s.a.createElement(ie.l,null),s.a.createElement(ie.j,null),s.a.createElement(ie.e,{verticalAlign:"top",wrapperStyle:{lineHeight:"40px"}}),s.a.createElement(ie.h,{y:0,stroke:"#000"}),s.a.createElement(ie.c,{dataKey:"name",height:30,stroke:"#8884d8"}),s.a.createElement(ie.a,{dataKey:"Fail",fill:"#ff6666"}),s.a.createElement(ie.a,{dataKey:"Success",fill:"#82ca9d"}))),s.a.createElement(Fe.a,{nodeId:"2",label:this.state.nameTow},s.a.createElement(ie.b,{width:1170,height:500,data:this.state.tow,margin:{top:5,right:20,left:10,bottom:5}},s.a.createElement(ie.d,{strokeDasharray:"3 3"}),s.a.createElement(ie.k,{dataKey:"name"}),s.a.createElement(ie.l,null),s.a.createElement(ie.j,null),s.a.createElement(ie.e,{verticalAlign:"top",wrapperStyle:{lineHeight:"40px"}}),s.a.createElement(ie.h,{y:0,stroke:"#000"}),s.a.createElement(ie.c,{dataKey:"name",height:30,stroke:"#8884d8"}),s.a.createElement(ie.a,{dataKey:"Fail",fill:"#ff6666"}),s.a.createElement(ie.a,{dataKey:"Success",fill:"#82ca9d"}))),s.a.createElement(Fe.a,{nodeId:"3",label:this.state.nameThree},s.a.createElement(ie.b,{width:1170,height:500,data:this.state.three,margin:{top:5,right:20,left:10,bottom:5}},s.a.createElement(ie.d,{strokeDasharray:"3 3"}),s.a.createElement(ie.k,{dataKey:"name"}),s.a.createElement(ie.l,null),s.a.createElement(ie.j,null),s.a.createElement(ie.e,{verticalAlign:"top",wrapperStyle:{lineHeight:"40px"}}),s.a.createElement(ie.h,{y:0,stroke:"#000"}),s.a.createElement(ie.c,{dataKey:"name",height:30,stroke:"#8884d8"}),s.a.createElement(ie.a,{dataKey:"Fail",fill:"#ff6666"}),s.a.createElement(ie.a,{dataKey:"Success",fill:"#82ca9d"})))))}}]),a}(r.PureComponent),At=Object(N.b)((function(e,t){return{saltReturns:e.saltReturns,date:e.date}}))(Object(me.a)((function(e){return{root:{flexGrow:1,maxWidth:400},button:{margin:e.spacing(1)}}}))(Pt)),Lt=a(918),Wt=a(947),Bt=a(192),Ht=a(549),Ut=a.n(Ht),Yt=a(384),zt=a(306),Gt=a(103),Kt=a.n(Gt),Jt=a(315),qt=a.n(Jt),Vt=a(316),Zt=a.n(Vt),Xt=function(e){var t=e().auth.token,a={headers:{"Content-Type":"application/json"}};return t&&(a.headers.Authorization=" Bearer ".concat(t," ")),a},$t=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var n,r;return Object(o.a)(this,a),(r=t.call(this,e)).handleClose=r.handleClose.bind(Object(m.a)(r)),r.signIn=r.signIn.bind(Object(m.a)(r)),r.handleInputChange=r.handleInputChange.bind(Object(m.a)(r)),r.handleClickShowPassword=r.handleClickShowPassword.bind(Object(m.a)(r)),r.handleMouseDownPassword=r.handleMouseDownPassword.bind(Object(m.a)(r)),r.handleClickShowPasswordReturn=r.handleClickShowPasswordReturn.bind(Object(m.a)(r)),r.handleMouseDownPasswordReturn=r.handleMouseDownPasswordReturn.bind(Object(m.a)(r)),console.log("pppppppppppppppppppp"),r.state=(n={Team:[],expanded:!1,fab:!1,first_name:r.props.first_name,last_name:r.props.last_name,Role:r.props.Role,Email:r.props.Email,Password:"",ReturnPassword:"",showPasswordReturn:"password",showPassword:"password",errPassword:!1,saveCard:!1},Object(d.a)(n,"Team",[]),Object(d.a)(n,"counter",0),Object(d.a)(n,"err_first_name",!1),Object(d.a)(n,"err_last_name",!1),Object(d.a)(n,"err_Role",!1),Object(d.a)(n,"err_Email",!1),Object(d.a)(n,"err_Password",!1),Object(d.a)(n,"no_add_card",!1),n),r}return Object(c.a)(a,[{key:"handleClickShowPassword",value:function(){this.setState({showPassword:"text"})}},{key:"handleMouseDownPassword",value:function(){this.setState({showPassword:"password"})}},{key:"handleClickShowPasswordReturn",value:function(){this.setState({showPasswordReturn:"text"})}},{key:"handleMouseDownPasswordReturn",value:function(){this.setState({showPasswordReturn:"password"})}},{key:"handleInputChange",value:function(e){this.setState(Object(d.a)({},e.target.name,e.target.value))}},{key:"handleClose",value:function(e,t){"clickaway"!==t&&this.setState({errPassword:!1,saveCard:!1})}},{key:"signIn",value:function(e){var t=this;M.a.get("/get_users",Xt(re.getState)).then((function(e){t.setState({Team:e.data})})).catch((function(e){console.log(e)})),e.preventDefault();var a=this.state,n=a.password,r=a.ReturnPassword,s=a.Role,l=a.Email,i=a.first_name,o=a.last_name,c=new RegExp("^(?=.*[a-z])(?=.*[A-Z])(?=.*[!@#$%^&*])(?=.{8,})"),m=new RegExp("[A-Z0-9._%+-]+@[A-Z0-9.-]+.[A-Z]{2,6}"),u=!0;if((!1===c.test(n)||n.length>30)&&(u=!1,this.setState({err_Password:!0}),setTimeout((function(){t.setState({err_Password:!1})}),1e4)),i.length>30&&(u=!1,this.setState({err_first_name:!0}),setTimeout((function(){t.setState({err_first_name:!1})}),6e3)),o.length>30&&(u=!1,this.setState({err_last_name:!0}),setTimeout((function(){t.setState({err_last_name:!1})}),6e3)),s.length>30&&(u=!1,this.setState({err_Role:!0}),setTimeout((function(){t.setState({err_Role:!1})}),6e3)),(l.length>50||!1===m.test(this.state.Email.toUpperCase()))&&(u=!1,this.setState({err_Email:!0}),setTimeout((function(){t.setState({err_Email:!1})}),6e3)),n===r||(this.setState({errPassword:!0}),setTimeout((function(){t.setState({errPassword:!1})}),6e3)),!0===re.getState().fab.details.upDate&&n===r&&!0===u&&this.state.Team.map((function(e){e.first_name===re.getState().fab.details.first_name&&e.last_name===re.getState().fab.details.last_name&&e.Role===re.getState().fab.details.Role&&(e.Email,re.getState().fab.details.Email),re.getState().fab.details.upDate=!1})),n===r&&!0===u){this.setState((function(e){return{fab:!1}}));var p=JSON.stringify({first_name:i,last_name:o,role:s,email:l,password:n});M.a.post("/register",p,Xt(re.getState)).then((function(e){t.state.Team.push({first_name:i,mail:l,role:s,last_name:o}),t.setState({saveCard:!0}),setTimeout((function(){t.setState({saveCard:!1})}),4e3)})).catch((function(e){console.log(e),t.setState({no_add_card:!0}),setTimeout((function(){t.setState({no_add_card:!1})}),4e3)})),this.setState({expanded:!1,fab:!1,first_name:"",last_name:"",Role:"",Email:"",Password:"",ReturnPassword:"",showPasswordReturn:"password",showPassword:"password",errPassword:!1,UnsecuredPassword:!1}),re.dispatch({type:P,payload:!1}),console.log(re.getState(),"form")}}},{key:"render",value:function(){var e,t,a=this;return s.a.createElement("div",{className:this.props.classes.field},s.a.createElement("form",{className:this.props.classes.form,onSubmit:this.signIn},s.a.createElement("div",{className:this.props.classes.input},s.a.createElement(zt.a,{className:this.props.classes.margin,id:"input-with-icon-textfield",label:"First Name",required:!0,fullWidth:!0,name:"first_name",value:this.state.first_name,onChange:this.handleInputChange,InputProps:{startAdornment:s.a.createElement(Yt.a,{position:"start"},s.a.createElement(Kt.a,null))}})),!0===this.state.err_first_name?s.a.createElement("div",{className:this.props.classes.msg},s.a.createElement(ht.a,{onClose:function(){a.setState({err_first_name:!1})},severity:"error"},"The first name must be less than  ",s.a.createElement("strong",null,"30 characters  "))):s.a.createElement("div",null),s.a.createElement("div",{className:this.props.classes.input},s.a.createElement(zt.a,{className:this.props.classes.margin,id:"input-with-icon-textfield",label:"Last Name",fullWidth:!0,name:"last_name",value:this.state.last_name,onChange:this.handleInputChange,InputProps:{startAdornment:s.a.createElement(Yt.a,{position:"start"},s.a.createElement(Kt.a,null))}})),!0===this.state.err_last_name?s.a.createElement("div",{className:this.props.classes.msg},s.a.createElement(ht.a,{onClose:function(){a.setState({err_last_name:!1})},severity:"error"},"The last name must be less than  ",s.a.createElement("strong",null,"30 characters  "))):s.a.createElement("div",null),s.a.createElement("div",{className:this.props.classes.input},s.a.createElement(zt.a,{className:this.props.classes.margin,id:"input-with-icon-textfield",label:"Email",required:!0,fullWidth:!0,name:"Email",value:this.state.Email,onChange:this.handleInputChange,InputProps:{startAdornment:s.a.createElement(Yt.a,{position:"start"},s.a.createElement(Kt.a,null))}})),!0===this.state.err_Email?s.a.createElement("div",{className:this.props.classes.msg},s.a.createElement(ht.a,{onClose:function(){a.setState({err_Email:!1})},severity:"error"},s.a.createElement("strong",null," Invalid mail  "))):s.a.createElement("div",null),s.a.createElement("div",{className:this.props.classes.input},s.a.createElement(zt.a,{className:this.props.classes.margin,id:"input-with-icon-textfield",label:"Role",name:"Role",fullWidth:!0,value:this.state.Role,onChange:this.handleInputChange,InputProps:{startAdornment:s.a.createElement(Yt.a,{position:"start"},s.a.createElement(Kt.a,null))}})),!0===this.state.err_Role?s.a.createElement("div",{className:this.props.classes.msg},s.a.createElement(ht.a,{onClose:function(){a.setState({err_Role:!1})},severity:"error"},"The role name must be less than  ",s.a.createElement("strong",null,"30 characters  "))):s.a.createElement("div",null),s.a.createElement("div",{className:this.props.classes.input},s.a.createElement(zt.a,(e={className:this.props.classes.margin,id:"input-with-icon-textfield",label:"password",required:!0,fullWidth:!0,name:"password"},Object(d.a)(e,"label","Password"),Object(d.a)(e,"type","text"===this.state.showPassword?"text":"password"),Object(d.a)(e,"value",this.state.password),Object(d.a)(e,"onChange",this.handleInputChange),Object(d.a)(e,"InputProps",{startAdornment:s.a.createElement(Yt.a,{position:"start"},s.a.createElement(Kt.a,null)),endAdornment:s.a.createElement(Yt.a,{position:"end"},s.a.createElement(O.a,{"aria-label":"toggle password visibility",onClick:this.handleClickShowPassword,onMouseDown:this.handleMouseDownPassword},"text"===this.state.showPassword?s.a.createElement(qt.a,null):s.a.createElement(Zt.a,null)))}),e))),!0===this.state.err_Password?s.a.createElement("div",{className:this.props.classes.msg},s.a.createElement(ht.a,{onClose:function(){a.setState({err_Password:!1})},severity:"error"},"The password ",s.a.createElement("strong",null,"must "),"  be at least 8 characters long, and include uppercase and lowercase letters, and special characters",s.a.createElement("strong",null,"{ !, @, #, , $,%, , ^ &, , * }","  "))):s.a.createElement("div",null),s.a.createElement("div",{className:this.props.classes.input},s.a.createElement(zt.a,(t={className:this.props.classes.margin,id:"input-with-icon-textfield",label:"password",required:!0,fullWidth:!0,name:"ReturnPassword"},Object(d.a)(t,"label","Repeat Password"),Object(d.a)(t,"type","text"===this.state.showPasswordReturn?"text":"password"),Object(d.a)(t,"value",this.state.ReturnPassword),Object(d.a)(t,"onChange",this.handleInputChange),Object(d.a)(t,"InputProps",{startAdornment:s.a.createElement(Yt.a,{position:"start"},s.a.createElement(Kt.a,null)),endAdornment:s.a.createElement(Yt.a,{position:"end"},s.a.createElement(O.a,{"aria-label":"toggle password visibility",onClick:this.handleClickShowPasswordReturn,onMouseDown:this.handleMouseDownPasswordReturn},"text"===this.state.showPasswordReturn?s.a.createElement(qt.a,null):s.a.createElement(Zt.a,null)))}),t))),!0===this.state.errPassword?s.a.createElement("div",{className:this.props.classes.msg},s.a.createElement(ht.a,{onClose:function(){a.setState({errPassword:!1})},severity:"error"},"Passwords  ",s.a.createElement("strong",null,"unequal   "))):s.a.createElement("div",null),s.a.createElement(be.a,{variant:"contained",color:"primary",type:"submit",size:"small",fullWidth:!0,className:this.props.classes.button,startIcon:s.a.createElement(yt.a,null)},"Save")))}}]),a}(s.a.Component),Qt=Object(me.a)((function(e){return{root:{display:"flex",flexDirection:"row",flexFlow:"row wrap",maxWidth:1300,justifyContent:"space around"},field:{display:"flex",flexDirection:"column",maxWidth:250,justifyContent:"space around",marginTop:e.spacing(-3),marginLeft:e.spacing(57)},input:{paddingTop:e.spacing(2),paddingLeft:e.spacing(-4)},paragraph:{paddingLeft:e.spacing(7.8)},fab:{color:"#fff",border:"none",outline:"none",outlineOffset:"none",marginLeft:e.spacing(4),marginTop:e.spacing(4)},button:{marginTop:e.spacing(6)},form:{width:"100%",marginTop:e.spacing(1)},msg:{width:"100%","& > * + *":{marginTop:e.spacing(2)}}}}))($t),ea=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var n;Object(o.a)(this,a),(n=t.call(this,e)).deleteIcon=n.deleteIcon.bind(Object(m.a)(n)),n.handleClickOpen=n.handleClickOpen.bind(Object(m.a)(n)),n.handleClose=n.handleClose.bind(Object(m.a)(n)),n.edit=n.edit.bind(Object(m.a)(n)),n.state={expanded:!1,UpperCase:"",open:!1,isDelete:!1,form:!1};n.props.first_name.toUpperCase();return""!==n.props.first_name?n.state.UpperCase=n.props.first_name.toUpperCase()[0]:n.state.UpperCase="",n}return Object(c.a)(a,[{key:"handleClose",value:function(){var e=this;this.setState((function(e){return{open:!e.open}}));var t=this.state,a=t.password,n=(t.ReturnPassword,t.Role),r=t.Email,s=t.first_name,l=t.last_name;JSON.stringify({first_name:s,last_name:l,role:n,email:r,password:a});M.a.delete("/delete/"+this.props.id,function(e){var t=e().auth.token,a={headers:{"Content-Type":"application/json"}};return t&&(a.headers.Authorization=" Bearer ".concat(t," ")),a}(re.getState)).then((function(t){e.setState({isDelete:!0})}))}},{key:"handleClickOpen",value:function(){this.setState((function(e){return{open:!e.open}}))}},{key:"deleteIcon",value:function(){}},{key:"edit",value:function(){var e={first_name:this.props.first_name,last_name:this.props.last_name,Role:this.props.role,Email:this.props.mail,upDate:!0};re.dispatch({type:"FAB_WITH_DATA",payload:e})}},{key:"render",value:function(){if(!1===this.state.form)return!1===this.state.isDelete?s.a.createElement(rt.a,{className:this.props.classes.root},s.a.createElement(Lt.a,{avatar:s.a.createElement(Wt.a,{"aria-label":"recipe",className:this.props.classes.avatar},this.state.UpperCase),action:s.a.createElement(O.a,{"aria-label":"share",variant:"outlined",onClick:this.edit,size:"small"},s.a.createElement(Ut.a,null)),title:this.props.first_name+" "+this.props.last_name,subheader:this.props.role}),s.a.createElement(st.a,null,s.a.createElement(y.a,{paragraph:!0,className:this.props.classes.paragraph},"Email:",this.props.mail),s.a.createElement(y.a,{paragraph:!0,className:this.props.classes.paragraph})),s.a.createElement(Pe.a,{disableSpacing:!0},s.a.createElement(O.a,{"aria-label":"share",variant:"outlined",onClick:this.handleClickOpen,color:"secondary"},s.a.createElement(ot.a,null)),s.a.createElement(Ce.a,{open:this.state.open,onClose:this.handleClose,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},s.a.createElement(Te.a,null,s.a.createElement(lt.a,{id:"alert-dialog-description"},"Are you sure you want to delete a user from the system?")),s.a.createElement(je.a,null,s.a.createElement(be.a,{onClick:this.handleClickOpen,color:"primary"},"Cancel"),s.a.createElement(be.a,{onClick:this.handleClose,color:"secondary",autoFocus:!0},"Delete"))))):s.a.createElement("div",null)}}]),a}(s.a.Component),ta=Object(me.a)((function(e){return{root:{minWidth:345,maxWidth:400,margin:e.spacing(2.5)},media:{height:0,paddingTop:"56.25%"},expand:{transform:"rotate(0deg)",marginLeft:"auto",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},expandOpen:{transform:"rotate(180deg)"},avatar:{backgroundColor:Bt.a[500]},paragraph:{paddingLeft:e.spacing(7.8),wordWrap:"break-word"}}}))(ea),aa=a(924),na=a(388),ra=a.n(na),sa=a(550),la=a.n(sa),ia=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).handleExpandClick=n.handleExpandClick.bind(Object(m.a)(n)),n.ClickFab=n.ClickFab.bind(Object(m.a)(n)),n.initTeam=n.initTeam.bind(Object(m.a)(n)),n.state={expanded:!1,fab:!1,first_name:"",last_name:"",Role:"",Email:"",Password:"",ReturnPassword:"",showPasswordReturn:"password",showPassword:"password",errPassword:!1,saveCard:!1,Team:[],counter:0,err_first_name:!1,err_last_name:!1,err_Role:!1,err_Email:!1,err_Password:!1,no_add_card:!1},n.initTeam(),re.dispatch({type:P,payload:!1}),n}return Object(c.a)(a,[{key:"initTeam",value:function(){var e=this;M.a.get("/get_users",function(e){var t=e().auth.token,a={headers:{"Content-Type":"application/json"}};return t&&(a.headers.Authorization=" Bearer ".concat(t," ")),a}(re.getState)).then((function(t){e.setState({Team:t.data})})).catch((function(e){console.log(e)}))}},{key:"handleExpandClick",value:function(){this.setState((function(e){return{expanded:!e.expanded}}))}},{key:"ClickFab",value:function(){this.setState((function(e){return{fab:!e.fab,password:"",first_name:"",lastName:"",Role:"",Email:"",Password:"",ReturnPassword:""}})),re.dispatch({type:P,payload:!0}),this.forceUpdate()}},{key:"componentWillReceiveProps",value:function(e,t){e.fab!==this.props.fab&&this.forceUpdate()}},{key:"render",value:function(){var e=this;return!1===re.getState().fab.fab?s.a.createElement("div",null,s.a.createElement("div",{className:this.props.classes.msg},s.a.createElement(Et.a,{open:this.state.saveCard,autoHideDuration:6e3,onClose:this.handleClose},s.a.createElement(ht.a,{onClose:this.handleClose,severity:"success"},"The system added  ",s.a.createElement("strong",null,"a new staff member   ")))),s.a.createElement("div",{className:this.props.classes.msg},s.a.createElement(Et.a,{open:this.state.no_add_card,autoHideDuration:6e3,onClose:this.handleClose},s.a.createElement(ht.a,{onClose:this.handleClose,severity:"error"},"The system   ",s.a.createElement("strong",null," not added a new staff member   ")))),s.a.createElement("div",{className:this.props.classes.root},this.state.Team.map((function(t,a){if(0!==e.state.Team.length)return s.a.createElement(ta,{arr:a,first_name:t.first_name,last_name:t.last_name,role:t.role,mail:t.email,id:t._id})}))),s.a.createElement(aa.a,{color:"primary","aria-label":"add",className:this.props.classes.fab,onClick:this.ClickFab},s.a.createElement(ra.a,null))):s.a.createElement("div",null,s.a.createElement(be.a,{variant:"contained",color:"primary",onClick:function(){re.dispatch({type:P,payload:!1})},className:this.props.classes.button,startIcon:s.a.createElement(la.a,null)},"back"),s.a.createElement(Qt,{first_name:re.getState().fab.details.first_name,last_name:re.getState().fab.details.last_name,Role:re.getState().fab.details.Role,Email:re.getState().fab.details.Email}))}}]),a}(s.a.Component),oa=Object(N.b)((function(e,t){return{fab:e.fab}}))(Object(me.a)((function(e){return{root:{display:"flex",flexDirection:"row",flexFlow:"row wrap",maxWidth:1300,justifyContent:"space around"},field:{display:"flex",flexDirection:"column",Width:150,maxWidth:150,justifyContent:"space around",marginTop:e.spacing(0),marginLeft:e.spacing(55.5)},input:{paddingTop:e.spacing(2),paddingLeft:e.spacing(-4)},paragraph:{paddingLeft:e.spacing(7.8)},fab:{color:"#fff",border:"none",outline:"none",outlineOffset:"none",marginLeft:e.spacing(4),marginTop:e.spacing(4)},button:{marginTop:e.spacing(6)},form:{width:"100%",marginTop:e.spacing(1)},msg:{width:"100%","& > * + *":{marginTop:e.spacing(2)}}}}))(ia)),ca=a(58),ma=a.n(ca),ua=a(888),pa=a(926),da=a(515),ha=a(927),ga=a(144),fa=a.n(ga),Ea=a(163),ba=a.n(Ea),va=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).handleDrawerOpen=function(){n.setState({open:!0})},n.handleDrawerClose=function(){n.setState({open:!1})},n.SelectMenu=function(e){n.setState({menu:e})},n.handleDrawerOpen=n.handleDrawerOpen.bind(Object(m.a)(n)),n.handleDrawerClose=n.handleDrawerClose.bind(Object(m.a)(n)),n.SelectMenu=n.SelectMenu.bind(Object(m.a)(n)),n.state={open:!0,menu:"Dashboard"},n}return Object(c.a)(a,[{key:"render",value:function(){var e=this,t=Object(g.a)(this.props.classes.paper,this.props.classes.fixedHeight),a=Object(g.a)(this.props.classes.paper,this.props.classes.fixedHeightFirst),n=Object(g.a)(this.props.classes.paper,this.props.classes.fixedHeightTow);return"Dashboard"===this.state.menu?s.a.createElement("div",{className:this.props.classes.root},s.a.createElement(f.a,null),s.a.createElement(b.a,{position:"absolute",className:Object(g.a)(this.props.classes.appBar,this.state.open&&this.props.classes.appBarShift)},s.a.createElement(v.a,{className:this.props.classes.toolbar},s.a.createElement(O.a,{edge:"start",color:"inherit","aria-label":"open drawer",onClick:this.handleDrawerOpen,className:Object(g.a)(this.props.classes.menuButton,this.state.open&&this.props.classes.menuButtonHidden)},s.a.createElement(k.a,null)),s.a.createElement(y.a,{component:"h1",variant:"h6",color:"inherit",noWrap:!0,className:this.props.classes.title},"Dashboard"),s.a.createElement(ut,null))),s.a.createElement(E.a,{variant:"permanent",classes:{paper:Object(g.a)(this.props.classes.drawerPaper,!this.state.open&&this.props.classes.drawerPaperClose)},open:this.state.open},s.a.createElement("div",{className:this.props.classes.toolbarIcon},s.a.createElement(O.a,{onClick:this.handleDrawerClose},s.a.createElement(I.a,null))),s.a.createElement(w.a,null),s.a.createElement(S.a,null,s.a.createElement(ua.a,{button:!0,onClick:function(){e.SelectMenu("Dashboard")}},s.a.createElement(pa.a,null,s.a.createElement(fa.a,null)),s.a.createElement(da.a,{primary:"Dashboard"})),s.a.createElement(ua.a,{button:!0,onClick:function(){e.SelectMenu("Commands")}},s.a.createElement(pa.a,null,s.a.createElement(dt.a,null)),s.a.createElement(da.a,{primary:"Commands"})),s.a.createElement(ua.a,{button:!0,onClick:function(){e.SelectMenu("Team")}},s.a.createElement(pa.a,null,s.a.createElement(ba.a,null)),s.a.createElement(da.a,{primary:"Team"}))),s.a.createElement(w.a,null),s.a.createElement(ha.a,{inset:!0},"Saved reports"),s.a.createElement(S.a,null,s.a.createElement(ua.a,{button:!0,onClick:function(){e.SelectMenu("Current month")}},s.a.createElement(pa.a,null,s.a.createElement(ma.a,null)),s.a.createElement(da.a,{primary:"Current month"})),s.a.createElement(ua.a,{button:!0,onClick:function(){e.SelectMenu("Last three months")}},s.a.createElement(pa.a,null,s.a.createElement(ma.a,null)),s.a.createElement(da.a,{primary:"Last three months"})),s.a.createElement(ua.a,{button:!0,onClick:function(){e.SelectMenu("Current year")}},s.a.createElement(pa.a,null,s.a.createElement(ma.a,null)),s.a.createElement(da.a,{primary:"Current year"})))),s.a.createElement("main",{className:this.props.classes.content},s.a.createElement("div",{className:this.props.classes.appBarSpacer}),s.a.createElement(C.a,{maxWidth:"lg",className:this.props.classes.container},s.a.createElement(j.a,{container:!0,spacing:3},s.a.createElement(j.a,{item:!0,xs:12,md:8,lg:9},s.a.createElement(T.a,{className:t},s.a.createElement(ge,null))),s.a.createElement(j.a,{item:!0,xs:12,md:4,lg:3},s.a.createElement(T.a,{className:n},s.a.createElement(kt,null)),s.a.createElement(T.a,{className:a},s.a.createElement(Oe,null))),s.a.createElement(j.a,{item:!0,xs:20},s.a.createElement("div",{className:this.props.classes.paper},s.a.createElement(nt,null))))))):"Commands"===this.state.menu?s.a.createElement("div",{className:this.props.classes.root},s.a.createElement(f.a,null),s.a.createElement(b.a,{position:"absolute",className:Object(g.a)(this.props.classes.appBar,this.state.open&&this.props.classes.appBarShift)},s.a.createElement(v.a,{className:this.props.classes.toolbar},s.a.createElement(O.a,{edge:"start",color:"inherit","aria-label":"open drawer",onClick:this.handleDrawerOpen,className:Object(g.a)(this.props.classes.menuButton,this.state.open&&this.props.classes.menuButtonHidden)},s.a.createElement(k.a,null)),s.a.createElement(y.a,{component:"h1",variant:"h6",color:"inherit",noWrap:!0,className:this.props.classes.title},"Commands"),s.a.createElement(ut,null))),s.a.createElement(E.a,{variant:"permanent",classes:{paper:Object(g.a)(this.props.classes.drawerPaper,!this.state.open&&this.props.classes.drawerPaperClose)},open:this.state.open},s.a.createElement("div",{className:this.props.classes.toolbarIcon},s.a.createElement(O.a,{onClick:this.handleDrawerClose},s.a.createElement(I.a,null))),s.a.createElement(w.a,null),s.a.createElement(S.a,null,s.a.createElement(ua.a,{button:!0,onClick:function(){e.SelectMenu("Dashboard")}},s.a.createElement(pa.a,null,s.a.createElement(fa.a,null)),s.a.createElement(da.a,{primary:"Dashboard"})),s.a.createElement(ua.a,{button:!0,onClick:function(){e.SelectMenu("Commands")}},s.a.createElement(pa.a,null,s.a.createElement(dt.a,null)),s.a.createElement(da.a,{primary:"Commands"})),s.a.createElement(ua.a,{button:!0,onClick:function(){e.SelectMenu("Team")}},s.a.createElement(pa.a,null,s.a.createElement(ba.a,null)),s.a.createElement(da.a,{primary:"Team"}))),s.a.createElement(w.a,null),s.a.createElement(ha.a,{inset:!0},"Saved reports"),s.a.createElement(S.a,null,s.a.createElement(ua.a,{button:!0,onClick:function(){e.SelectMenu("Current month")}},s.a.createElement(pa.a,null,s.a.createElement(ma.a,null)),s.a.createElement(da.a,{primary:"Current month"})),s.a.createElement(ua.a,{button:!0,onClick:function(){e.SelectMenu("Last three months")}},s.a.createElement(pa.a,null,s.a.createElement(ma.a,null)),s.a.createElement(da.a,{primary:"Last three months"})),s.a.createElement(ua.a,{button:!0,onClick:function(){e.SelectMenu("Current year")}},s.a.createElement(pa.a,null,s.a.createElement(ma.a,null)),s.a.createElement(da.a,{primary:"Current year"})))),s.a.createElement("main",{className:this.props.classes.content},s.a.createElement("div",{className:this.props.classes.appBarSpacer}),s.a.createElement(C.a,{maxWidth:"lg",className:this.props.classes.container},s.a.createElement(j.a,{item:!0,xs:!0},s.a.createElement("div",{className:this.props.classes.table},s.a.createElement(Tt,null)))))):"Current month"===this.state.menu?s.a.createElement("div",{className:this.props.classes.root},s.a.createElement(f.a,null),s.a.createElement(b.a,{position:"absolute",className:Object(g.a)(this.props.classes.appBar,this.state.open&&this.props.classes.appBarShift)},s.a.createElement(v.a,{className:this.props.classes.toolbar},s.a.createElement(O.a,{edge:"start",color:"inherit","aria-label":"open drawer",onClick:this.handleDrawerOpen,className:Object(g.a)(this.props.classes.menuButton,this.state.open&&this.props.classes.menuButtonHidden)},s.a.createElement(k.a,null)),s.a.createElement(y.a,{component:"h1",variant:"h6",color:"inherit",noWrap:!0,className:this.props.classes.title},"Current month"),s.a.createElement(ut,null))),s.a.createElement(E.a,{variant:"permanent",classes:{paper:Object(g.a)(this.props.classes.drawerPaper,!this.state.open&&this.props.classes.drawerPaperClose)},open:this.state.open},s.a.createElement("div",{className:this.props.classes.toolbarIcon},s.a.createElement(O.a,{onClick:this.handleDrawerClose},s.a.createElement(I.a,null))),s.a.createElement(w.a,null),s.a.createElement(S.a,null,s.a.createElement(ua.a,{button:!0,onClick:function(){e.SelectMenu("Dashboard")}},s.a.createElement(pa.a,null,s.a.createElement(fa.a,null)),s.a.createElement(da.a,{primary:"Dashboard"})),s.a.createElement(ua.a,{button:!0,onClick:function(){e.SelectMenu("Commands")}},s.a.createElement(pa.a,null,s.a.createElement(dt.a,null)),s.a.createElement(da.a,{primary:"Commands"})),s.a.createElement(ua.a,{button:!0,onClick:function(){e.SelectMenu("Team")}},s.a.createElement(pa.a,null,s.a.createElement(ba.a,null)),s.a.createElement(da.a,{primary:"Team"}))),s.a.createElement(w.a,null),s.a.createElement(ha.a,{inset:!0},"Saved reports"),s.a.createElement(S.a,null,s.a.createElement(ua.a,{button:!0,onClick:function(){e.SelectMenu("Current month")}},s.a.createElement(pa.a,null,s.a.createElement(ma.a,null)),s.a.createElement(da.a,{primary:"Current month"})),s.a.createElement(ua.a,{button:!0,onClick:function(){e.SelectMenu("Last three months")}},s.a.createElement(pa.a,null,s.a.createElement(ma.a,null)),s.a.createElement(da.a,{primary:"Last three months"})),s.a.createElement(ua.a,{button:!0,onClick:function(){e.SelectMenu("Current year")}},s.a.createElement(pa.a,null,s.a.createElement(ma.a,null)),s.a.createElement(da.a,{primary:"Current year"})))),s.a.createElement("main",{className:this.props.classes.content},s.a.createElement("div",{className:this.props.classes.appBarSpacer}),s.a.createElement(C.a,{maxWidth:"lg",className:this.props.classes.container},s.a.createElement(j.a,{item:!0,xs:!0},s.a.createElement("div",{className:this.props.classes.table},s.a.createElement(Rt,null)))))):"Current year"===this.state.menu?s.a.createElement("div",{className:this.props.classes.root},s.a.createElement(f.a,null),s.a.createElement(b.a,{position:"absolute",className:Object(g.a)(this.props.classes.appBar,this.state.open&&this.props.classes.appBarShift)},s.a.createElement(v.a,{className:this.props.classes.toolbar},s.a.createElement(O.a,{edge:"start",color:"inherit","aria-label":"open drawer",onClick:this.handleDrawerOpen,className:Object(g.a)(this.props.classes.menuButton,this.state.open&&this.props.classes.menuButtonHidden)},s.a.createElement(k.a,null)),s.a.createElement(y.a,{component:"h1",variant:"h6",color:"inherit",noWrap:!0,className:this.props.classes.title},"Current year"),s.a.createElement(ut,null))),s.a.createElement(E.a,{variant:"permanent",classes:{paper:Object(g.a)(this.props.classes.drawerPaper,!this.state.open&&this.props.classes.drawerPaperClose)},open:this.state.open},s.a.createElement("div",{className:this.props.classes.toolbarIcon},s.a.createElement(O.a,{onClick:this.handleDrawerClose},s.a.createElement(I.a,null))),s.a.createElement(w.a,null),s.a.createElement(S.a,null,s.a.createElement(ua.a,{button:!0,onClick:function(){e.SelectMenu("Dashboard")}},s.a.createElement(pa.a,null,s.a.createElement(fa.a,null)),s.a.createElement(da.a,{primary:"Dashboard"})),s.a.createElement(ua.a,{button:!0,onClick:function(){e.SelectMenu("Commands")}},s.a.createElement(pa.a,null,s.a.createElement(dt.a,null)),s.a.createElement(da.a,{primary:"Commands"})),s.a.createElement(ua.a,{button:!0,onClick:function(){e.SelectMenu("Team")}},s.a.createElement(pa.a,null,s.a.createElement(ba.a,null)),s.a.createElement(da.a,{primary:"Team"}))),s.a.createElement(w.a,null),s.a.createElement(ha.a,{inset:!0},"Saved reports"),s.a.createElement(S.a,null,s.a.createElement(ua.a,{button:!0,onClick:function(){e.SelectMenu("Current month")}},s.a.createElement(pa.a,null,s.a.createElement(ma.a,null)),s.a.createElement(da.a,{primary:"Current month"})),s.a.createElement(ua.a,{button:!0,onClick:function(){e.SelectMenu("Last three months")}},s.a.createElement(pa.a,null,s.a.createElement(ma.a,null)),s.a.createElement(da.a,{primary:"Last three months"})),s.a.createElement(ua.a,{button:!0,onClick:function(){e.SelectMenu("Current year")}},s.a.createElement(pa.a,null,s.a.createElement(ma.a,null)),s.a.createElement(da.a,{primary:"Current year"})))),s.a.createElement("main",{className:this.props.classes.content},s.a.createElement("div",{className:this.props.classes.appBarSpacer}),s.a.createElement(C.a,{maxWidth:"lg",className:this.props.classes.container},s.a.createElement(j.a,{item:!0,xs:!0},s.a.createElement("div",{className:this.props.classes.table},s.a.createElement(xt,null)))))):"Last three months"===this.state.menu?s.a.createElement("div",{className:this.props.classes.root},s.a.createElement(f.a,null),s.a.createElement(b.a,{position:"absolute",className:Object(g.a)(this.props.classes.appBar,this.state.open&&this.props.classes.appBarShift)},s.a.createElement(v.a,{className:this.props.classes.toolbar},s.a.createElement(O.a,{edge:"start",color:"inherit","aria-label":"open drawer",onClick:this.handleDrawerOpen,className:Object(g.a)(this.props.classes.menuButton,this.state.open&&this.props.classes.menuButtonHidden)},s.a.createElement(k.a,null)),s.a.createElement(y.a,{component:"h1",variant:"h6",color:"inherit",noWrap:!0,className:this.props.classes.title},"Last three months"),s.a.createElement(ut,null))),s.a.createElement(E.a,{variant:"permanent",classes:{paper:Object(g.a)(this.props.classes.drawerPaper,!this.state.open&&this.props.classes.drawerPaperClose)},open:this.state.open},s.a.createElement("div",{className:this.props.classes.toolbarIcon},s.a.createElement(O.a,{onClick:this.handleDrawerClose},s.a.createElement(I.a,null))),s.a.createElement(w.a,null),s.a.createElement(S.a,null,s.a.createElement(ua.a,{button:!0,onClick:function(){e.SelectMenu("Dashboard")}},s.a.createElement(pa.a,null,s.a.createElement(fa.a,null)),s.a.createElement(da.a,{primary:"Dashboard"})),s.a.createElement(ua.a,{button:!0,onClick:function(){e.SelectMenu("Commands")}},s.a.createElement(pa.a,null,s.a.createElement(dt.a,null)),s.a.createElement(da.a,{primary:"Commands"})),s.a.createElement(ua.a,{button:!0,onClick:function(){e.SelectMenu("Team")}},s.a.createElement(pa.a,null,s.a.createElement(ba.a,null)),s.a.createElement(da.a,{primary:"Team"}))),s.a.createElement(w.a,null),s.a.createElement(ha.a,{inset:!0},"Saved reports"),s.a.createElement(S.a,null,s.a.createElement(ua.a,{button:!0,onClick:function(){e.SelectMenu("Current month")}},s.a.createElement(pa.a,null,s.a.createElement(ma.a,null)),s.a.createElement(da.a,{primary:"Current month"})),s.a.createElement(ua.a,{button:!0,onClick:function(){e.SelectMenu("Last three months")}},s.a.createElement(pa.a,null,s.a.createElement(ma.a,null)),s.a.createElement(da.a,{primary:"Last three months"})),s.a.createElement(ua.a,{button:!0,onClick:function(){e.SelectMenu("Current year")}},s.a.createElement(pa.a,null,s.a.createElement(ma.a,null)),s.a.createElement(da.a,{primary:"Current year"})))),s.a.createElement("main",{className:this.props.classes.content},s.a.createElement("div",{className:this.props.classes.appBarSpacer}),s.a.createElement(C.a,{maxWidth:"lg",className:this.props.classes.container},s.a.createElement(j.a,{item:!0,xs:!0},s.a.createElement("div",{className:this.props.classes.table},s.a.createElement(At,null)))))):"Team"===this.state.menu?s.a.createElement("div",{className:this.props.classes.root},s.a.createElement(f.a,null),s.a.createElement(b.a,{position:"absolute",className:Object(g.a)(this.props.classes.appBar,this.state.open&&this.props.classes.appBarShift)},s.a.createElement(v.a,{className:this.props.classes.toolbar},s.a.createElement(O.a,{edge:"start",color:"inherit","aria-label":"open drawer",onClick:this.handleDrawerOpen,className:Object(g.a)(this.props.classes.menuButton,this.state.open&&this.props.classes.menuButtonHidden)},s.a.createElement(k.a,null)),s.a.createElement(y.a,{component:"h1",variant:"h6",color:"inherit",noWrap:!0,className:this.props.classes.title},"Team"),s.a.createElement(ut,null))),s.a.createElement(E.a,{variant:"permanent",classes:{paper:Object(g.a)(this.props.classes.drawerPaper,!this.state.open&&this.props.classes.drawerPaperClose)},open:this.state.open},s.a.createElement("div",{className:this.props.classes.toolbarIcon},s.a.createElement(O.a,{onClick:this.handleDrawerClose},s.a.createElement(I.a,null))),s.a.createElement(w.a,null),s.a.createElement(S.a,null,s.a.createElement(ua.a,{button:!0,onClick:function(){e.SelectMenu("Dashboard")}},s.a.createElement(pa.a,null,s.a.createElement(fa.a,null)),s.a.createElement(da.a,{primary:"Dashboard"})),s.a.createElement(ua.a,{button:!0,onClick:function(){e.SelectMenu("Commands")}},s.a.createElement(pa.a,null,s.a.createElement(dt.a,null)),s.a.createElement(da.a,{primary:"Commands"})),s.a.createElement(ua.a,{button:!0,onClick:function(){e.SelectMenu("Team")}},s.a.createElement(pa.a,null,s.a.createElement(ba.a,null)),s.a.createElement(da.a,{primary:"Team"}))),s.a.createElement(w.a,null),s.a.createElement(ha.a,{inset:!0},"Saved reports"),s.a.createElement(S.a,null,s.a.createElement(ua.a,{button:!0,onClick:function(){e.SelectMenu("Current month")}},s.a.createElement(pa.a,null,s.a.createElement(ma.a,null)),s.a.createElement(da.a,{primary:"Current month"})),s.a.createElement(ua.a,{button:!0,onClick:function(){e.SelectMenu("Last three months")}},s.a.createElement(pa.a,null,s.a.createElement(ma.a,null)),s.a.createElement(da.a,{primary:"Last three months"})),s.a.createElement(ua.a,{button:!0,onClick:function(){e.SelectMenu("Current year")}},s.a.createElement(pa.a,null,s.a.createElement(ma.a,null)),s.a.createElement(da.a,{primary:"Current year"})))),s.a.createElement("main",{className:this.props.classes.content},s.a.createElement("div",{className:this.props.classes.appBarSpacer}),s.a.createElement(C.a,{maxWidth:"lg",className:this.props.classes.container},s.a.createElement(j.a,{item:!0,xs:!0},s.a.createElement("div",{className:this.props.classes.table},s.a.createElement(oa,null)))))):void 0}}]),a}(s.a.Component),Sa=Object(me.a)((function(e){return{root:{display:"flex"},toolbar:{paddingRight:24},toolbarIcon:Object(h.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px"},e.mixins.toolbar),appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36},menuButtonHidden:{display:"none"},title:{flexGrow:1},drawerPaper:{position:"relative",whiteSpace:"nowrap",width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerPaperClose:Object(d.a)({overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:e.spacing(7)},e.breakpoints.up("sm"),{width:e.spacing(9)}),appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"100vh",overflow:"auto"},container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},paper:{paddingRight:e.spacing(3.5),paddingTop:e.spacing(2),paddingLeft:e.spacing(1),paddingBottom:e.spacing(3),display:"flex",overflow:"auto",flexDirection:"column"},table:{paddingRight:3.5,paddingTop:1,paddingLeft:1,paddingBottom:3,display:"flex",overflow:"auto",flexDirection:"column"},fixedHeight:{height:363},fixedHeightFirst:{marginTop:e.spacing(2),height:235},fixedHeightTow:{height:113},Logout:{},AccountCircleIcon:{},NotificationsIcon:{display:"flex",justifyContent:"space-between",width:43}}}))(va);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(873);var ya=a(552),wa=a(389),Oa=a(140),Ca=a(522),ja=a(526),Ta=a(925),_a=a(201),ka=a.n(_a),Da=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).resetPass=n.resetPass.bind(Object(m.a)(n)),n.state={email:{value:null,error:!1,helperText:null},msg:null},n}return Object(c.a)(a,[{key:"resetPass",value:function(e){var t=this;if(e.preventDefault(),""===this.emailInput.value)this.setState({email:{value:this.emailInput.value,error:!0,helperText:"Your email must be specified."}}),this.emailInput.focus();else{var a=this.emailInput.value,n=JSON.stringify({email:a});M.a.post("/forgot_password",n,{headers:{"Content-Type":"application/json"}}).then((function(e){t.setState({msg:e.message})})).catch((function(e){t.setState({msg:e.message})}))}}},{key:"render",value:function(){var e,t=this,a=this.props.classes;return s.a.createElement(C.a,{component:"main",maxWidth:"xs"},s.a.createElement(f.a,null),s.a.createElement("div",{className:a.paper},s.a.createElement(Wt.a,{className:a.avatar},s.a.createElement(ka.a,null)),s.a.createElement(y.a,{component:"h1",variant:"h5"},"Enter Your Email Address"),s.a.createElement("form",{className:a.form,onSubmit:this.resetPass},s.a.createElement(zt.a,(e={variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0},Object(d.a)(e,"required",!0),Object(d.a)(e,"inputRef",(function(e){return t.emailInput=e})),Object(d.a)(e,"error",this.state.email.error),Object(d.a)(e,"helperText",this.state.email.helperText),e)),s.a.createElement(be.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:a.submit},"Reset Password"),this.state.msg?s.a.createElement(ht.a,{severity:"error"},this.state.msg):null,s.a.createElement(j.a,{item:!0,xs:!0},s.a.createElement(Ta.a,{onClick:this.props.handler,variant:"body2"},"Back to login")))))}}]),a}(s.a.Component),Ia=Object(N.b)()(Object(me.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}))(Da)),Na=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).updatePass=n.updatePass.bind(Object(m.a)(n)),n.state={email:{value:null,error:!1,helperText:null},old_password1:{value:null,error:!1,helperText:null},old_password2:{value:null,error:!1,helperText:null},new_password:{value:null,error:!1,helperText:null},msg:null},n}return Object(c.a)(a,[{key:"componentDidUpdate",value:function(e){var t=this.props.error;t!==e.error&&("Weak Password"===t.id?this.setState({msg:t.msg.msg}):this.setState({msg:null}))}},{key:"updatePass",value:function(e){var t=this;if(e.preventDefault(),""===this.emailInput.value)this.setState({email:{value:this.emailInput.value,error:!0,helperText:"Your email must be specified."}}),this.emailInput.focus();else{var a={email:this.emailInput.value,old_password1:this.old_password1.value,old_password2:this.old_password2.value,new_password:this.new_password.value},n=JSON.stringify({user:a});M.a.post("/forgot_password",n,{headers:{"Content-Type":"application/json"}}).then((function(e){t.setState({msg:e.message})})).catch((function(e){t.setState({msg:e.message})}))}}},{key:"render",value:function(){var e,t=this,a=this.props.classes;return s.a.createElement(C.a,{component:"main",maxWidth:"xs"},s.a.createElement(f.a,null),s.a.createElement("div",{className:a.paper},s.a.createElement(Wt.a,{className:a.avatar},s.a.createElement(ka.a,null)),s.a.createElement(y.a,{component:"h1",variant:"h5"},"Update Password"),s.a.createElement("form",{className:a.form,onSubmit:this.signIn},s.a.createElement(zt.a,(e={variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0},Object(d.a)(e,"required",!0),Object(d.a)(e,"inputRef",(function(e){return t.emailInput=e})),Object(d.a)(e,"error",this.state.email.error),Object(d.a)(e,"helperText",this.state.email.helperText),e)),s.a.createElement(zt.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password1",label:"Password1",type:"password1",id:"password1",autoComplete:"current-password",inputRef:function(e){return t.passwordInput=e}}),s.a.createElement(zt.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password2",label:"Password2",type:"password2",id:"password2",autoComplete:"current-password",inputRef:function(e){return t.passwordInput=e}}),s.a.createElement(be.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:a.submit},"Update Password"),this.state.msg?s.a.createElement(ht.a,{severity:"error"},this.state.msg):null,s.a.createElement(j.a,{item:!0,xs:!0},s.a.createElement(Ta.a,{onClick:this.props.handler,variant:"body2"},"Back to login")))))}}]),a}(s.a.Component),Ra=Object(N.b)()(Object(me.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}))(Na)),Ma=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).signIn=n.signIn.bind(Object(m.a)(n)),n.handler=n.handler.bind(Object(m.a)(n)),n.state={email:{value:null,error:!1,helperText:null},password:{value:null,error:!1,helperText:null},msg:null},n}return Object(c.a)(a,[{key:"componentDidUpdate",value:function(e){var t=this.props,a=t.error;t.isAuthenticated;a!==e.error&&("LOGIN_FAIL"===a.id?(this.setState({msg:a.msg}),setTimeout(function(){this.setState({msg:null})}.bind(this),3e3)):this.setState({msg:null}))}},{key:"handler",value:function(){this.setState({screen:"login"})}},{key:"signIn",value:function(e){if(e.preventDefault(),""===this.emailInput.value)this.setState({email:{value:this.emailInput.value,error:!0,helperText:"Your email must be specified."}}),this.emailInput.focus();else{var t={email:this.emailInput.value,password:this.passwordInput.value},a=this.props.login(t);console.log(a),this.props.history.push("/")}}},{key:"render",value:function(){var e,t=this;if("forgot"===this.state.screen)return s.a.createElement(Ia,{handler:this.handler});if("change"===this.state.screen)return s.a.createElement(Ra,{handler:this.handler});var a=this.props.classes;return s.a.createElement(C.a,{component:"main",maxWidth:"xs"},s.a.createElement(f.a,null),s.a.createElement("div",{className:a.paper},s.a.createElement(Wt.a,{className:a.avatar},s.a.createElement(ka.a,null)),s.a.createElement(y.a,{component:"h1",variant:"h5"},"Sign in"),s.a.createElement("form",{className:a.form,onSubmit:this.signIn},s.a.createElement(zt.a,(e={variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0},Object(d.a)(e,"required",!0),Object(d.a)(e,"inputRef",(function(e){return t.emailInput=e})),Object(d.a)(e,"error",this.state.email.error),Object(d.a)(e,"helperText",this.state.email.helperText),e)),s.a.createElement(zt.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",inputRef:function(e){return t.passwordInput=e}}),s.a.createElement(Ca.a,{control:s.a.createElement(ja.a,{value:"remember",color:"primary"}),label:"Remember me"}),s.a.createElement(be.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:a.submit},"Sign In"),this.state.msg?s.a.createElement(ht.a,{severity:"error"},this.state.msg):null,s.a.createElement(j.a,{container:!0},s.a.createElement(j.a,{item:!0,xs:!0},s.a.createElement(Ta.a,{onClick:function(){return t.setState({screen:"forgot"})},variant:"body2"},"Reset Your Password")),s.a.createElement(j.a,{item:!0},s.a.createElement(Ta.a,{onClick:function(){return t.setState({screen:"change"})},variant:"body2"},"Do you want to update your password?"))))))}}]),a}(s.a.Component),xa=Object(N.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated,error:e.error}}),{login:Q,clearErrors:function(){return{type:"CLEAR_ERRORS"}}})(Object(me.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}))(Ma)),Fa=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return s.a.createElement(wa.a,null,s.a.createElement("div",null,s.a.createElement(Pa,{exact:!0,path:"/",component:Sa,authed:this.props.auth.isAuthenticated}),s.a.createElement(Oa.a,{exact:!0,path:"/login",component:xa})))}}]),a}(r.Component),Pa=function(e){var t=e.component,a=e.authed,n=Object(ya.a)(e,["component","authed"]);return s.a.createElement(Oa.a,Object.assign({},n,{render:function(e){return a?s.a.createElement(t,e):s.a.createElement(xa,e)}}))},Aa=Object(N.b)((function(e){return{auth:e.auth}}),n)(Fa),La=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){return Object(o.a)(this,a),t.call(this,e)}return Object(c.a)(a,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return s.a.createElement(Aa,null)}}]),a}(r.Component),Wa=Object(N.b)((function(e){return{auth:e.auth}}),null)(La);i.a.render(s.a.createElement(N.a,{store:re},s.a.createElement(Wa,null)),document.getElementById("root"))}},[[586,1,2]]]);
//# sourceMappingURL=main.01b1c7f4.chunk.js.map