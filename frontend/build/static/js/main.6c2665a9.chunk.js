(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{582:function(e,t,a){e.exports=a(871)},869:function(e,t,a){},871:function(e,t,a){"use strict";a.r(t);var n={};a.r(n),a.d(n,"loadUser",(function(){return Y})),a.d(n,"register",(function(){return V})),a.d(n,"login",(function(){return K})),a.d(n,"logout",(function(){return Z})),a.d(n,"tokenConfig",(function(){return X}));var s=a(0),r=a.n(s),i=a(22),l=a.n(i),o=a(30),c=a(31),u=a(20),m=a(34),d=a(33),p=a(24),h=a(131),f=a(3),g=a(920),E=a(88),b=a(912),v=a(373),S=a(882),w=a(51),O=a(923),j=a(222),y=a(913),C=a(919),k=a(908),_=a(135),R=a(194),N=a.n(R),T=a(310),x=a.n(T),D=a(309),I=a.n(D),F=a(46),M=a(42),P=a(47),L=a.n(P),A=a(523),B={msg:{},status:null,id:null},W={token:null,isAuthenticated:null,isLoading:!1,user:null},U={start:new Date,end:new Date},G={saltReturns:null},H={saveMinion:[]},z={listMinions:[]},q=Object(F.c)({saltReturns:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SALT_RETURNS":return{saltReturns:t.payload};default:return e}},date:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"DATE_SELECT":return{start:t.payload.start,end:t.payload.end};default:return e}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_LOADING":return Object(h.a)({},e,{isLoading:!0});case"USER_LOADED":return Object(h.a)({},e,{isAuthenticated:!0,isLoading:!1,user:t.payload});case"LOGIN_SUCCESS":return localStorage.setItem("token",t.payload.access_token),{token:t.payload.access_token,isAuthenticated:!0,isLoading:!1};case"AUTH_ERROR":case"LOGIN_FAIL":case"LOGOUT_SUCCESS":case"REGISTER_FAIL":return localStorage.removeItem("token"),Object(h.a)({},e,{token:null,user:null,isAuthenticated:!1,isLoading:!1});default:return e}},error:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_ERRORS":return{msg:t.payload.msg,status:t.payload.status,id:t.payload.id};case"CLEAR_ERRORS":return{msg:{},status:null,id:null};default:return e}},saveMinion:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SAVE_MINION":return{saveMinion:t.payload};default:return e}},listMinions:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z,t=arguments.length>1?arguments[1]:void 0;switch(console.log(t.payload,"action.payload"),t.type){case"LIST_MINIONS":return{listMinions:t.payload};default:return e}}}),J=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:"GET_ERRORS",payload:{msg:e,status:t,id:a}}},Y=function(){return function(e,t){e({type:"USER_LOADING"}),L.a.get("/auth/user",X(t)).then((function(t){return e({type:"USER_LOADED",payload:t.data})})).catch((function(t){t.response&&(e(J(t.response.data,t.response.status)),e({type:"AUTH_ERROR"}))}))}},V=function(e){var t=e.first_name,a=e.last_name,n=e.email,s=e.password;return function(e){var r=JSON.stringify({first_name:t,last_name:a,email:n,password:s});L.a.post("/register",r,{headers:{"Content-Type":"application/json"}}).then((function(t){return e({type:"REGISTER_SUCCESS",payload:t.data})})).catch((function(t){console.log(t),e(J(t.response.data,t.response.status,"REGISTER_FAIL")),e({type:"REGISTER_FAIL"})}))}},K=function(e){var t=e.email,a=e.password;return function(e){var n=JSON.stringify({email:t,password:a});L.a.post("/auth",n,{headers:{"Content-Type":"application/json"}}).then((function(t){return e({type:"LOGIN_SUCCESS",payload:t.data})})).catch((function(t){e(J(t.response.data.message,t.response.status,"LOGIN_FAIL")),e({type:"LOGIN_FAIL"})}))}},Z=function(){return function(e){e({type:"LOGOUT_SUCCESS"})}},X=function(e){var t=e().auth.token,a={headers:{"Content-type":"application/json"}};return t&&(a.headers.Authorization=" Bearer ".concat(t," ")),a},$=[A.a],Q=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||F.d,ee=Object(F.e)(q,{},Q(F.a.apply(void 0,$))),te=function(){return function(e,t){(new Date).toDateString();var a=String(parseInt(ee.getState().date.start.getMonth()));a=parseInt(a)<10?"0"+a:a;for(var n=String(ee.getState().date.start.getFullYear()),s=new Date(n,a,ee.getState().date.start.getDate()),r=ee.getState().date.end,i=[],l=s;l<=r;l.setFullYear(l.getFullYear()+1)){var o="/api/saltReturns/apply/"+l.getFullYear();L.a.get(o,ae(t)).then((function(e){i=i.concat(e.data),ee.dispatch({type:"SALT_RETURNS",payload:i})})).catch((function(e){console.log(e,"error in data")}))}}},ae=function(e){var t=e().auth.token,a={headers:{"Content-type":"multipart/form-data"}};return t&&(a.headers.Authorization=" Bearer ".concat(t," ")),a},ne=a(122);function se(e){return r.a.createElement(w.a,{component:"h2",variant:"h6",color:"primary",gutterBottom:!0},e.children)}function re(e,t,a,n){return{time:e,Success:t,Fail:a,amount:n}}re("00:00",0,0,0),re("03:00",0,0,0),re("06:00",0,0,0),re("09:00",0,0,0),re("12:00",0,0,0),re("15:00",0,0,0),re("18:00",0,0,0),re("21:00",0,0,0),re("24:00",0,0,0);var ie=function(e){},le=function(e){var t=parseInt(e.slice(8,10));return t<=3?"03:00":t<=6?"06:00":t<=9?"09:00":t<=12?"12:00":t<=15?"15:00":t<=18?"18:00":t<=21?"21:00":t<=24?"24:00":"00:00"},oe=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).InitData=n.InitData.bind(Object(u.a)(n)),n.state={start:new Date,end:new Date,data:[{time:"00:00",Success:0,Fail:0,amount:0},{time:"03:00",Success:0,Fail:0,amount:0},{time:"06:00",Success:0,Fail:0,amount:0},{time:"09:00",Success:0,Fail:0,amount:0},{time:"12:00",Success:0,Fail:0,amount:0},{time:"15:00",Success:0,Fail:0,amount:0},{time:"18:00",Success:0,Fail:0,amount:0},{time:"21:00",Success:0,Fail:0,amount:0},{time:"24:00",Success:0,Fail:0,amount:0}]},n}return Object(c.a)(a,[{key:"InitData",value:function(){}},{key:"componentWillReceiveProps",value:function(e){if(this.props.date.start.toLocaleDateString()!==e.date.start.toLocaleDateString()||this.props.date.end.toLocaleDateString()!==e.date.end.toLocaleDateString()){this.setState({start:e.date.start,end:e.date.end});ee.getState().date.start;var t=ee.getState().date.end,a=[{time:"00:00",Succeeded:0,Fail:0,amount:0},{time:"03:00",Succeeded:0,Fail:0,amount:0},{time:"06:00",Succeeded:0,Fail:0,amount:0},{time:"09:00",Succeeded:0,Fail:0,amount:0},{time:"12:00",Succeeded:0,Fail:0,amount:0},{time:"15:00",Succeeded:0,Fail:0,amount:0},{time:"18:00",Succeeded:0,Fail:0,amount:0},{time:"21:00",Succeeded:0,Fail:0,amount:0},{time:"24:00",Succeeded:0,Fail:0,amount:0}];null!==e.saltReturns.saltReturns&&e.saltReturns.saltReturns.filter((function(e){return"state.apply"===e.full_ret.fun})).filter((function(e){var a=e.jid.slice(0,4)+"-"+String(parseInt(e.jid.slice(4,6)))+"-"+e.jid.slice(6,8),n=new Date(a),s=new Date(t.getTime()),r=new Date(t.getTime());if(s.setHours(0,0,0),r.setHours(23,59,59),n.getTime()>=s.getTime()&&n.getTime()<=r.getTime())return e})).forEach((function(e){"03:00"===le(e.full_ret.jid)&&(!0===e.full_ret.success?a[1].Success++:a[1].Fail++),"06:00"===le(e.full_ret.jid)&&(!0===e.full_ret.success?a[2].Success++:a[2].Fail++),"09:00"===le(e.full_ret.jid)&&(!0===e.full_ret.success?a[3].Success++:a[3].Fail++),"12:00"===le(e.full_ret.jid)&&(!0===e.full_ret.success?a[4].Success++:a[4].Fail++),"15:00"===le(e.full_ret.jid)&&(!0===e.full_ret.success?a[5].Success++:a[5].Fail++),"18:00"===le(e.full_ret.jid)&&(!0===e.full_ret.success?a[6].Success++:a[6].Fail++),"21:00"===le(e.full_ret.jid)&&(!0===e.full_ret.success?a[7].Success++:a[7].Fail++),"24:00"===le(e.full_ret.jid)&&(!0===e.full_ret.success?a[8].Success++:a[8].Fail++)})),this.state.data=a}var n=ee.getState().date.start,s=ee.getState().date.end;if(n.getTime()>s.getTime()){this.state.data=[{time:"00:00",Succeeded:0,Fail:0,amount:0},{time:"03:00",Succeeded:0,Fail:0,amount:0},{time:"06:00",Succeeded:0,Fail:0,amount:0},{time:"09:00",Succeeded:0,Fail:0,amount:0},{time:"12:00",Succeeded:0,Fail:0,amount:0},{time:"15:00",Succeeded:0,Fail:0,amount:0},{time:"18:00",Succeeded:0,Fail:0,amount:0},{time:"21:00",Succeeded:0,Fail:0,amount:0},{time:"24:00",Succeeded:0,Fail:0,amount:0}]}}},{key:"componentWillUpdate",value:function(){ee.getState().date.start;var e=ee.getState().date.end,t=[{time:"00:00",Success:0,Fail:0,amount:0},{time:"03:00",Success:0,Fail:0,amount:0},{time:"06:00",Success:0,Fail:0,amount:0},{time:"09:00",Success:0,Fail:0,amount:0},{time:"12:00",Success:0,Fail:0,amount:0},{time:"15:00",Success:0,Fail:0,amount:0},{time:"18:00",Success:0,Fail:0,amount:0},{time:"21:00",Success:0,Fail:0,amount:0},{time:"24:00",Success:0,Fail:0,amount:0}];null!==ee.getState().saltReturns.saltReturns&&ee.getState().saltReturns.saltReturns.filter((function(e){return"state.apply"===e.full_ret.fun})).filter((function(t){var a=t.jid.slice(0,4)+"-"+String(parseInt(t.jid.slice(4,6)))+"-"+t.jid.slice(6,8),n=new Date(a),s=new Date(e.getTime()),r=new Date(e.getTime());if(s.setHours(0,0,0),r.setHours(23,59,59),n.getTime()>=s.getTime()&&n.getTime()<=r.getTime())return t})).forEach((function(e){"03:00"===le(e.full_ret.jid)&&(!0===e.full_ret.success?t[1].Success++:t[1].Fail++),"06:00"===le(e.full_ret.jid)&&(!0===e.full_ret.success?t[2].Success++:t[2].Fail++),"09:00"===le(e.full_ret.jid)&&(!0===e.full_ret.success?t[3].Success++:t[3].Fail++),"12:00"===le(e.full_ret.jid)&&(!0===e.full_ret.success?t[4].Success++:t[4].Fail++),"15:00"===le(e.full_ret.jid)&&(!0===e.full_ret.success?t[5].Success++:t[5].Fail++),"18:00"===le(e.full_ret.jid)&&(!0===e.full_ret.success?t[6].Success++:t[6].Fail++),"21:00"===le(e.full_ret.jid)&&(!0===e.full_ret.success?t[7].Success++:t[7].Fail++),"24:00"===le(e.full_ret.jid)&&(!0===e.full_ret.success?t[8].Success++:t[8].Fail++)})),this.state.data=t;var a=ee.getState().date.start,n=ee.getState().date.end;if(a.getTime()>n.getTime()){this.state.data=[{time:"00:00",Succeeded:0,Fail:0,amount:0},{time:"03:00",Succeeded:0,Fail:0,amount:0},{time:"06:00",Succeeded:0,Fail:0,amount:0},{time:"09:00",Succeeded:0,Fail:0,amount:0},{time:"12:00",Succeeded:0,Fail:0,amount:0},{time:"15:00",Succeeded:0,Fail:0,amount:0},{time:"18:00",Succeeded:0,Fail:0,amount:0},{time:"21:00",Succeeded:0,Fail:0,amount:0},{time:"24:00",Succeeded:0,Fail:0,amount:0}]}}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(se,{style:{paddingLeft:5}}," ",this.state.end.toLocaleDateString()),r.a.createElement(ne.d,null,r.a.createElement(ne.c,{onClick:ie,data:this.state.data,margin:{top:16,right:16,bottom:0,left:24}},r.a.createElement(ne.f,{dataKey:"time"}),r.a.createElement(ne.g,null),r.a.createElement(ne.e,null),r.a.createElement(ne.a,null),r.a.createElement(ne.b,{type:"monotone",dataKey:"Fail",stroke:"#ff6666",onClick:ie}),r.a.createElement(ne.b,{type:"monotone",dataKey:"Success",stroke:"#82ca9d",onClick:ie}))))}}]),a}(r.a.PureComponent);var ce=Object(M.b)((function(e){return{saltReturns:e.saltReturns,date:e.date}}))(oe),ue=a(377),me=a.n(ue),de=a(136),pe=a(280),he=a(35),fe=a(360),ge=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).handleDateChangeStart=n.handleDateChangeStart.bind(Object(u.a)(n)),n.handleDateChangeEnd=n.handleDateChangeEnd.bind(Object(u.a)(n)),n.dateIsChanged=n.dateIsChanged.bind(Object(u.a)(n)),n.state={start:n.props.date.start,end:n.props.date.end,date:null},n}return Object(c.a)(a,[{key:"handleDateChangeStart",value:function(e){this.setState({booleanStart:!0,start:e})}},{key:"handleDateChangeEnd",value:function(e){this.setState({booleanEnd:!0,end:e})}},{key:"dateIsChanged",value:function(){var e=this.state.start,t=this.state.end;ee.dispatch({type:"DATE_SELECT",payload:{start:e,end:t}}),ee.dispatch(te())}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(w.a,{component:"p",variant:"h4"},r.a.createElement(he.a,{utils:pe.default},r.a.createElement(k.a,{container:!0,justify:"space-around"},r.a.createElement(fe.b,{margin:"normal",id:"date-picker-dialog",label:"Start Date",format:"dd/MM/yyyy",value:this.state.start,onChange:function(t){e.handleDateChangeStart(t)},KeyboardButtonProps:{"aria-label":"change date"}}),r.a.createElement(fe.b,{margin:"normal",id:"date-picker-dialog",label:"End Date",format:"dd/MM/yyyy",value:this.state.end,onChange:function(t){e.handleDateChangeEnd(t)},KeyboardButtonProps:{"aria-label":"change date"}}),r.a.createElement(w.a,{style:{flex:1,paddingTop:15}},r.a.createElement(de.a,{variant:"outlined",color:"primary",onClick:this.dateIsChanged,endIcon:r.a.createElement(me.a,null,"Search")},"Search"))))))}}]),a}(r.a.Component);var Ee=Object(M.b)((function(e,t){return{date:e.date}}))(ge),be=a(873),ve=a(876),Se=a(875),we=a(922),Oe=a(299),je=a.n(Oe),ye=a(916),Ce=a(928),ke=a(929),_e=a(930),Re=a(931),Ne=a(932),Te=a(933),xe=a(934),De=a(935),Ie=a(936),Fe=a(937),Me=a(938),Pe=a(939),Le=a(940),Ae=a(941),Be=function(e){var t=e.slice(8,10),a=e.slice(10,12);return String(t)+":"+String(a)},We=function(e){var t=e.slice(0,4),a=String(parseInt(e.slice(4,6))),n=e.slice(6,8);return String(n)+"/"+String(a)+"/"+String(t)},Ue={Add:Object(s.forwardRef)((function(e,t){return r.a.createElement(Ce.a,Object.assign({},e,{ref:t}))})),Check:Object(s.forwardRef)((function(e,t){return r.a.createElement(ke.a,Object.assign({},e,{ref:t}))})),Clear:Object(s.forwardRef)((function(e,t){return r.a.createElement(_e.a,Object.assign({},e,{ref:t}))})),Delete:Object(s.forwardRef)((function(e,t){return r.a.createElement(Re.a,Object.assign({},e,{ref:t}))})),DetailPanel:Object(s.forwardRef)((function(e,t){return r.a.createElement(Ne.a,Object.assign({},e,{ref:t}))})),Edit:Object(s.forwardRef)((function(e,t){return r.a.createElement(Re.a,Object.assign({},e,{ref:t}))})),Export:Object(s.forwardRef)((function(e,t){return r.a.createElement(Te.a,Object.assign({},e,{ref:t}))})),Filter:Object(s.forwardRef)((function(e,t){return r.a.createElement(xe.a,Object.assign({},e,{ref:t}))})),FirstPage:Object(s.forwardRef)((function(e,t){return r.a.createElement(De.a,Object.assign({},e,{ref:t}))})),LastPage:Object(s.forwardRef)((function(e,t){return r.a.createElement(Ie.a,Object.assign({},e,{ref:t}))})),NextPage:Object(s.forwardRef)((function(e,t){return r.a.createElement(Ne.a,Object.assign({},e,{ref:t}))})),PreviousPage:Object(s.forwardRef)((function(e,t){return r.a.createElement(Fe.a,Object.assign({},e,{ref:t}))})),ResetSearch:Object(s.forwardRef)((function(e,t){return r.a.createElement(_e.a,Object.assign({},e,{ref:t}))})),Search:Object(s.forwardRef)((function(e,t){return r.a.createElement(Me.a,Object.assign({},e,{ref:t}))})),SortArrow:Object(s.forwardRef)((function(e,t){return r.a.createElement(Pe.a,Object.assign({},e,{ref:t}))})),ThirdStateCheck:Object(s.forwardRef)((function(e,t){return r.a.createElement(Le.a,Object.assign({},e,{ref:t}))})),ViewColumn:Object(s.forwardRef)((function(e,t){return r.a.createElement(Ae.a,Object.assign({},e,{ref:t}))}))},Ge=[{title:"status",field:"status",cellStyle:function(e){return{color:"Success"===e?"#208000":"#ff0000"}}},{title:"Name",field:"name"},{title:"Date",field:"date"},{title:"Time",field:"time"}],He=[],ze=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).selestMinion=n.selestMinion.bind(Object(u.a)(n)),n.handleClickOpen=n.handleClickOpen.bind(Object(u.a)(n)),n.handleClose=n.handleClose.bind(Object(u.a)(n)),ee.dispatch(te()),n.state={saltReturns:He,Returns:null,dialogOpen:!1,minion:""},n}return Object(c.a)(a,[{key:"componentWillMount",value:function(){var e=this;setTimeout((function(){var t=ee.getState().date.start,a=new Date(t.getTime());a.setHours(0,0,0);var n=ee.getState().date.end,s=new Date(n.getTime()),r=ee.getState().saltReturns.saltReturns.filter((function(e){return"state.apply"===e.full_ret.fun})).filter((function(e){var t=e.jid.slice(0,4)+"-"+String(parseInt(e.jid.slice(4,6))-1)+"-"+e.jid.slice(6,8),n=new Date(t);if(n>=a&&n<=s)return e})).map((function(e){return{status:!0===e.full_ret.success?"Success":"Fail",name:e.minion,date:We(e.full_ret.jid),id:e._id,time:Be(e.full_ret.jid)}}));e.setState({saltReturns:r})}),700)}},{key:"selestMinion",value:function(e,t){var a=this;ee.getState().saltReturns.saltReturns.filter((function(e){if(!1===e.full_ret.success&&e._id===t.id)return a.setState({dialogOpen:!0,minion:e}),e}))}},{key:"handleClickOpen",value:function(){this.setState({dialogOpen:!0})}},{key:"handleClose",value:function(){this.setState({dialogOpen:!1})}},{key:"componentWillReceiveProps",value:function(e,t){var a=ee.getState().date.start,n=new Date(a.getTime());n.setHours(0,0,0);var s=ee.getState().date.end,r=new Date(s.getTime());null!==e.saltReturns.saltReturns&&(e.saltReturns===this.props.saltReturns&&this.props.date.start.toLocaleDateString()===e.date.start.toLocaleDateString()&&this.props.date.end.toLocaleDateString()===e.date.end.toLocaleDateString()||(this.state.saltReturns=e.saltReturns.saltReturns.filter((function(e){return"state.apply"===e.full_ret.fun})).filter((function(e){console.log(e,"item ..........................");var t=e.jid.slice(0,4)+"-"+String(parseInt(e.jid.slice(4,6)))+"-"+e.jid.slice(6,8),a=new Date(t);if(a>=n&&a<=r)return e})).map((function(e){return{status:!0===e.full_ret.success?"Success":"Fail",name:e.minion,date:We(e.full_ret.jid),id:e._id,time:Be(e.full_ret.jid)}})),this.state.Returns=e.saltReturns.saltReturns.map((function(e){return{Returns:e.full_ret.return}})),console.log(this.state.Returns,"this.state.Returns")))}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(je.a,{title:"Minions Table",columns:Ge,data:this.state.saltReturns,icons:Ue,onRowClick:function(t,a){return e.setState({selectedRow:a})},options:{exportButton:!0,filtering:!0},actions:[{icon:Object(s.forwardRef)((function(e,t){return r.a.createElement(Re.a,Object.assign({},e,{ref:t}))})),tooltip:"Save User",onClick:function(t,a){e.selestMinion(t,a)}}]}),r.a.createElement(be.a,{open:this.state.dialogOpen,onClose:this.handleClose,"aria-describedby":"alert-dialog-description",maxWidth:"sm",scroll:"paper","aria-labelledby":"confirmation-dialog-title"},r.a.createElement(we.a,{id:"alert-dialog-title"},r.a.createElement(w.a,{style:{color:"#ff6666",fontSize:18}},"Failed ",this.state.minion.minion," at date ",void 0!==this.state.minion?We(String(this.state.minion.jid)):" "," at hour ",void 0!==this.state.minion?Be(String(this.state.minion.jid)):" ")),r.a.createElement(Se.a,{dividers:!0},r.a.createElement("div",{style:{minWidth:500}},r.a.createElement("div",null,r.a.createElement(w.a,{style:{fontSize:14},color:"textSecondary",gutterBottom:!0},"_id : ",this.state.minion._id),r.a.createElement(w.a,{style:{fontSize:14},color:"textSecondary",gutterBottom:!0},"return:",this.state.minion.return),r.a.createElement(ye.a,null)))),r.a.createElement(ve.a,null,r.a.createElement(de.a,{onClick:this.handleClose,color:"primary",autoFocus:!0},"close"))))}}]),a}(r.a.Component);var qe=Object(M.b)((function(e,t){return{saltReturns:e.saltReturns,date:e.date}}))(ze),Je=a(915),Ye=a(917),Ve=a(5),Ke=a(193),Ze=a.n(Ke),Xe=a(884),$e=a(926),Qe=a(506),et=a(277),tt=a(539),at=a.n(tt),nt=a(381),st=a.n(nt),rt=a(540),it=a.n(rt),lt=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(e){var n;Object(o.a)(this,a),(n=t.call(this,e)).onClickMinion=n.onClickMinion.bind(Object(u.a)(n)),n.handleClickButton=n.handleClickButton.bind(Object(u.a)(n));var s=n.props.comment;return n.state={open:!1,defer:!1,click:!1,comment:s,listOpen:!1},n}return Object(c.a)(a,[{key:"onClickMinion",value:function(){var e=this;this.setState({click:!0});var t=ee.getState().saveMinion.saveMinion.filter((function(t){if(t.id!==e.props.id)return t}));t=t.map((function(e,t){return Object(h.a)({},e,{id:t+1})})),ee.dispatch({type:"SAVE_MINION",payload:t})}},{key:"handleClickButton",value:function(){this.state.listOpen=!this.state.listOpen}},{key:"render",value:function(){var e=this;this.props.classes.bullet;return""===this.state.comment&&(this.state.click=!0),!1===this.state.click?r.a.createElement(Je.a,{className:this.props.classes.root},r.a.createElement(Ye.a,null,r.a.createElement(de.a,{onClick:function(){e.onClickMinion()}},r.a.createElement(w.a,{className:this.props.classes.title,color:"textSecondary",gutterBottom:!0},"fun: ",this.props.comment)),r.a.createElement(w.a,{variant:"h5",component:"h2"},r.a.createElement("div",null,r.a.createElement("div",{className:this.props.classes.container},r.a.createElement(S.a,{component:"nav","aria-labelledby":"nested-list-subheader",className:this.props.classes.root2},r.a.createElement(Xe.a,{button:!0,onClick:function(){return e.setState({listOpen:!e.state.listOpen})}},r.a.createElement($e.a,null,r.a.createElement(Ze.a,null)),r.a.createElement(Qe.a,{primary:"See minions"}),this.state.listOpen?r.a.createElement(at.a,null):r.a.createElement(st.a,null)),this.props.minion.map((function(t){return r.a.createElement(et.a,{in:e.state.listOpen,timeout:"auto",unmountOnExit:!0},r.a.createElement(S.a,{component:"div",disablePadding:!0},r.a.createElement(Xe.a,{className:e.props.classes.nested},r.a.createElement($e.a,null,r.a.createElement(it.a,null)),r.a.createElement(Qe.a,{primary:t}))))}))))))),r.a.createElement(ye.a,null)):r.a.createElement("div",null)}}]),a}(r.a.Component),ot=Object(Ve.a)((function(e){return{root:{maxWidth:260,margin:e.spacing(1),marginLeft:e.spacing(0)},root2:{width:230,maxWidth:360,fontSize:12,backgroundColor:e.palette.background.paper},nested:{paddingLeft:e.spacing(4)},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},title:{fontSize:16,overflow:"wrap"},pos:{marginBottom:12},button:{margin:e.spacing(1),fontSize:12},container:{width:300,display:"flex",flexWrap:"wrap"}}}))(lt),ct=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement(de.a,{style:{color:"#fff",border:"none"},variant:"outlined",onClick:function(){return ee.dispatch(Z())}},"Log out")}}]),a}(s.Component),ut=(Object(M.b)(null,{logout:Z})(ct),a(311)),mt=a.n(ut),dt=(a(868),a(942)),pt=a(914),ht=a(547),ft=a(927),gt=a(382),Et=a.n(gt),bt=a(302),vt=a.n(bt),St={Add:Object(s.forwardRef)((function(e,t){return r.a.createElement(Ce.a,Object.assign({},e,{ref:t}))})),Check:Object(s.forwardRef)((function(e,t){return r.a.createElement(ke.a,Object.assign({},e,{ref:t}))})),Clear:Object(s.forwardRef)((function(e,t){return r.a.createElement(_e.a,Object.assign({},e,{ref:t}))})),Delete:Object(s.forwardRef)((function(e,t){return r.a.createElement(Re.a,Object.assign({},e,{ref:t}))})),DetailPanel:Object(s.forwardRef)((function(e,t){return r.a.createElement(Ne.a,Object.assign({},e,{ref:t}))})),Edit:Object(s.forwardRef)((function(e,t){return r.a.createElement(Re.a,Object.assign({},e,{ref:t}))})),Export:Object(s.forwardRef)((function(e,t){return r.a.createElement(Te.a,Object.assign({},e,{ref:t}))})),Filter:Object(s.forwardRef)((function(e,t){return r.a.createElement(xe.a,Object.assign({},e,{ref:t}))})),FirstPage:Object(s.forwardRef)((function(e,t){return r.a.createElement(De.a,Object.assign({},e,{ref:t}))})),LastPage:Object(s.forwardRef)((function(e,t){return r.a.createElement(Ie.a,Object.assign({},e,{ref:t}))})),NextPage:Object(s.forwardRef)((function(e,t){return r.a.createElement(Ne.a,Object.assign({},e,{ref:t}))})),PreviousPage:Object(s.forwardRef)((function(e,t){return r.a.createElement(Fe.a,Object.assign({},e,{ref:t}))})),ResetSearch:Object(s.forwardRef)((function(e,t){return r.a.createElement(_e.a,Object.assign({},e,{ref:t}))})),Search:Object(s.forwardRef)((function(e,t){return r.a.createElement(Me.a,Object.assign({},e,{ref:t}))})),SortArrow:Object(s.forwardRef)((function(e,t){return r.a.createElement(Pe.a,Object.assign({},e,{ref:t}))})),ThirdStateCheck:Object(s.forwardRef)((function(e,t){return r.a.createElement(Le.a,Object.assign({},e,{ref:t}))})),ViewColumn:Object(s.forwardRef)((function(e,t){return r.a.createElement(Ae.a,Object.assign({},e,{ref:t}))}))},wt=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).tokenConfig=function(){var e=ee.getState().auth.token,t={headers:{"Content-type":"application/json"}};return e&&(t.headers.Authorization=" Bearer ".concat(e," ")),t},n.handleClose=function(e,t){"clickaway"!==t&&n.setState({msg:!1,warninginput:!1,warningNoMinionSelected:!1})},n.handleClick=function(){if(n.state.countSaveMinion--,""!==n.state.input&&0===n.state.countSaveMinion){n.setState({msg:!0}),setTimeout((function(){n.setState({msg:!1,clickSave:!1})}),2200),n.state.saveMinion.comment=n.state.input,n.state.history.unshift(n.state.saveMinion);var e=ee.getState().saveMinion.saveMinion;e.unshift(n.state.saveMinion),ee.dispatch({type:"SAVE_MINION",payload:e})}""===n.state.input&&(n.setState({warninginput:!0}),setTimeout((function(){n.setState({warninginput:!1})}),2200)),0!==n.state.countSaveMinion&&1!==n.state.countSaveMinion&&""!==n.state.input&&(n.setState({warningNoMinionSelected:!0}),setTimeout((function(){n.setState({warningNoMinionSelected:!1})}),2200)),n.setState({input:""})},n.clickOpen=n.clickOpen.bind(Object(u.a)(n)),n.handleClose=n.handleClose.bind(Object(u.a)(n)),n.handleClick=n.handleClick.bind(Object(u.a)(n)),n.sentCommand=n.sentCommand.bind(Object(u.a)(n)),n.getMinionsFromServer=n.getMinionsFromServer.bind(Object(u.a)(n)),n.tokenConfig=n.tokenConfig.bind(Object(u.a)(n)),ee.dispatch((function(e,t){L.a.get("/get_connected_minions",ae(t)).then((function(e){for(var t=[],a=0;a<e.data.result.length;a++){var n={name:e.data.result[a]};t.push(n)}console.log(t,"minions"),ee.dispatch({type:"TEAM_LIST",payload:t})})).catch((function(e){console.log(e,"err get_connected_minions")}))})),n.state={alert:!1,msg:!1,menu:"Dashboard",open:!1,defer:!1,clickSave:!1,history:[],input:"",saveMinion:{},countSaveMinion:0,warninginput:!1,warningNoMinionSelected:!1,data:[]},n.getMinionsFromServer(),n}return Object(c.a)(a,[{key:"getMinionsFromServer",value:function(){var e=this,t=this.tokenConfig();L.a.get("/get_connected_minions",t).then((function(t){for(var a=[],n=0;n<t.data.result.length;n++){var s={name:t.data.result[n]};a.push(s)}e.setState({data:a})})).catch((function(e){console.log(e,"err get_connected_minions")}))}},{key:"clickOpen",value:function(e){var t=this;this.state.countSaveMinion=0,this.state.countSaveMinion++;var a=e.map((function(e){return e.name})),n=ee.getState().saveMinion.saveMinion.length+1;this.state.saveMinion={minions:a,id:n,comment:""},this.getMinionsFromServer(),this.setState({alert:!0,clickSave:!0}),setTimeout((function(){t.setState({alert:!1})}),2200)}},{key:"sentCommand",value:function(e){var t=this;if(this.state.countSaveMinion--,0===this.state.countSaveMinion){this.state.saveMinion.comment=e,this.state.history.unshift(this.state.saveMinion);var a=ee.getState().saveMinion.saveMinion;a.unshift(this.state.saveMinion);var n=JSON.stringify(this.state.saveMinion);console.log("body",n);var s=this.tokenConfig();L.a.post("/saltstack_cmd",n,s).then((function(e){})).catch((function(e){console.log("err from SaltStack"),ee.dispatch(J(e.response.data.message,e.response.status,"CMD_FAIL"))})),ee.dispatch({type:"SAVE_MINION",payload:a}),this.setState({msg:!0}),setTimeout((function(){t.setState({msg:!1,clickSave:!1})}),2200)}0!==this.state.countSaveMinion&&1!==this.state.countSaveMinion&&(this.setState({warningNoMinionSelected:!0}),setTimeout((function(){t.setState({warningNoMinionSelected:!1})}),2200))}},{key:"render",value:function(){var e,t=this;return r.a.createElement("div",{style:{display:"flex",flexDirection:"row"}},r.a.createElement("div",{style:{display:"flex",flexDirection:"column"}},r.a.createElement(_.a,{component:"form",className:this.props.classes.root},r.a.createElement(j.a,{className:this.props.classes.iconButton,"aria-label":"menu"},r.a.createElement(N.a,null)),r.a.createElement(ht.a,{autoComplete:!0,autoFocus:"true",value:this.state.input,onChange:function(e){t.setState({input:e.target.value})},className:this.props.classes.input,placeholder:"Command Line",inputProps:{"aria-label":"Command Line"}}),r.a.createElement(j.a,{color:"primary",size:"medium",className:this.props.classes.iconButton,"aria-label":"directions",onClick:this.handleClick},r.a.createElement(Et.a,null))),r.a.createElement("div",{className:this.props.classes.Comments},"commands",r.a.createElement(O.a,{light:!0,style:{width:400}})),r.a.createElement("div",{className:this.props.classes.ButtonGroup},r.a.createElement(pt.a,(e={size:"large",color:"primary",orientation:"horizontal"},Object(p.a)(e,"color","primary"),Object(p.a)(e,"aria-label","vertical contained primary button group"),Object(p.a)(e,"variant","text"),Object(p.a)(e,"style",{marginTop:35,width:380,height:50}),e),r.a.createElement(de.a,{onClick:function(){return t.sentCommand("state.apply")}},"state.apply"),r.a.createElement(de.a,{onClick:function(){return t.sentCommand("state.fun")}},"state.fun"),r.a.createElement(de.a,{onClick:function(){return t.sentCommand("cd")}},"cd"))),r.a.createElement("div",{className:this.props.classes.Divider},"History",r.a.createElement(O.a,{light:!0,style:{width:400}})),r.a.createElement("div",{style:{display:"flex",flexDirection:"row",flexFlow:"row wrap",maxWidth:600}},ee.getState().saveMinion.saveMinion.map((function(e){return r.a.createElement(ot,{id:e.id,minion:e.minions,comment:e.comment})}))),r.a.createElement("div",{className:this.props.classes.Divider},r.a.createElement(O.a,{light:!0,style:{width:400}}))),r.a.createElement("div",null,r.a.createElement("div",{className:this.props.classes.MaterialTable},this.state.alert?r.a.createElement("div",{className:this.props.classes.msg},r.a.createElement(dt.a,{severity:"success"},"The minions you selected were  \u2014 ",r.a.createElement("strong",null,"accepted in the system"))):r.a.createElement("div",null),r.a.createElement(je.a,{title:"Minions",icons:St,columns:[{title:"Name",field:"name"}],data:this.state.data,options:{selection:!0},actions:[{icon:Object(s.forwardRef)((function(e,t){return r.a.createElement(vt.a,Object.assign({color:"action"},e,{ref:t}))})),tooltip:"Save Minions",onClick:function(e,a){t.clickOpen(a)}}]}),!0===this.state.clickSave?r.a.createElement("div",{className:this.props.classes.msg},r.a.createElement(ft.a,{open:this.state.msg,autoHideDuration:6e3,onClose:this.handleClose},r.a.createElement(dt.a,{onClose:this.handleClose,severity:"success"},"The commands you made were received in the system!"))):r.a.createElement("div",null),!0===this.state.warninginput?r.a.createElement("div",{className:this.props.classes.msg},r.a.createElement(ft.a,{open:this.state.warninginput,autoHideDuration:6e3,onClose:this.handleClose},r.a.createElement(dt.a,{onClose:this.handleClose,severity:"warning"},"command not sent because     ",r.a.createElement("strong",null," no command entered   ")))):r.a.createElement("div",null),!0===this.state.warningNoMinionSelected?r.a.createElement("div",{className:this.props.classes.msg},r.a.createElement(ft.a,{open:this.state.warningNoMinionSelected,autoHideDuration:6e3,onClose:this.handleClose},r.a.createElement(dt.a,{onClose:this.handleClose,severity:"warning"},"command not sent because ",r.a.createElement("strong",null,"no minion selected   ")))):r.a.createElement("div",null))))}}]),a}(r.a.Component),Ot=Object(Ve.a)((function(e){return{MaterialTable:{marginLeft:e.spacing(12),marginTop:e.spacing(1.5),width:450},root:{padding:"2px 4px",display:"flex",alignItems:"center",width:500,height:70,marginTop:e.spacing(1)},input:{marginLeft:e.spacing(1),marginTop:0,flex:1},minionStyle:{marginTop:e.spacing(5),width:200},iconButton:{padding:10,height:55},Divider:{marginTop:e.spacing(5),height:28,margin:20},msg:{width:"100%","& > * + *":{marginTop:e.spacing(2)}},Comments:{marginTop:e.spacing(4)},ButtonGroup:{display:"flex",flexDirection:"column","& > *":{margin:e.spacing(.5)}}}}))(wt),jt=a(918),yt=a(944),Ct=a(182),kt=a(383),_t=a.n(kt),Rt=a(921),Nt=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(e){var n;Object(o.a)(this,a),(n=t.call(this,e)).deleteIcon=n.deleteIcon.bind(Object(u.a)(n)),n.handleClickOpen=n.handleClickOpen.bind(Object(u.a)(n)),n.handleClose=n.handleClose.bind(Object(u.a)(n)),n.state={expanded:!1,UpperCase:"",open:!1,isDelete:!1};n.props.first_name.toUpperCase();return""!==n.props.first_name?n.state.UpperCase=n.props.first_name.toUpperCase()[0]:n.state.UpperCase="",n}return Object(c.a)(a,[{key:"handleClose",value:function(){var e=this;this.setState((function(e){return{open:!e.open}}));var t=this.state,a=t.password,n=(t.ReturnPassword,t.Role),s=t.Email,r=t.first_name,i=t.last_name;JSON.stringify({first_name:r,last_name:i,role:n,email:s,password:a});L.a.delete("/delete/"+this.props.id,function(e){var t=e().auth.token,a={headers:{"Content-Type":"application/json"}};return t&&(a.headers.Authorization=" Bearer ".concat(t," ")),a}(ee.getState)).then((function(t){e.setState({isDelete:!0})}))}},{key:"handleClickOpen",value:function(){this.setState((function(e){return{open:!e.open}}))}},{key:"deleteIcon",value:function(){}},{key:"render",value:function(){var e=["#ff0000","#00ff00","#0000ff"];Math.floor(Math.random()*e.length);return!1===this.state.isDelete?r.a.createElement(Je.a,{className:this.props.classes.root},r.a.createElement(jt.a,{avatar:r.a.createElement(yt.a,{"aria-label":"recipe",className:this.props.classes.avatar},this.state.UpperCase),title:this.props.first_name+" "+this.props.last_name,subheader:this.props.role}),r.a.createElement(Ye.a,null,r.a.createElement(w.a,{paragraph:!0,className:this.props.classes.paragraph},"Email:",this.props.mail),r.a.createElement(w.a,{paragraph:!0,className:this.props.classes.paragraph})),r.a.createElement(ye.a,{disableSpacing:!0},r.a.createElement(j.a,{"aria-label":"share",variant:"outlined",onClick:this.handleClickOpen,color:"secondary"},r.a.createElement(_t.a,null)),r.a.createElement(be.a,{open:this.state.open,onClose:this.handleClose,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},r.a.createElement(Se.a,null,r.a.createElement(Rt.a,{id:"alert-dialog-description"},"Are you sure you want to delete a user from the system?")),r.a.createElement(ve.a,null,r.a.createElement(de.a,{onClick:this.handleClickOpen,color:"primary"},"Disagree"),r.a.createElement(de.a,{onClick:this.handleClose,color:"secondary",autoFocus:!0},"Delete"))))):r.a.createElement("div",null)}}]),a}(r.a.Component),Tt=Object(Ve.a)((function(e){return{root:{minWidth:345,maxWidth:400,margin:e.spacing(2.5)},media:{height:0,paddingTop:"56.25%"},expand:{transform:"rotate(0deg)",marginLeft:"auto",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},expandOpen:{transform:"rotate(180deg)"},avatar:{backgroundColor:Ct.a[500]},paragraph:{paddingLeft:e.spacing(7.8),wordWrap:"break-word"}}}))(Nt),xt=a(924),Dt=a(541),It=a.n(Dt),Ft=a(376),Mt=a(295),Pt=a(121),Lt=a.n(Pt),At=a(391),Bt=a.n(At),Wt=a(392),Ut=a.n(Wt),Gt=function(e){var t=e().auth.token,a={headers:{"Content-Type":"application/json"}};return t&&(a.headers.Authorization=" Bearer ".concat(t," ")),a},Ht=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).handleExpandClick=n.handleExpandClick.bind(Object(u.a)(n)),n.ClickFab=n.ClickFab.bind(Object(u.a)(n)),n.handleClose=n.handleClose.bind(Object(u.a)(n)),n.signIn=n.signIn.bind(Object(u.a)(n)),n.handleInputChange=n.handleInputChange.bind(Object(u.a)(n)),n.handleClickShowPassword=n.handleClickShowPassword.bind(Object(u.a)(n)),n.handleMouseDownPassword=n.handleMouseDownPassword.bind(Object(u.a)(n)),n.handleClickShowPasswordReturn=n.handleClickShowPasswordReturn.bind(Object(u.a)(n)),n.handleMouseDownPasswordReturn=n.handleMouseDownPasswordReturn.bind(Object(u.a)(n)),n.initTeam=n.initTeam.bind(Object(u.a)(n)),n.state={expanded:!1,fab:!1,first_name:"",last_name:"",Role:"",Email:"",Password:"",ReturnPassword:"",showPasswordReturn:"password",showPassword:"password",errPassword:!1,saveCard:!1,Team:[],counter:0,err_first_name:!1,err_last_name:!1,err_Role:!1,err_Email:!1,err_Password:!1,no_add_card:!1},n.initTeam(),n}return Object(c.a)(a,[{key:"initTeam",value:function(){var e=this;L.a.get("/get_users",Gt(ee.getState)).then((function(t){e.setState({Team:t.data})})).catch((function(e){console.log(e)}))}},{key:"handleClickShowPassword",value:function(){this.setState({showPassword:"text"})}},{key:"handleMouseDownPassword",value:function(){this.setState({showPassword:"password"})}},{key:"handleClickShowPasswordReturn",value:function(){this.setState({showPasswordReturn:"text"})}},{key:"handleMouseDownPasswordReturn",value:function(){this.setState({showPasswordReturn:"password"})}},{key:"handleExpandClick",value:function(){this.setState((function(e){return{expanded:!e.expanded}}))}},{key:"ClickFab",value:function(){this.setState((function(e){return{fab:!e.fab,password:"",first_name:"",lastName:"",Role:"",Email:"",Password:"",ReturnPassword:""}}))}},{key:"signIn",value:function(e){var t=this;e.preventDefault();var a=this.state,n=a.password,s=a.ReturnPassword,r=a.Role,i=a.Email,l=a.first_name,o=a.last_name,c=new RegExp("^(?=.*[a-z])(?=.*[A-Z])(?=.*[!@#$%^&*])(?=.{8,})"),u=new RegExp("[A-Z0-9._%+-]+@[A-Z0-9.-]+.[A-Z]{2,6}"),m=!0;if((!1===c.test(n)||n.length>30)&&(m=!1,this.setState({err_Password:!0}),setTimeout((function(){t.setState({err_Password:!1})}),2e4)),l.length>30&&(m=!1,this.setState({err_first_name:!0}),setTimeout((function(){t.setState({err_first_name:!1})}),8e3)),o.length>30&&(m=!1,this.setState({err_last_name:!0}),setTimeout((function(){t.setState({err_last_name:!1})}),8e3)),r.length>30&&(m=!1,this.setState({err_Role:!0}),setTimeout((function(){t.setState({err_Role:!1})}),8e3)),(i.length>50||!1===u.test(this.state.Email.toUpperCase()))&&(m=!1,this.setState({err_Email:!0}),setTimeout((function(){t.setState({err_Email:!1})}),15e3)),n===s||(this.setState({errPassword:!0}),setTimeout((function(){t.setState({errPassword:!1})}),6e3)),n===s&&!0===m){this.setState((function(e){return{fab:!1}}));var d=JSON.stringify({first_name:l,last_name:o,role:r,email:i,password:n});L.a.post("/register",d,Gt(ee.getState)).then((function(e){t.state.Team.push({first_name:l,mail:i,role:r,last_name:o}),t.setState({saveCard:!0}),setTimeout((function(){t.setState({saveCard:!1})}),4e3)})).catch((function(e){console.log(e),t.setState({no_add_card:!0}),setTimeout((function(){t.setState({no_add_card:!1})}),4e3)})),this.setState({expanded:!1,fab:!1,first_name:"",last_name:"",Role:"",Email:"",Password:"",ReturnPassword:"",showPasswordReturn:"password",showPassword:"password",errPassword:!1,UnsecuredPassword:!1}),setTimeout((function(){t.initTeam()}),500)}}},{key:"handleInputChange",value:function(e){this.setState(Object(p.a)({},e.target.name,e.target.value))}},{key:"handleClose",value:function(e,t){"clickaway"!==t&&this.setState({errPassword:!1,saveCard:!1})}},{key:"render",value:function(){var e,t,a=this;return!1===this.state.fab?r.a.createElement("div",null,r.a.createElement("div",{className:this.props.classes.msg},r.a.createElement(ft.a,{open:this.state.saveCard,autoHideDuration:6e3,onClose:this.handleClose},r.a.createElement(dt.a,{onClose:this.handleClose,severity:"success"},"The system added  ",r.a.createElement("strong",null,"a new staff member   ")))),r.a.createElement("div",{className:this.props.classes.msg},r.a.createElement(ft.a,{open:this.state.no_add_card,autoHideDuration:6e3,onClose:this.handleClose},r.a.createElement(dt.a,{onClose:this.handleClose,severity:"error"},"The system   ",r.a.createElement("strong",null," not added a new staff member   ")))),r.a.createElement("div",{className:this.props.classes.root},this.state.Team.map((function(e,t){if(0!==a.state.Team.length)return r.a.createElement(Tt,{arr:t,first_name:e.first_name,last_name:e.last_name,role:e.role,mail:e.email,id:e._id})}))),r.a.createElement(xt.a,{color:"primary","aria-label":"add",className:this.props.classes.fab,onClick:this.ClickFab},r.a.createElement(It.a,null))):r.a.createElement("div",{className:this.props.classes.field},r.a.createElement("form",{className:this.props.classes.form,onSubmit:this.signIn},r.a.createElement("div",{className:this.props.classes.input},r.a.createElement(Mt.a,{className:this.props.classes.margin,id:"input-with-icon-textfield",label:"First Name",required:!0,fullWidth:!0,name:"first_name",value:this.state.first_name,onChange:this.handleInputChange,InputProps:{startAdornment:r.a.createElement(Ft.a,{position:"start"},r.a.createElement(Lt.a,null))}})),!0===this.state.err_first_name?r.a.createElement("div",{className:this.props.classes.msg},r.a.createElement(dt.a,{onClose:this.handleClose,severity:"error"},"The first name must be less than  ",r.a.createElement("strong",null,"30 characters  "))):r.a.createElement("div",null),r.a.createElement("div",{className:this.props.classes.input},r.a.createElement(Mt.a,{className:this.props.classes.margin,id:"input-with-icon-textfield",label:"Last Name",fullWidth:!0,name:"last_name",value:this.state.last_name,onChange:this.handleInputChange,InputProps:{startAdornment:r.a.createElement(Ft.a,{position:"start"},r.a.createElement(Lt.a,null))}})),!0===this.state.err_last_name?r.a.createElement("div",{className:this.props.classes.msg},r.a.createElement(dt.a,{onClose:this.handleClose,severity:"error"},"The last name must be less than  ",r.a.createElement("strong",null,"30 characters  "))):r.a.createElement("div",null),r.a.createElement("div",{className:this.props.classes.input},r.a.createElement(Mt.a,{className:this.props.classes.margin,id:"input-with-icon-textfield",label:"Email",required:!0,fullWidth:!0,name:"Email",value:this.state.Email,onChange:this.handleInputChange,InputProps:{startAdornment:r.a.createElement(Ft.a,{position:"start"},r.a.createElement(Lt.a,null))}})),!0===this.state.err_Email?r.a.createElement("div",{className:this.props.classes.msg},r.a.createElement(dt.a,{onClose:this.handleClose,severity:"error"},r.a.createElement("strong",null," Invalid mail  "))):r.a.createElement("div",null),r.a.createElement("div",{className:this.props.classes.input},r.a.createElement(Mt.a,{className:this.props.classes.margin,id:"input-with-icon-textfield",label:"Role",name:"Role",fullWidth:!0,value:this.state.Role,onChange:this.handleInputChange,InputProps:{startAdornment:r.a.createElement(Ft.a,{position:"start"},r.a.createElement(Lt.a,null))}})),!0===this.state.err_Role?r.a.createElement("div",{className:this.props.classes.msg},r.a.createElement(dt.a,{onClose:this.handleClose,severity:"error"},"The role name must be less than  ",r.a.createElement("strong",null,"30 characters  "))):r.a.createElement("div",null),r.a.createElement("div",{className:this.props.classes.input},r.a.createElement(Mt.a,(e={className:this.props.classes.margin,id:"input-with-icon-textfield",label:"password",required:!0,fullWidth:!0,name:"password"},Object(p.a)(e,"label","Password"),Object(p.a)(e,"type","text"===this.state.showPassword?"text":"password"),Object(p.a)(e,"value",this.state.password),Object(p.a)(e,"onChange",this.handleInputChange),Object(p.a)(e,"InputProps",{startAdornment:r.a.createElement(Ft.a,{position:"start"},r.a.createElement(Lt.a,null)),endAdornment:r.a.createElement(Ft.a,{position:"end"},r.a.createElement(j.a,{"aria-label":"toggle password visibility",onClick:this.handleClickShowPassword,onMouseDown:this.handleMouseDownPassword},"text"===this.state.showPassword?r.a.createElement(Bt.a,null):r.a.createElement(Ut.a,null)))}),e))),!0===this.state.err_Password?r.a.createElement("div",{className:this.props.classes.msg},r.a.createElement(dt.a,{onClose:this.handleClose,severity:"error"},"The password ",r.a.createElement("strong",null,"must "),"  be at least 8 characters long, and include uppercase and lowercase letters, and special characters",r.a.createElement("strong",null,"{ !, @, #, , $,%, , ^ &, , * }","  "))):r.a.createElement("div",null),r.a.createElement("div",{className:this.props.classes.input},r.a.createElement(Mt.a,(t={className:this.props.classes.margin,id:"input-with-icon-textfield",label:"password",required:!0,fullWidth:!0,name:"ReturnPassword"},Object(p.a)(t,"label","Return Password"),Object(p.a)(t,"type","text"===this.state.showPasswordReturn?"text":"password"),Object(p.a)(t,"value",this.state.ReturnPassword),Object(p.a)(t,"onChange",this.handleInputChange),Object(p.a)(t,"InputProps",{startAdornment:r.a.createElement(Ft.a,{position:"start"},r.a.createElement(Lt.a,null)),endAdornment:r.a.createElement(Ft.a,{position:"end"},r.a.createElement(j.a,{"aria-label":"toggle password visibility",onClick:this.handleClickShowPasswordReturn,onMouseDown:this.handleMouseDownPasswordReturn},"text"===this.state.showPasswordReturn?r.a.createElement(Bt.a,null):r.a.createElement(Ut.a,null)))}),t))),!0===this.state.errPassword?r.a.createElement("div",{className:this.props.classes.msg},r.a.createElement(dt.a,{onClose:this.handleClose,severity:"error"},"Passwords  ",r.a.createElement("strong",null,"unequal   "))):r.a.createElement("div",null),r.a.createElement(de.a,{variant:"contained",color:"primary",type:"submit",size:"small",fullWidth:!0,className:this.props.classes.button,startIcon:r.a.createElement(vt.a,null)},"Save")))}}]),a}(r.a.Component),zt=Object(Ve.a)((function(e){return{root:{display:"flex",flexDirection:"row",flexFlow:"row wrap",maxWidth:1300,justifyContent:"space around"},field:{display:"flex",flexDirection:"column",maxWidth:250,justifyContent:"space around",marginTop:e.spacing(0),marginLeft:e.spacing(55.5)},input:{paddingTop:e.spacing(2),paddingLeft:e.spacing(-4)},paragraph:{paddingLeft:e.spacing(7.8)},fab:{color:"#fff",border:"none",outline:"none",outlineOffset:"none",marginLeft:e.spacing(4),marginTop:e.spacing(4)},button:{marginTop:e.spacing(6)},form:{width:"100%",marginTop:e.spacing(1)},msg:{width:"100%","& > * + *":{marginTop:e.spacing(2)}}}}))(Ht),qt=a(312),Jt=a.n(qt),Yt=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).handleDrawerOpen=function(){n.setState({open:!0})},n.handleDrawerClose=function(){n.setState({open:!1})},n.SelectMenu=function(e){n.setState({menu:e})},ee.dispatch(te()),n.handleDrawerOpen=n.handleDrawerOpen.bind(Object(u.a)(n)),n.handleDrawerClose=n.handleDrawerClose.bind(Object(u.a)(n)),n.SelectMenu=n.SelectMenu.bind(Object(u.a)(n)),n.state={open:!0,menu:"Dashboard"},n}return Object(c.a)(a,[{key:"render",value:function(){var e=this,t=Object(f.a)(this.props.classes.paper,this.props.classes.fixedHeight);return"Dashboard"===this.state.menu?r.a.createElement("div",{className:this.props.classes.root},r.a.createElement(g.a,null),r.a.createElement(b.a,{position:"absolute",className:Object(f.a)(this.props.classes.appBar,this.state.open&&this.props.classes.appBarShift)},r.a.createElement(v.a,{className:this.props.classes.toolbar},r.a.createElement(j.a,{edge:"start",color:"inherit","aria-label":"open drawer",onClick:this.handleDrawerOpen,className:Object(f.a)(this.props.classes.menuButton,this.state.open&&this.props.classes.menuButtonHidden)},r.a.createElement(N.a,null)),r.a.createElement(w.a,{component:"h1",variant:"h6",color:"inherit",noWrap:!0,className:this.props.classes.title},"Dashboard"),r.a.createElement(j.a,{color:"inherit",className:this.props.classes.NotificationsIcon},r.a.createElement(y.a,{badgeContent:4,color:"secondary"},r.a.createElement(I.a,null))),r.a.createElement(ct,null))),r.a.createElement(E.a,{variant:"permanent",classes:{paper:Object(f.a)(this.props.classes.drawerPaper,!this.state.open&&this.props.classes.drawerPaperClose)},open:this.state.open},r.a.createElement("div",{className:this.props.classes.toolbarIcon},r.a.createElement(j.a,{onClick:this.handleDrawerClose},r.a.createElement(x.a,null))),r.a.createElement(O.a,null),r.a.createElement(S.a,null,r.a.createElement(Xe.a,{button:!0,onClick:function(){e.SelectMenu("Dashboard")}},r.a.createElement($e.a,null,r.a.createElement(Ze.a,null)),r.a.createElement(Qe.a,{primary:"Dashboard"})),r.a.createElement(Xe.a,{button:!0,onClick:function(){e.SelectMenu("SaltStack")}},r.a.createElement($e.a,null,r.a.createElement(mt.a,null)),r.a.createElement(Qe.a,{primary:"SaltStack"})),r.a.createElement(Xe.a,{button:!0,onClick:function(){e.SelectMenu("Team")}},r.a.createElement($e.a,null,r.a.createElement(Jt.a,null)),r.a.createElement(Qe.a,{primary:"Team"})))),r.a.createElement("main",{className:this.props.classes.content},r.a.createElement("div",{className:this.props.classes.appBarSpacer}),r.a.createElement(C.a,{maxWidth:"lg",className:this.props.classes.container},r.a.createElement(k.a,{container:!0,spacing:3},r.a.createElement(k.a,{item:!0,xs:12,md:8,lg:9},r.a.createElement(_.a,{className:t},r.a.createElement(ce,null))),r.a.createElement(k.a,{item:!0,xs:12,md:4,lg:3},r.a.createElement(_.a,{className:t},r.a.createElement(Ee,null))),r.a.createElement(k.a,{item:!0,xs:20},r.a.createElement("div",{className:this.props.classes.paper},r.a.createElement(qe,null))))))):"SaltStack"===this.state.menu?r.a.createElement("div",{className:this.props.classes.root},r.a.createElement(g.a,null),r.a.createElement(b.a,{position:"absolute",className:Object(f.a)(this.props.classes.appBar,this.state.open&&this.props.classes.appBarShift)},r.a.createElement(v.a,{className:this.props.classes.toolbar},r.a.createElement(j.a,{edge:"start",color:"inherit","aria-label":"open drawer",onClick:this.handleDrawerOpen,className:Object(f.a)(this.props.classes.menuButton,this.state.open&&this.props.classes.menuButtonHidden)},r.a.createElement(N.a,null)),r.a.createElement(w.a,{component:"h1",variant:"h6",color:"inherit",noWrap:!0,className:this.props.classes.title},"SaltStack"),r.a.createElement(j.a,{color:"inherit",className:this.props.classes.NotificationsIcon},r.a.createElement(y.a,{badgeContent:4,color:"secondary"},r.a.createElement(I.a,null))),r.a.createElement(ct,null))),r.a.createElement(E.a,{variant:"permanent",classes:{paper:Object(f.a)(this.props.classes.drawerPaper,!this.state.open&&this.props.classes.drawerPaperClose)},open:this.state.open},r.a.createElement("div",{className:this.props.classes.toolbarIcon},r.a.createElement(j.a,{onClick:this.handleDrawerClose},r.a.createElement(x.a,null))),r.a.createElement(O.a,null),r.a.createElement(S.a,null,r.a.createElement(Xe.a,{button:!0,onClick:function(){e.SelectMenu("Dashboard")}},r.a.createElement($e.a,null,r.a.createElement(Ze.a,null)),r.a.createElement(Qe.a,{primary:"Dashboard"})),r.a.createElement(Xe.a,{button:!0,onClick:function(){e.SelectMenu("SaltStack")}},r.a.createElement($e.a,null,r.a.createElement(mt.a,null)),r.a.createElement(Qe.a,{primary:"SaltStack"})),r.a.createElement(Xe.a,{button:!0,onClick:function(){e.SelectMenu("Team")}},r.a.createElement($e.a,null,r.a.createElement(Jt.a,null)),r.a.createElement(Qe.a,{primary:"Team"})))),r.a.createElement("main",{className:this.props.classes.content},r.a.createElement("div",{className:this.props.classes.appBarSpacer}),r.a.createElement(C.a,{maxWidth:"lg",className:this.props.classes.container},r.a.createElement(k.a,{item:!0,xs:!0},r.a.createElement("div",{className:this.props.classes.table},r.a.createElement(Ot,null)))))):"Team"===this.state.menu?r.a.createElement("div",{className:this.props.classes.root},r.a.createElement(g.a,null),r.a.createElement(b.a,{position:"absolute",className:Object(f.a)(this.props.classes.appBar,this.state.open&&this.props.classes.appBarShift)},r.a.createElement(v.a,{className:this.props.classes.toolbar},r.a.createElement(j.a,{edge:"start",color:"inherit","aria-label":"open drawer",onClick:this.handleDrawerOpen,className:Object(f.a)(this.props.classes.menuButton,this.state.open&&this.props.classes.menuButtonHidden)},r.a.createElement(N.a,null)),r.a.createElement(w.a,{component:"h1",variant:"h6",color:"inherit",noWrap:!0,className:this.props.classes.title},"Team"),r.a.createElement(j.a,{color:"inherit",className:this.props.classes.NotificationsIcon},r.a.createElement(y.a,{badgeContent:4,color:"secondary"},r.a.createElement(I.a,null))),r.a.createElement(ct,null))),r.a.createElement(E.a,{variant:"permanent",classes:{paper:Object(f.a)(this.props.classes.drawerPaper,!this.state.open&&this.props.classes.drawerPaperClose)},open:this.state.open},r.a.createElement("div",{className:this.props.classes.toolbarIcon},r.a.createElement(j.a,{onClick:this.handleDrawerClose},r.a.createElement(x.a,null))),r.a.createElement(O.a,null),r.a.createElement(S.a,null,r.a.createElement(Xe.a,{button:!0,onClick:function(){e.SelectMenu("Dashboard")}},r.a.createElement($e.a,null,r.a.createElement(Ze.a,null)),r.a.createElement(Qe.a,{primary:"Dashboard"})),r.a.createElement(Xe.a,{button:!0,onClick:function(){e.SelectMenu("SaltStack")}},r.a.createElement($e.a,null,r.a.createElement(mt.a,null)),r.a.createElement(Qe.a,{primary:"SaltStack"})),r.a.createElement(Xe.a,{button:!0,onClick:function(){e.SelectMenu("Team")}},r.a.createElement($e.a,null,r.a.createElement(Jt.a,null)),r.a.createElement(Qe.a,{primary:"Team"})))),r.a.createElement("main",{className:this.props.classes.content},r.a.createElement("div",{className:this.props.classes.appBarSpacer}),r.a.createElement(C.a,{maxWidth:"lg",className:this.props.classes.container},r.a.createElement(k.a,{item:!0,xs:!0},r.a.createElement("div",{className:this.props.classes.table},r.a.createElement(zt,null)))))):void 0}}]),a}(r.a.Component),Vt=Object(Ve.a)((function(e){return{root:{display:"flex"},toolbar:{paddingRight:24},toolbarIcon:Object(h.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px"},e.mixins.toolbar),appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36},menuButtonHidden:{display:"none"},title:{flexGrow:1},drawerPaper:{position:"relative",whiteSpace:"nowrap",width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerPaperClose:Object(p.a)({overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:e.spacing(7)},e.breakpoints.up("sm"),{width:e.spacing(9)}),appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"100vh",overflow:"auto"},container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},paper:{paddingRight:e.spacing(3.5),paddingTop:e.spacing(2),paddingLeft:e.spacing(1),paddingBottom:e.spacing(3),display:"flex",overflow:"auto",flexDirection:"column"},table:{paddingRight:3.5,paddingTop:1,paddingLeft:1,paddingBottom:3,display:"flex",overflow:"auto",flexDirection:"column"},fixedHeight:{height:240},Logout:{},AccountCircleIcon:{},NotificationsIcon:{display:"flex",justifyContent:"space-between",width:43}}}))(Yt);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(869);var Kt=a(543),Zt=a(384),Xt=a(133),$t=a(513),Qt=a(517),ea=a(925),ta=a(189),aa=a.n(ta),na=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).resetPass=n.resetPass.bind(Object(u.a)(n)),n.state={email:{value:null,error:!1,helperText:null},msg:null},n}return Object(c.a)(a,[{key:"resetPass",value:function(e){var t=this;if(e.preventDefault(),""===this.emailInput.value)this.setState({email:{value:this.emailInput.value,error:!0,helperText:"Your email must be specified."}}),this.emailInput.focus();else{var a=this.emailInput.value,n=JSON.stringify({email:a});L.a.post("/forgot_password",n,{headers:{"Content-Type":"application/json"}}).then((function(e){t.setState({msg:e.msg})})).catch((function(e){t.setState({msg:e.msg})}))}}},{key:"render",value:function(){var e,t=this,a=this.props.classes;return r.a.createElement(C.a,{component:"main",maxWidth:"xs"},r.a.createElement(g.a,null),r.a.createElement("div",{className:a.paper},r.a.createElement(yt.a,{className:a.avatar},r.a.createElement(aa.a,null)),r.a.createElement(w.a,{component:"h1",variant:"h5"},"Enter Your Email Address"),r.a.createElement("form",{className:a.form,onSubmit:this.resetPass},r.a.createElement(Mt.a,(e={variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0},Object(p.a)(e,"required",!0),Object(p.a)(e,"inputRef",(function(e){return t.emailInput=e})),Object(p.a)(e,"error",this.state.email.error),Object(p.a)(e,"helperText",this.state.email.helperText),e)),r.a.createElement(de.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:a.submit},"Reset Password"),this.state.msg?r.a.createElement(dt.a,{severity:"error"},this.state.msg):null,r.a.createElement(k.a,{item:!0,xs:!0},r.a.createElement(ea.a,{onClick:this.props.handler,variant:"body2"},"Back to login")))))}}]),a}(r.a.Component),sa=Object(M.b)()(Object(Ve.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}))(na)),ra=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).updatePass=n.updatePass.bind(Object(u.a)(n)),n.state={email:{value:null,error:!1,helperText:null},old_password1:{value:null,error:!1,helperText:null},old_password2:{value:null,error:!1,helperText:null},new_password:{value:null,error:!1,helperText:null},msg:null},n}return Object(c.a)(a,[{key:"componentDidUpdate",value:function(e){var t=this.props.error;t!==e.error&&("Weak Password"===t.id?(console.log(t),this.setState({msg:t.msg.msg})):this.setState({msg:null}))}},{key:"updatePass",value:function(e){var t=this;if(e.preventDefault(),""===this.emailInput.value)this.setState({email:{value:this.emailInput.value,error:!0,helperText:"Your email must be specified."}}),this.emailInput.focus();else{var a={email:this.emailInput.value,old_password1:this.old_password1.value,old_password2:this.old_password2.value,new_password:this.new_password.value},n=JSON.stringify({user:a});L.a.post("/forgot_password",n,{headers:{"Content-Type":"application/json"}}).then((function(e){t.setState({msg:e.message})})).catch((function(e){t.setState({msg:e.message})}))}}},{key:"render",value:function(){var e,t=this,a=this.props.classes;return r.a.createElement(C.a,{component:"main",maxWidth:"xs"},r.a.createElement(g.a,null),r.a.createElement("div",{className:a.paper},r.a.createElement(yt.a,{className:a.avatar},r.a.createElement(aa.a,null)),r.a.createElement(w.a,{component:"h1",variant:"h5"},"Update Password"),r.a.createElement("form",{className:a.form,onSubmit:this.signIn},r.a.createElement(Mt.a,(e={variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0},Object(p.a)(e,"required",!0),Object(p.a)(e,"inputRef",(function(e){return t.emailInput=e})),Object(p.a)(e,"error",this.state.email.error),Object(p.a)(e,"helperText",this.state.email.helperText),e)),r.a.createElement(Mt.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password1",label:"Password1",type:"password1",id:"password1",autoComplete:"current-password",inputRef:function(e){return t.passwordInput=e}}),r.a.createElement(Mt.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password2",label:"Password2",type:"password2",id:"password2",autoComplete:"current-password",inputRef:function(e){return t.passwordInput=e}}),r.a.createElement(de.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:a.submit},"Update Password"),this.state.msg?r.a.createElement(dt.a,{severity:"error"},this.state.msg):null,r.a.createElement(k.a,{item:!0,xs:!0},r.a.createElement(ea.a,{onClick:this.props.handler,variant:"body2"},"Back to login")))))}}]),a}(r.a.Component),ia=Object(M.b)()(Object(Ve.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}))(ra)),la=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).signIn=n.signIn.bind(Object(u.a)(n)),n.handler=n.handler.bind(Object(u.a)(n)),n.state={email:{value:null,error:!1,helperText:null},password:{value:null,error:!1,helperText:null},msg:null},n}return Object(c.a)(a,[{key:"componentDidUpdate",value:function(e){var t=this.props,a=t.error;t.isAuthenticated;a!==e.error&&("LOGIN_FAIL"===a.id?(this.setState({msg:a.msg}),setTimeout(function(){this.setState({msg:null})}.bind(this),3e3)):this.setState({msg:null}))}},{key:"handler",value:function(){this.setState({screen:"login"})}},{key:"signIn",value:function(e){if(e.preventDefault(),""===this.emailInput.value)this.setState({email:{value:this.emailInput.value,error:!0,helperText:"Your email must be specified."}}),this.emailInput.focus();else{var t={email:this.emailInput.value,password:this.passwordInput.value},a=this.props.login(t);console.log(a),this.props.history.push("/")}}},{key:"render",value:function(){var e,t=this;if("forgot"===this.state.screen)return r.a.createElement(sa,{handler:this.handler});if("change"===this.state.screen)return r.a.createElement(ia,{handler:this.handler});var a=this.props.classes;return r.a.createElement(C.a,{component:"main",maxWidth:"xs"},r.a.createElement(g.a,null),r.a.createElement("div",{className:a.paper},r.a.createElement(yt.a,{className:a.avatar},r.a.createElement(aa.a,null)),r.a.createElement(w.a,{component:"h1",variant:"h5"},"Sign in"),r.a.createElement("form",{className:a.form,onSubmit:this.signIn},r.a.createElement(Mt.a,(e={variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0},Object(p.a)(e,"required",!0),Object(p.a)(e,"inputRef",(function(e){return t.emailInput=e})),Object(p.a)(e,"error",this.state.email.error),Object(p.a)(e,"helperText",this.state.email.helperText),e)),r.a.createElement(Mt.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",inputRef:function(e){return t.passwordInput=e}}),r.a.createElement($t.a,{control:r.a.createElement(Qt.a,{value:"remember",color:"primary"}),label:"Remember me"}),r.a.createElement(de.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:a.submit},"Sign In"),this.state.msg?r.a.createElement(dt.a,{severity:"error"},this.state.msg):null,r.a.createElement(k.a,{container:!0},r.a.createElement(k.a,{item:!0,xs:!0},r.a.createElement(ea.a,{onClick:function(){return t.setState({screen:"forgot"})},variant:"body2"},"Reset Your Password")),r.a.createElement(k.a,{item:!0},r.a.createElement(ea.a,{onClick:function(){return t.setState({screen:"change"})},variant:"body2"},"Do you want to update your password?"))))))}}]),a}(r.a.Component),oa=Object(M.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated,error:e.error}}),{login:K,clearErrors:function(){return{type:"CLEAR_ERRORS"}}})(Object(Ve.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}))(la)),ca=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement(Zt.a,null,r.a.createElement("div",null,r.a.createElement(ua,{exact:!0,path:"/",component:Vt,authed:this.props.auth.isAuthenticated}),r.a.createElement(Xt.a,{exact:!0,path:"/login",component:oa})))}}]),a}(s.Component),ua=function(e){var t=e.component,a=e.authed,n=Object(Kt.a)(e,["component","authed"]);return r.a.createElement(Xt.a,Object.assign({},n,{render:function(e){return a?r.a.createElement(t,e):r.a.createElement(oa,e)}}))},ma=Object(M.b)((function(e){return{auth:e.auth}}),n)(ca),da=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(e){return Object(o.a)(this,a),t.call(this,e)}return Object(c.a)(a,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return r.a.createElement(ma,null)}}]),a}(s.Component),pa=Object(M.b)((function(e){return{auth:e.auth}}),null)(da);l.a.render(r.a.createElement(M.a,{store:ee},r.a.createElement(pa,null)),document.getElementById("root"))}},[[582,1,2]]]);
//# sourceMappingURL=main.6c2665a9.chunk.js.map