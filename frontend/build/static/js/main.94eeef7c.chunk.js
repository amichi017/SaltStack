(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{372:function(e){e.exports=JSON.parse('[{"_id":"5eccf6fe13645c77861fff9f","full_ret":{"fun":"state.apply","fun_args":[],"id":"it-sys-3.minhala.jce.ac.il","jid":"20200526110011911227","out":"highstate","retcode":0,"return":{"certutil_|-salt://win/certs/decrypt/decrypt-cer_|-salt://win/certs/decrypt/decrypt-cer_|-add_store":{"_id_":"salt://win/certs/decrypt/decrypt.cer","_run_num_":1,"_sls_":"win/certs/decrypt","changes":{},"comment":"salt://win/certs/decrypt/decrypt.cer already stored.","duration":194.882,"name":"salt://win/certs/decrypt/decrypt.cer","result":true,"start_time":"14:00:14.265804"},"chocolatey_|-Configure Ansible_|-ansible_|-upgraded":{"_id_":"Configure Ansible","_run_num_":5,"_sls_":"win/chocolatey/ansible","changes":{},"comment":"ansible 1.0.3 is already installed","duration":3143.1,"name":"ansible","result":true,"start_time":"14:00:17.867856"},"chocolatey_|-Install 7zip_|-7zip_|-upgraded":{"_id_":"Install 7zip","_run_num_":13,"_sls_":"win/chocolatey/installpkgs","changes":{},"comment":"7zip 19.0.0 is already installed","duration":3495.885,"name":"7zip","result":true,"start_time":"14:01:02.375645"},"chocolatey_|-Install Chocolatey Package_|-chocolatey_|-upgraded":{"_id_":"Install Chocolatey Package","_run_num_":7,"_sls_":"win/chocolatey/chocolatey","changes":{},"comment":"Package chocolatey upgraded successfully","duration":3902.654,"name":"chocolatey","result":true,"start_time":"14:00:21.016953"},"chocolatey_|-Install Palo Alto Traps_|-traps_|-upgraded":{"_id_":"Install Palo Alto Traps","_run_num_":4,"_sls_":"win/chocolatey/traps","changes":{},"comment":"traps 6.1.4.32252 is already installed","duration":3401.173,"name":"traps","result":true,"start_time":"14:00:14.466683"},"chocolatey_|-Install adobereader_|-adobereader_|-upgraded":{"_id_":"Install adobereader","_run_num_":16,"_sls_":"win/chocolatey/installpkgs","changes":{},"comment":"adobereader 2020.006.20042 is already installed","duration":3186.072,"name":"adobereader","result":true,"start_time":"14:01:12.385651"},"chocolatey_|-Install firefox_|-firefox_|-upgraded":{"_id_":"Install firefox","_run_num_":12,"_sls_":"win/chocolatey/installpkgs","changes":{},"comment":"firefox 76.0 is already installed","duration":3745.735,"name":"firefox","result":true,"start_time":"14:00:58.629910"},"chocolatey_|-Install notepadpp_|-notepadpp_|-upgraded":{"_id_":"Install notepadpp","_run_num_":14,"_sls_":"win/chocolatey/installpkgs","changes":{},"comment":"notepadpp 7.8.6 is already installed","duration":3340.979,"name":"notepadpp","result":true,"start_time":"14:01:05.871530"},"chocolatey_|-Install topia_|-topia_|-upgraded":{"_id_":"Install topia","_run_num_":17,"_sls_":"win/chocolatey/installpkgs","changes":{},"comment":"topia 4.0.38 is already installed","duration":3144.098,"name":"topia","result":true,"start_time":"14:01:15.571723"},"chocolatey_|-Install vlc_|-vlc_|-upgraded":{"_id_":"Install vlc","_run_num_":15,"_sls_":"win/chocolatey/installpkgs","changes":{},"comment":"vlc 3.0.10 is already installed","duration":3172.142,"name":"vlc","result":true,"start_time":"14:01:09.212509"},"cmd_|-Remove Hibernate_|-powercfg-exe hibernate off_|-run":{"_run_num_":3,"_sls_":"win/removeHibernate","_state_ran_":false,"changes":{},"comment":"State was not run because onfail req did not change","duration":0,"result":true,"start_time":"14:00:14.463684"},"cmd_|-Set Check Salt-Minion Update Task_|-Set Check Salt-Minion Update Task_|-script":{"_id_":"Set Check Salt-Minion Update Task","_run_num_":11,"_sls_":"win/scheduleHighstate","changes":{"changed":"true","pid":9808,"retcode":0,"stderr":"","stdout":"\\r\\nTaskPath                                       TaskName                          State     \\r\\n--------                                       --------                          -----     \\r\\n\\\\                                              Check Salt-Minion Update          Ready     \\r"},"comment":"updated task interval and delay","duration":1793.914,"name":"Set Check Salt-Minion Update Task","result":true,"start_time":"14:00:56.835996"},"cmd_|-Set Salt HighState Scheduled Task_|-Set Salt HighState Scheduled Task_|-script":{"_id_":"Set Salt HighState Scheduled Task","_run_num_":8,"_sls_":"win/scheduleHighstate","changes":{"changed":"true","pid":9524,"retcode":0,"stderr":"","stdout":"\\r\\nTaskPath                                       TaskName                          State     \\r\\n--------                                       --------                          -----     \\r\\n\\\\                                              Salt HighState                    Running   \\r"},"comment":"updated task interval and delay","duration":8335.477,"name":"Set Salt HighState Scheduled Task","result":true,"start_time":"14:00:24.920606"},"cmd_|-Set Salt Last Seen Scheduled Task_|-Set Salt Last Seen Scheduled Task_|-script":{"_id_":"Set Salt Last Seen Scheduled Task","_run_num_":10,"_sls_":"win/scheduleHighstate","changes":{},"comment":"","duration":1799.912,"name":"Set Salt Last Seen Scheduled Task","result":true,"start_time":"14:00:55.035085"},"cmd_|-Set Salt Refresh Grains Scheduled Task_|-Set Salt Refresh Grains Scheduled Task_|-script":{"_id_":"Set Salt Refresh Grains Scheduled Task","_run_num_":9,"_sls_":"win/scheduleHighstate","changes":{},"comment":"","duration":21778.003,"name":"Set Salt Refresh Grains Scheduled Task","result":true,"start_time":"14:00:33.256083"},"file_|-Academy CA Certificate_|-C:\\\\salt\\\\bin\\\\lib\\\\site-packages\\\\certifi\\\\cacert-pem_|-append":{"_id_":"Academy CA Certificate","_run_num_":0,"_sls_":"win/certs/academy-ca","changes":{},"comment":"File C:\\\\salt\\\\bin\\\\lib\\\\site-packages\\\\certifi\\\\cacert.pem is in correct state","duration":93.943,"name":"C:\\\\salt\\\\bin\\\\lib\\\\site-packages\\\\certifi\\\\cacert.pem","result":true,"start_time":"14:00:14.169862"},"file_|-Check Hibernate File Exists_|-c:\\\\hiberfil-sys_|-missing":{"_id_":"Check Hibernate File Exists","_run_num_":2,"_sls_":"win/removeHibernate","changes":{},"comment":"Path c:\\\\hiberfil.sys is missing","duration":0.999,"name":"c:\\\\hiberfil.sys","result":true,"start_time":"14:00:14.462685"},"file_|-Configure Chocolatey JCE Repo_|-C:\\\\ProgramData\\\\chocolatey\\\\config\\\\chocolatey-config_|-replace":{"_id_":"Configure Chocolatey JCE Repo","_run_num_":6,"_sls_":"win/chocolatey/chocolatey","changes":{},"comment":"No changes needed to be made","duration":3.999,"name":"C:\\\\ProgramData\\\\chocolatey\\\\config\\\\chocolatey.config","result":true,"start_time":"14:00:21.011955"}},"success":false},"fun":"state.apply","jid":"20200526110011911227","minion":"it-sys-5.minhala.jce.ac.il","out":"highstate","return":{"certutil_|-salt://win/certs/decrypt/decrypt-cer_|-salt://win/certs/decrypt/decrypt-cer_|-add_store":{"_id_":"salt://win/certs/decrypt/decrypt.cer","_run_num_":1,"_sls_":"win/certs/decrypt","changes":{},"comment":"salt://win/certs/decrypt/decrypt.cer already stored.","duration":194.882,"name":"salt://win/certs/decrypt/decrypt.cer","result":true,"start_time":"14:00:14.265804"},"chocolatey_|-Configure Ansible_|-ansible_|-upgraded":{"_id_":"Configure Ansible","_run_num_":5,"_sls_":"win/chocolatey/ansible","changes":{},"comment":"ansible 1.0.3 is already installed","duration":3143.1,"name":"ansible","result":true,"start_time":"14:00:17.867856"},"chocolatey_|-Install 7zip_|-7zip_|-upgraded":{"_id_":"Install 7zip","_run_num_":13,"_sls_":"win/chocolatey/installpkgs","changes":{},"comment":"7zip 19.0.0 is already installed","duration":3495.885,"name":"7zip","result":true,"start_time":"14:01:02.375645"},"chocolatey_|-Install Chocolatey Package_|-chocolatey_|-upgraded":{"_id_":"Install Chocolatey Package","_run_num_":7,"_sls_":"win/chocolatey/chocolatey","changes":{},"comment":"Package chocolatey upgraded successfully","duration":3902.654,"name":"chocolatey","result":true,"start_time":"14:00:21.016953"},"chocolatey_|-Install Palo Alto Traps_|-traps_|-upgraded":{"_id_":"Install Palo Alto Traps","_run_num_":4,"_sls_":"win/chocolatey/traps","changes":{},"comment":"traps 6.1.4.32252 is already installed","duration":3401.173,"name":"traps","result":true,"start_time":"14:00:14.466683"},"chocolatey_|-Install adobereader_|-adobereader_|-upgraded":{"_id_":"Install adobereader","_run_num_":16,"_sls_":"win/chocolatey/installpkgs","changes":{},"comment":"adobereader 2020.006.20042 is already installed","duration":3186.072,"name":"adobereader","result":true,"start_time":"14:01:12.385651"},"chocolatey_|-Install firefox_|-firefox_|-upgraded":{"_id_":"Install firefox","_run_num_":12,"_sls_":"win/chocolatey/installpkgs","changes":{},"comment":"firefox 76.0 is already installed","duration":3745.735,"name":"firefox","result":true,"start_time":"14:00:58.629910"},"chocolatey_|-Install notepadpp_|-notepadpp_|-upgraded":{"_id_":"Install notepadpp","_run_num_":14,"_sls_":"win/chocolatey/installpkgs","changes":{},"comment":"notepadpp 7.8.6 is already installed","duration":3340.979,"name":"notepadpp","result":true,"start_time":"14:01:05.871530"},"chocolatey_|-Install topia_|-topia_|-upgraded":{"_id_":"Install topia","_run_num_":17,"_sls_":"win/chocolatey/installpkgs","changes":{},"comment":"topia 4.0.38 is already installed","duration":3144.098,"name":"topia","result":true,"start_time":"14:01:15.571723"},"chocolatey_|-Install vlc_|-vlc_|-upgraded":{"_id_":"Install vlc","_run_num_":15,"_sls_":"win/chocolatey/installpkgs","changes":{},"comment":"vlc 3.0.10 is already installed","duration":3172.142,"name":"vlc","result":true,"start_time":"14:01:09.212509"},"cmd_|-Remove Hibernate_|-powercfg-exe hibernate off_|-run":{"_run_num_":3,"_sls_":"win/removeHibernate","_state_ran_":false,"changes":{},"comment":"State was not run because onfail req did not change","duration":0,"result":true,"start_time":"14:00:14.463684"},"cmd_|-Set Check Salt-Minion Update Task_|-Set Check Salt-Minion Update Task_|-script":{"_id_":"Set Check Salt-Minion Update Task","_run_num_":11,"_sls_":"win/scheduleHighstate","changes":{"changed":"true","pid":9808,"retcode":0,"stderr":"","stdout":"\\r\\nTaskPath                                       TaskName                          State     \\r\\n--------                                       --------                          -----     \\r\\n\\\\                                              Check Salt-Minion Update          Ready     \\r"},"comment":"updated task interval and delay","duration":1793.914,"name":"Set Check Salt-Minion Update Task","result":true,"start_time":"14:00:56.835996"},"cmd_|-Set Salt HighState Scheduled Task_|-Set Salt HighState Scheduled Task_|-script":{"_id_":"Set Salt HighState Scheduled Task","_run_num_":8,"_sls_":"win/scheduleHighstate","changes":{"changed":"true","pid":9524,"retcode":0,"stderr":"","stdout":"\\r\\nTaskPath                                       TaskName                          State     \\r\\n--------                                       --------                          -----     \\r\\n\\\\                                              Salt HighState                    Running   \\r"},"comment":"updated task interval and delay","duration":8335.477,"name":"Set Salt HighState Scheduled Task","result":true,"start_time":"14:00:24.920606"},"cmd_|-Set Salt Last Seen Scheduled Task_|-Set Salt Last Seen Scheduled Task_|-script":{"_id_":"Set Salt Last Seen Scheduled Task","_run_num_":10,"_sls_":"win/scheduleHighstate","changes":{},"comment":"","duration":1799.912,"name":"Set Salt Last Seen Scheduled Task","result":true,"start_time":"14:00:55.035085"},"cmd_|-Set Salt Refresh Grains Scheduled Task_|-Set Salt Refresh Grains Scheduled Task_|-script":{"_id_":"Set Salt Refresh Grains Scheduled Task","_run_num_":9,"_sls_":"win/scheduleHighstate","changes":{},"comment":"","duration":21778.003,"name":"Set Salt Refresh Grains Scheduled Task","result":true,"start_time":"14:00:33.256083"},"file_|-Academy CA Certificate_|-C:\\\\salt\\\\bin\\\\lib\\\\site-packages\\\\certifi\\\\cacert-pem_|-append":{"_id_":"Academy CA Certificate","_run_num_":0,"_sls_":"win/certs/academy-ca","changes":{},"comment":"File C:\\\\salt\\\\bin\\\\lib\\\\site-packages\\\\certifi\\\\cacert.pem is in correct state","duration":93.943,"name":"C:\\\\salt\\\\bin\\\\lib\\\\site-packages\\\\certifi\\\\cacert.pem","result":true,"start_time":"14:00:14.169862"},"file_|-Check Hibernate File Exists_|-c:\\\\hiberfil-sys_|-missing":{"_id_":"Check Hibernate File Exists","_run_num_":2,"_sls_":"win/removeHibernate","changes":{},"comment":"Path c:\\\\hiberfil.sys is missing","duration":0.999,"name":"c:\\\\hiberfil.sys","result":true,"start_time":"14:00:14.462685"},"file_|-Configure Chocolatey JCE Repo_|-C:\\\\ProgramData\\\\chocolatey\\\\config\\\\chocolatey-config_|-replace":{"_id_":"Configure Chocolatey JCE Repo","_run_num_":6,"_sls_":"win/chocolatey/chocolatey","changes":{},"comment":"No changes needed to be made","duration":3.999,"name":"C:\\\\ProgramData\\\\chocolatey\\\\config\\\\chocolatey.config","result":true,"start_time":"14:00:21.011955"}}}]')},583:function(e,t,a){e.exports=a(872)},870:function(e,t,a){},872:function(e,t,a){"use strict";a.r(t);var n={};a.r(n),a.d(n,"loadUser",(function(){return G})),a.d(n,"register",(function(){return q})),a.d(n,"login",(function(){return J})),a.d(n,"logout",(function(){return Y})),a.d(n,"tokenConfig",(function(){return V}));var s=a(0),r=a.n(s),i=a(23),l=a.n(i),o=a(31),c=a(32),u=a(21),d=a(35),m=a(34),p=a(22),h=a(132),f=a(3),g=a(920),_=a(88),S=a(913),b=a(374),E=a(883),v=a(51),y=a(923),w=a(222),O=a(919),C=a(909),j=a(136),k=a(194),T=a.n(k),R=a(310),I=a.n(R),N=a(46),x=a(42),P=a(47),D=a.n(P),M=a(523),F={msg:{},status:null,id:null},A={token:null,isAuthenticated:null,isLoading:!1,user:null},L={start:new Date,end:new Date},B={saltReturns:null},H={saveMinion:[]},W={listMinions:[]},U=Object(N.c)({saltReturns:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SALT_RETURNS":return{saltReturns:t.payload};default:return e}},date:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"DATE_SELECT":return{start:t.payload.start,end:t.payload.end};default:return e}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_LOADING":return Object(h.a)({},e,{isLoading:!0});case"USER_LOADED":return Object(h.a)({},e,{isAuthenticated:!0,isLoading:!1,user:t.payload});case"LOGIN_SUCCESS":return localStorage.setItem("token",t.payload.access_token),{token:t.payload.access_token,isAuthenticated:!0,isLoading:!1};case"AUTH_ERROR":case"LOGIN_FAIL":case"LOGOUT_SUCCESS":case"REGISTER_FAIL":return localStorage.removeItem("token"),Object(h.a)({},e,{token:null,user:null,isAuthenticated:!1,isLoading:!1});default:return e}},error:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_ERRORS":return{msg:t.payload.msg,status:t.payload.status,id:t.payload.id};case"CLEAR_ERRORS":return{msg:{},status:null,id:null};default:return e}},saveMinion:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SAVE_MINION":return{saveMinion:t.payload};default:return e}},listMinions:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LIST_MINIONS":return{listMinions:t.payload};default:return e}}}),z=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:"GET_ERRORS",payload:{msg:e,status:t,id:a}}},G=function(){return function(e,t){e({type:"USER_LOADING"}),D.a.get("/auth/user",V(t)).then((function(t){return e({type:"USER_LOADED",payload:t.data})})).catch((function(t){t.response&&(e(z(t.response.data,t.response.status)),e({type:"AUTH_ERROR"}))}))}},q=function(e){var t=e.first_name,a=e.last_name,n=e.email,s=e.password;return function(e){var r=JSON.stringify({first_name:t,last_name:a,email:n,password:s});D.a.post("/register",r,{headers:{"Content-Type":"application/json"}}).then((function(t){return e({type:"REGISTER_SUCCESS",payload:t.data})})).catch((function(t){console.log(t),e(z(t.response.data,t.response.status,"REGISTER_FAIL")),e({type:"REGISTER_FAIL"})}))}},J=function(e){var t=e.email,a=e.password;return function(e){var n=JSON.stringify({email:t,password:a});D.a.post("/auth",n,{headers:{"Content-Type":"application/json"}}).then((function(t){return e({type:"LOGIN_SUCCESS",payload:t.data})})).catch((function(t){e(z(t.response.data.message,t.response.status,"LOGIN_FAIL")),e({type:"LOGIN_FAIL"})}))}},Y=function(){return function(e){e({type:"LOGOUT_SUCCESS"})}},V=function(e){var t=e().auth.token,a={headers:{"Content-type":"application/json"}};return t&&(a.headers.Authorization=" Bearer ".concat(t," ")),a},K=[M.a],Z=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||N.d,X=Object(N.e)(U,{},Z(N.a.apply(void 0,K))),$=a(372),Q=function(e){return function(t,a){(new Date).toDateString();var n=String(parseInt(X.getState().date.start.getMonth()+1));n=parseInt(n)<10?"0"+n:n;var s=String(X.getState().date.start.getFullYear()),r=X.getState().date.start.getDate(),i=s+String(n)+String(r)+"000000000000",l=String(parseInt(X.getState().date.end.getMonth())+1);l=parseInt(l)<10?"0"+l:l;var o=String(X.getState().date.end.getFullYear()),c=X.getState().date.end.getDate(),u=o+String(l)+String(c)+"235959595959",d=[];if("CurrentYear"===e){var m=String((new Date).getFullYear());i=m+"0101000000000000",u=m+"12"+String(new Date(m,12,0).getDate())+"235959595959"}else if("CurrentMonth"===e){var p=String((new Date).getFullYear()),h=String(new Date(p,(new Date).getMonth()+1,0).getDate()),f=(new Date).getMonth()+1;i=p+(f=parseInt(f)<10?"0"+f:f)+"01000000000000",u=p+f+h+"235959595959"}else if("LastThreeMonths"===e){var g=String((new Date).getFullYear()),_=String(new Date(g,(new Date).getMonth(),0).getDate()),S=new Date(2020,(new Date).getMonth()-2,1).getMonth();S=parseInt(S)<10?"0"+S:S;var b=String((new Date).getMonth());i=g+S+"01000000000000",u=g+(b=parseInt(b)<10?"0"+b:b)+_+"235959595959"}console.log(i,"Start"),console.log(u,"End");var E="/api/saltReturns/apply/"+i+"/"+u;D.a.get(E,ee(a)).then((function(e){d=d.concat(e.data),console.log(d),X.dispatch({type:"SALT_RETURNS",payload:d})})).catch((function(e){console.log(e,"error in data")}))}},ee=function(e){var t=e().auth.token,a={headers:{"Content-type":"multipart/form-data"}};return t&&(a.headers.Authorization=" Bearer ".concat(t," ")),a},te=a(122);function ae(e){return r.a.createElement(v.a,{component:"h2",variant:"h6",color:"primary",gutterBottom:!0},e.children)}var ne=a(5);function se(e,t,a,n){return{time:e,Success:t,Fail:a,amount:n}}se("00:00",0,0,0),se("03:00",0,0,0),se("06:00",0,0,0),se("09:00",0,0,0),se("12:00",0,0,0),se("15:00",0,0,0),se("18:00",0,0,0),se("21:00",0,0,0),se("24:00",0,0,0);var re=function(e){},ie=function(e){var t=parseInt(e.slice(8,10));return t<=3?"03:00":t<=6?"06:00":t<=9?"09:00":t<=12?"12:00":t<=15?"15:00":t<=18?"18:00":t<=21?"21:00":t<=24?"24:00":"00:00"},le=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={start:new Date,end:new Date,graphIsPrepared:!0,data:[{time:"00:00",Success:0,Fail:0,amount:0},{time:"03:00",Success:0,Fail:0,amount:0},{time:"06:00",Success:0,Fail:0,amount:0},{time:"09:00",Success:0,Fail:0,amount:0},{time:"12:00",Success:0,Fail:0,amount:0},{time:"15:00",Success:0,Fail:0,amount:0},{time:"18:00",Success:0,Fail:0,amount:0},{time:"21:00",Success:0,Fail:0,amount:0},{time:"24:00",Success:0,Fail:0,amount:0}]},n}return Object(c.a)(a,[{key:"componentWillReceiveProps",value:function(e){if(this.props.date.start.toLocaleDateString()!==e.date.start.toLocaleDateString()||this.props.date.end.toLocaleDateString()!==e.date.end.toLocaleDateString()){this.setState({start:e.date.start,end:e.date.end});X.getState().date.start,X.getState().date.end;this.setState({graphIsPrepared:!1});var t=[{time:"00:00",Succeeded:0,Fail:0,amount:0},{time:"03:00",Succeeded:0,Fail:0,amount:0},{time:"06:00",Succeeded:0,Fail:0,amount:0},{time:"09:00",Succeeded:0,Fail:0,amount:0},{time:"12:00",Succeeded:0,Fail:0,amount:0},{time:"15:00",Succeeded:0,Fail:0,amount:0},{time:"18:00",Succeeded:0,Fail:0,amount:0},{time:"21:00",Succeeded:0,Fail:0,amount:0},{time:"24:00",Succeeded:0,Fail:0,amount:0}];if(null!==e.saltReturns.saltReturns){var a=String(parseInt(X.getState().date.end.getMonth())+1);a=parseInt(a)<10?"0"+a:a;var n=String(X.getState().date.end.getFullYear()),s=X.getState().date.end.getDate();s=parseInt(s)<10?"0"+s:s;var r=parseInt(n+String(a)+String(s)+"000000000000"),i=parseInt(n+String(a)+String(s)+"235959595959");e.saltReturns.saltReturns.filter((function(e){if(parseInt(e.jid)>=r&&parseInt(e.jid)<=i)return e})).forEach((function(e){var a=!0;if(Array.isArray(e.return))a=!0;else{var n=Object.entries(e.return).map((function(e){return Object(p.a)({},e[0],e[1])})),s=!1;n.forEach((function(e){!0===Object.values(e)[0].result&&!1===s?a=!0:(a=!1,s=!0)}))}"03:00"===ie(e.jid)&&(!0===a?t[1].Success++:t[1].Fail++),"06:00"===ie(e.jid)&&(!0===a?t[2].Success++:t[2].Fail++),"09:00"===ie(e.jid)&&(!0===a?t[3].Success++:t[3].Fail++),"12:00"===ie(e.jid)&&(!0===a?t[4].Success++:t[4].Fail++),"15:00"===ie(e.jid)&&(!0===a?t[5].Success++:t[5].Fail++),"18:00"===ie(e.jid)&&(!0===a?t[6].Success++:t[6].Fail++),"21:00"===ie(e.jid)&&(!0===a?t[7].Success++:t[7].Fail++),"24:00"===ie(e.jid)&&(!0===a?t[8].Success++:t[8].Fail++)}))}this.state.data=t}var l=X.getState().date.start,o=X.getState().date.end;if(l.getTime()>o.getTime()){this.setState({graphIsPrepared:!0}),this.state.data=[{time:"00:00",Succeeded:0,Fail:0,amount:0},{time:"03:00",Succeeded:0,Fail:0,amount:0},{time:"06:00",Succeeded:0,Fail:0,amount:0},{time:"09:00",Succeeded:0,Fail:0,amount:0},{time:"12:00",Succeeded:0,Fail:0,amount:0},{time:"15:00",Succeeded:0,Fail:0,amount:0},{time:"18:00",Succeeded:0,Fail:0,amount:0},{time:"21:00",Succeeded:0,Fail:0,amount:0},{time:"24:00",Succeeded:0,Fail:0,amount:0}]}}},{key:"componentWillUpdate",value:function(){this.setState({graphIsPrepared:!1});X.getState().date.start,X.getState().date.end;var e=[{time:"00:00",Success:0,Fail:0,amount:0},{time:"03:00",Success:0,Fail:0,amount:0},{time:"06:00",Success:0,Fail:0,amount:0},{time:"09:00",Success:0,Fail:0,amount:0},{time:"12:00",Success:0,Fail:0,amount:0},{time:"15:00",Success:0,Fail:0,amount:0},{time:"18:00",Success:0,Fail:0,amount:0},{time:"21:00",Success:0,Fail:0,amount:0},{time:"24:00",Success:0,Fail:0,amount:0}];if(null!==X.getState().saltReturns.saltReturns){var t=String(parseInt(X.getState().date.end.getMonth())+1);t=parseInt(t)<10?"0"+t:t;var a=String(X.getState().date.end.getFullYear()),n=X.getState().date.end.getDate();n=parseInt(n)<10?"0"+n:n;var s=parseInt(a+String(t)+String(n)+"000000000000"),r=parseInt(a+String(t)+String(n)+"235959595959");X.getState().saltReturns.saltReturns.filter((function(e){if(parseInt(e.jid)>=s&&parseInt(e.jid)<=r)return e})).forEach((function(t){var a=!0;if(Array.isArray(t.return))a=!0;else{var n=Object.entries(t.return).map((function(e){return Object(p.a)({},e[0],e[1])})),s=!1;n.forEach((function(e){!0===Object.values(e)[0].result&&!1===s?a=!0:(a=!1,s=!0)}))}"03:00"===ie(t.jid)&&(!0===a?e[1].Success++:e[1].Fail++),"06:00"===ie(t.jid)&&(!0===a?e[2].Success++:e[2].Fail++),"09:00"===ie(t.jid)&&(!0===a?e[3].Success++:e[3].Fail++),"12:00"===ie(t.jid)&&(!0===a?e[4].Success++:e[4].Fail++),"15:00"===ie(t.jid)&&(!0===a?e[5].Success++:e[5].Fail++),"18:00"===ie(t.jid)&&(!0===a?e[6].Success++:e[6].Fail++),"21:00"===ie(t.jid)&&(!0===a?e[7].Success++:e[7].Fail++),"24:00"===ie(t.jid)&&(!0===a?e[8].Success++:e[8].Fail++)}))}this.state.data=e;var i=X.getState().date.start,l=X.getState().date.end;if(i.getTime()>l.getTime()){this.state.data=[{time:"00:00",Succeeded:0,Fail:0,amount:0},{time:"03:00",Succeeded:0,Fail:0,amount:0},{time:"06:00",Succeeded:0,Fail:0,amount:0},{time:"09:00",Succeeded:0,Fail:0,amount:0},{time:"12:00",Succeeded:0,Fail:0,amount:0},{time:"15:00",Succeeded:0,Fail:0,amount:0},{time:"18:00",Succeeded:0,Fail:0,amount:0},{time:"21:00",Succeeded:0,Fail:0,amount:0},{time:"24:00",Succeeded:0,Fail:0,amount:0}]}this.setState({graphIsPrepared:!0})}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(ae,{style:{paddingLeft:5}}," ",this.state.end.toLocaleDateString()),r.a.createElement(te.d,null,r.a.createElement(te.c,{onClick:re,data:this.state.data,margin:{top:16,right:16,bottom:0,left:24}},r.a.createElement(te.f,{dataKey:"time"}),r.a.createElement(te.g,null),r.a.createElement(te.e,null),r.a.createElement(te.a,null),r.a.createElement(te.b,{type:"monotone",dataKey:"Fail",stroke:"#ff6666",onClick:re}),r.a.createElement(te.b,{type:"monotone",dataKey:"Success",stroke:"#82ca9d",onClick:re}))))}}]),a}(r.a.PureComponent);var oe=Object(x.b)((function(e){return{saltReturns:e.saltReturns,date:e.date}}))(Object(ne.a)((function(e){return{root:{display:"flex",marginLeft:e.spacing(50),marginTop:e.spacing(11),"& > * + *":{marginLeft:e.spacing(2)}}}}))(le)),ce=a(378),ue=a.n(ce),de=a(137),me=a(281),pe=a(36),he=a(360),fe=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).handleDateChangeStart=n.handleDateChangeStart.bind(Object(u.a)(n)),n.handleDateChangeEnd=n.handleDateChangeEnd.bind(Object(u.a)(n)),n.dateIsChanged=n.dateIsChanged.bind(Object(u.a)(n)),n.state={start:n.props.date.start,end:n.props.date.end,date:null},n}return Object(c.a)(a,[{key:"handleDateChangeStart",value:function(e){this.setState({booleanStart:!0,start:e})}},{key:"handleDateChangeEnd",value:function(e){this.setState({booleanEnd:!0,end:e})}},{key:"dateIsChanged",value:function(){var e=this.state.start,t=this.state.end;X.dispatch({type:"DATE_SELECT",payload:{start:e,end:t}}),X.dispatch(Q())}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(v.a,{component:"p",variant:"h4"},r.a.createElement(pe.a,{utils:me.default},r.a.createElement(C.a,{container:!0,justify:"space-around"},r.a.createElement(he.b,{margin:"normal",id:"date-picker-dialog",label:"Start Date",format:"dd/MM/yyyy",value:this.state.start,onChange:function(t){e.handleDateChangeStart(t)},KeyboardButtonProps:{"aria-label":"change date"}}),r.a.createElement(he.b,{margin:"normal",id:"date-picker-dialog",label:"End Date",format:"dd/MM/yyyy",value:this.state.end,onChange:function(t){e.handleDateChangeEnd(t)},KeyboardButtonProps:{"aria-label":"change date"}}),r.a.createElement(v.a,{style:{flex:1,paddingTop:15}},r.a.createElement(de.a,{variant:"outlined",color:"primary",onClick:this.dateIsChanged,endIcon:r.a.createElement(ue.a,null,"Search")},"Search"))))))}}]),a}(r.a.Component);var ge=Object(x.b)((function(e,t){return{date:e.date}}))(fe),_e=a(874),Se=a(877),be=a(876),Ee=a(922),ve=a(300),ye=a.n(ve),we=a(928),Oe=a(929),Ce=a(930),je=a(931),ke=a(932),Te=a(933),Re=a(934),Ie=a(935),Ne=a(936),xe=a(937),Pe=a(938),De=a(939),Me=a(940),Fe=a(941),Ae=function(e){var t=e.slice(8,10),a=e.slice(10,12);return String(t)+":"+String(a)},Le=function(e){var t=e.slice(0,4),a=String(parseInt(e.slice(4,6))),n=e.slice(6,8);return String(n)+"/"+String(a)+"/"+String(t)},Be={Add:Object(s.forwardRef)((function(e,t){return r.a.createElement(we.a,Object.assign({},e,{ref:t}))})),Check:Object(s.forwardRef)((function(e,t){return r.a.createElement(Oe.a,Object.assign({},e,{ref:t}))})),Clear:Object(s.forwardRef)((function(e,t){return r.a.createElement(Ce.a,Object.assign({},e,{ref:t}))})),Delete:Object(s.forwardRef)((function(e,t){return r.a.createElement(je.a,Object.assign({},e,{ref:t}))})),DetailPanel:Object(s.forwardRef)((function(e,t){return r.a.createElement(ke.a,Object.assign({},e,{ref:t}))})),Edit:Object(s.forwardRef)((function(e,t){return r.a.createElement(je.a,Object.assign({},e,{ref:t}))})),Export:Object(s.forwardRef)((function(e,t){return r.a.createElement(Te.a,Object.assign({},e,{ref:t}))})),Filter:Object(s.forwardRef)((function(e,t){return r.a.createElement(Re.a,Object.assign({},e,{ref:t}))})),FirstPage:Object(s.forwardRef)((function(e,t){return r.a.createElement(Ie.a,Object.assign({},e,{ref:t}))})),LastPage:Object(s.forwardRef)((function(e,t){return r.a.createElement(Ne.a,Object.assign({},e,{ref:t}))})),NextPage:Object(s.forwardRef)((function(e,t){return r.a.createElement(ke.a,Object.assign({},e,{ref:t}))})),PreviousPage:Object(s.forwardRef)((function(e,t){return r.a.createElement(xe.a,Object.assign({},e,{ref:t}))})),ResetSearch:Object(s.forwardRef)((function(e,t){return r.a.createElement(Ce.a,Object.assign({},e,{ref:t}))})),Search:Object(s.forwardRef)((function(e,t){return r.a.createElement(Pe.a,Object.assign({},e,{ref:t}))})),SortArrow:Object(s.forwardRef)((function(e,t){return r.a.createElement(De.a,Object.assign({},e,{ref:t}))})),ThirdStateCheck:Object(s.forwardRef)((function(e,t){return r.a.createElement(Me.a,Object.assign({},e,{ref:t}))})),ViewColumn:Object(s.forwardRef)((function(e,t){return r.a.createElement(Fe.a,Object.assign({},e,{ref:t}))}))},He=[{title:"status",field:"status",cellStyle:function(e){return{color:"Success"===e?"#208000":"#ff0000"}}},{title:"Name",field:"name"},{title:"Date",field:"date"},{title:"Time",field:"time"}],We=[],Ue=(Object.entries($[0].return).map((function(e){return Object(p.a)({},e[0],e[1])})),function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).selestMinion=n.selestMinion.bind(Object(u.a)(n)),n.handleClickOpen=n.handleClickOpen.bind(Object(u.a)(n)),n.handleClose=n.handleClose.bind(Object(u.a)(n)),X.dispatch(Q()),n.state={saltReturns:We,Returns:null,dialogOpen:!1,minion:"",data:[],flag:!1},n}return Object(c.a)(a,[{key:"componentWillMount",value:function(){var e=this;null!==X.getState().saltReturns.saltReturns&&setTimeout((function(){var t=X.getState().date.start;new Date(t.getTime()).setHours(0,0,0);var a=X.getState().date.end,n=(new Date(a.getTime()),X.getState().saltReturns.saltReturns.map((function(e){var t=!0;Object.entries(e.return);if(Array.isArray(e.return))t=!0;else{var a=Object.entries(e.return).map((function(e){return Object(p.a)({},e[0],e[1])})),n=!1;a.forEach((function(e){!0===Object.values(e)[0].result&&!1===n?t=!0:(t=!1,n=!0)}))}return{status:!0===t?"Success":"Fail",name:e.minion,date:Le(e.jid),id:e._id,time:Ae(e.jid)}})));e.setState({saltReturns:n})}),500)}},{key:"selestMinion",value:function(e,t){var a=this;"Success"!==t.status&&X.getState().saltReturns.saltReturns.filter((function(e){if(e._id===t.id)return a.setState({dialogOpen:!0,minion:e}),e}))}},{key:"handleClickOpen",value:function(){this.setState({dialogOpen:!0})}},{key:"handleClose",value:function(){this.setState({dialogOpen:!1})}},{key:"componentWillReceiveProps",value:function(e,t){var a=this;null!==X.getState().saltReturns.saltReturns&&setTimeout((function(){var e=X.getState().date.start;new Date(e.getTime()).setHours(0,0,0);var t=X.getState().date.end,n=(new Date(t.getTime()),X.getState().saltReturns.saltReturns.map((function(e){var t=!0;Object.entries(e.return);if(Array.isArray(e.return))t=!0;else{var a=Object.entries(e.return).map((function(e){return Object(p.a)({},e[0],e[1])})),n=!1;a.forEach((function(e){!0===Object.values(e)[0].result&&!1===n?t=!0:(t=!1,n=!0)}))}return{status:!0===t?"Success":"Fail",name:e.minion,date:Le(e.jid),id:e._id,time:Ae(e.jid)}})));a.setState({saltReturns:n})}),500)}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(ye.a,{title:"Minions Table",columns:He,data:this.state.saltReturns,icons:Be,onRowClick:function(t,a){return e.setState({selectedRow:a})},options:{exportButton:!0,filtering:!0},actions:[{icon:Object(s.forwardRef)((function(e,t){return r.a.createElement(je.a,Object.assign({},e,{ref:t}))})),tooltip:"Save User",onClick:function(t,a){e.selestMinion(t,a)}}]}),r.a.createElement(_e.a,{open:this.state.dialogOpen,onClose:this.handleClose,"aria-describedby":"alert-dialog-description",maxWidth:"lg",scroll:"paper","aria-labelledby":"confirmation-dialog-title"},r.a.createElement(Ee.a,{id:"alert-dialog-title"},r.a.createElement(v.a,{style:{color:"#ff6666",fontSize:18}},"Failed ",this.state.minion.minion," at date ",void 0!==this.state.minion?Le(String(this.state.minion.jid)):" "," at hour ",void 0!==this.state.minion?Ae(String(this.state.minion.jid)):" ")),r.a.createElement(be.a,{dividers:!0},r.a.createElement("div",{style:{minWidth:1e3}},r.a.createElement(v.a,null,"id : ",this.state.minion._id))),r.a.createElement(Se.a,null,r.a.createElement(de.a,{onClick:this.handleClose,color:"primary",autoFocus:!0},"close"))))}}]),a}(r.a.Component));var ze=Object(x.b)((function(e,t){return{saltReturns:e.saltReturns,date:e.date}}))(Object(ne.a)((function(e){return{root:{height:240,flexGrow:1,maxWidth:900,fontSize:20},text:{paddingLeft:e.spacing(6),fontSize:16},title:{fontSize:16,paddingLeft:e.spacing(2)},TreeItem:{marginTop:e.spacing(3.5),flexGrow:1,maxWidth:950,fontSize:18},TreeItemText:{fontSize:18}}}))(Ue)),Ge=a(915),qe=a(916),Je=a(917),Ye=a(193),Ve=a.n(Ye),Ke=a(885),Ze=a(926),Xe=a(506),$e=a(277),Qe=a(539),et=a.n(Qe),tt=a(280),at=a.n(tt),nt=a(540),st=a.n(nt),rt=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(e){var n;Object(o.a)(this,a),(n=t.call(this,e)).onClickMinion=n.onClickMinion.bind(Object(u.a)(n)),n.handleClickButton=n.handleClickButton.bind(Object(u.a)(n));var s=n.props.comment;return n.state={open:!1,defer:!1,click:!1,comment:s,listOpen:!1},n}return Object(c.a)(a,[{key:"onClickMinion",value:function(){var e=this;this.setState({click:!0});var t=X.getState().saveMinion.saveMinion.filter((function(t){if(t.id!==e.props.id)return t}));t=t.map((function(e,t){return Object(h.a)({},e,{id:t+1})})),X.dispatch({type:"SAVE_MINION",payload:t})}},{key:"handleClickButton",value:function(){this.state.listOpen=!this.state.listOpen}},{key:"render",value:function(){var e=this;this.props.classes.bullet;return""===this.state.comment&&(this.state.click=!0),!1===this.state.click?r.a.createElement(Ge.a,{className:this.props.classes.root},r.a.createElement(Je.a,null,r.a.createElement(de.a,{onClick:function(){e.onClickMinion()}},r.a.createElement(v.a,{className:this.props.classes.title,color:"textSecondary",gutterBottom:!0},"fun: ",this.props.comment)),r.a.createElement(v.a,{variant:"h5",component:"h2"},r.a.createElement("div",null,r.a.createElement("div",{className:this.props.classes.container},r.a.createElement(E.a,{component:"nav","aria-labelledby":"nested-list-subheader",className:this.props.classes.root2},r.a.createElement(Ke.a,{button:!0,onClick:function(){return e.setState({listOpen:!e.state.listOpen})}},r.a.createElement(Ze.a,null,r.a.createElement(Ve.a,null)),r.a.createElement(Xe.a,{primary:"See minions"}),this.state.listOpen?r.a.createElement(et.a,null):r.a.createElement(at.a,null)),this.props.minion.map((function(t){return r.a.createElement($e.a,{in:e.state.listOpen,timeout:"auto",unmountOnExit:!0},r.a.createElement(E.a,{component:"div",disablePadding:!0},r.a.createElement(Ke.a,{className:e.props.classes.nested},r.a.createElement(Ze.a,null,r.a.createElement(st.a,null)),r.a.createElement(Xe.a,{primary:t}))))}))))))),r.a.createElement(qe.a,null)):r.a.createElement("div",null)}}]),a}(r.a.Component),it=Object(ne.a)((function(e){return{root:{maxWidth:260,margin:e.spacing(1),marginLeft:e.spacing(0)},root2:{width:230,maxWidth:360,fontSize:12,backgroundColor:e.palette.background.paper},nested:{paddingLeft:e.spacing(4)},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},title:{fontSize:16,overflow:"wrap"},pos:{marginBottom:12},button:{margin:e.spacing(1),fontSize:12},container:{width:300,display:"flex",flexWrap:"wrap"}}}))(rt),lt=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement(de.a,{style:{color:"#fff",border:"none"},variant:"outlined",onClick:function(){return X.dispatch(Y())}},"Log out")}}]),a}(s.Component),ot=(Object(x.b)(null,{logout:Y})(lt),a(311)),ct=a.n(ot),ut=(a(869),a(942)),dt=a(914),mt=a(548),pt=a(927),ht=a(541),ft=a.n(ht),gt=a(303),_t=a.n(gt),St=a(390),bt=a.n(St),Et={Add:Object(s.forwardRef)((function(e,t){return r.a.createElement(we.a,Object.assign({},e,{ref:t}))})),Check:Object(s.forwardRef)((function(e,t){return r.a.createElement(Oe.a,Object.assign({},e,{ref:t}))})),Clear:Object(s.forwardRef)((function(e,t){return r.a.createElement(Ce.a,Object.assign({},e,{ref:t}))})),Delete:Object(s.forwardRef)((function(e,t){return r.a.createElement(je.a,Object.assign({},e,{ref:t}))})),DetailPanel:Object(s.forwardRef)((function(e,t){return r.a.createElement(ke.a,Object.assign({},e,{ref:t}))})),Edit:Object(s.forwardRef)((function(e,t){return r.a.createElement(je.a,Object.assign({},e,{ref:t}))})),Export:Object(s.forwardRef)((function(e,t){return r.a.createElement(Te.a,Object.assign({},e,{ref:t}))})),Filter:Object(s.forwardRef)((function(e,t){return r.a.createElement(Re.a,Object.assign({},e,{ref:t}))})),FirstPage:Object(s.forwardRef)((function(e,t){return r.a.createElement(Ie.a,Object.assign({},e,{ref:t}))})),LastPage:Object(s.forwardRef)((function(e,t){return r.a.createElement(Ne.a,Object.assign({},e,{ref:t}))})),NextPage:Object(s.forwardRef)((function(e,t){return r.a.createElement(ke.a,Object.assign({},e,{ref:t}))})),PreviousPage:Object(s.forwardRef)((function(e,t){return r.a.createElement(xe.a,Object.assign({},e,{ref:t}))})),ResetSearch:Object(s.forwardRef)((function(e,t){return r.a.createElement(Ce.a,Object.assign({},e,{ref:t}))})),Search:Object(s.forwardRef)((function(e,t){return r.a.createElement(Pe.a,Object.assign({},e,{ref:t}))})),SortArrow:Object(s.forwardRef)((function(e,t){return r.a.createElement(De.a,Object.assign({},e,{ref:t}))})),ThirdStateCheck:Object(s.forwardRef)((function(e,t){return r.a.createElement(Me.a,Object.assign({},e,{ref:t}))})),ViewColumn:Object(s.forwardRef)((function(e,t){return r.a.createElement(Fe.a,Object.assign({},e,{ref:t}))}))},vt=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).tokenConfig=function(){var e=X.getState().auth.token,t={headers:{"Content-type":"application/json"}};return e&&(t.headers.Authorization=" Bearer ".concat(e," ")),t},n.handleClose=function(e,t){"clickaway"!==t&&n.setState({msg:!1,warninginput:!1,warningNoMinionSelected:!1})},n.handleClick=function(){if(n.state.countSaveMinion--,""!==n.state.input&&0===n.state.countSaveMinion){n.setState({msg:!0}),setTimeout((function(){n.setState({msg:!1,clickSave:!1})}),2200),n.state.saveMinion.comment=n.state.input,n.state.history.unshift(n.state.saveMinion);var e=X.getState().saveMinion.saveMinion;e.unshift(n.state.saveMinion);var t=n.state.input.split(" "),a=n.state.parms.split(" "),s={func:t[0],tgt:n.state.saveMinion.minions,salt_cmd:""===n.state.parms?"":a};n.setState({parms:""});var r=JSON.stringify(s),i=n.tokenConfig();D.a.post("/saltstack_cmd",r,i).then((function(e){})).catch((function(e){console.log("err from SaltStack"),X.dispatch(z(e.response.data.message,e.response.status,"CMD_FAIL"))})),X.dispatch({type:"SAVE_MINION",payload:e}),X.dispatch({type:"SAVE_MINION",payload:e})}""===n.state.input&&(n.setState({warninginput:!0}),setTimeout((function(){n.setState({warninginput:!1})}),2200)),0!==n.state.countSaveMinion&&1!==n.state.countSaveMinion&&""!==n.state.input&&(n.setState({warningNoMinionSelected:!0}),setTimeout((function(){n.setState({warningNoMinionSelected:!1})}),2200)),n.setState({input:"",parms:""})},n.clickOpen=n.clickOpen.bind(Object(u.a)(n)),n.handleClose=n.handleClose.bind(Object(u.a)(n)),n.handleClick=n.handleClick.bind(Object(u.a)(n)),n.sentCommand=n.sentCommand.bind(Object(u.a)(n)),n.getMinionsFromServer=n.getMinionsFromServer.bind(Object(u.a)(n)),n.tokenConfig=n.tokenConfig.bind(Object(u.a)(n)),X.dispatch((function(e,t){D.a.get("/get_connected_minions",ee(t)).then((function(e){for(var t=[],a=0;a<e.data.result.length;a++){var n={name:e.data.result[a]};t.push(n)}X.dispatch({type:"TEAM_LIST",payload:t})})).catch((function(e){console.log(e,"err get_connected_minions")}))})),n.state={alert:!1,msg:!1,menu:"Dashboard",open:!1,defer:!1,clickSave:!1,history:[],input:"",parms:"",saveMinion:{},countSaveMinion:0,warninginput:!1,warningNoMinionSelected:!1,data:[]},n.getMinionsFromServer(),n}return Object(c.a)(a,[{key:"getMinionsFromServer",value:function(){var e=this,t=this.tokenConfig();D.a.get("/get_connected_minions",t).then((function(t){for(var a=[],n=0;n<t.data.result.length;n++){var s={name:t.data.result[n]};a.push(s)}e.setState({data:a})})).catch((function(e){console.log(e,"err get_connected_minions")}))}},{key:"clickOpen",value:function(e){var t=this;this.state.countSaveMinion=0,this.state.countSaveMinion++;var a=e.map((function(e){return e.name})),n=X.getState().saveMinion.saveMinion.length+1;this.state.saveMinion={minions:a,id:n,comment:""},this.setState({alert:!0,clickSave:!0}),setTimeout((function(){t.setState({alert:!1})}),2200)}},{key:"sentCommand",value:function(e){var t=this;if(this.state.countSaveMinion--,0===this.state.countSaveMinion){this.state.saveMinion.comment=e,this.state.history.unshift(this.state.saveMinion);var a=X.getState().saveMinion.saveMinion;a.unshift(this.state.saveMinion);this.state.input.split(" ");var n=this.state.parms.split(" "),s={func:e,tgt:this.state.saveMinion.minions,salt_cmd:""===this.state.parms?"":n};this.setState({parms:""});var r=JSON.stringify(s),i=this.tokenConfig();D.a.post("/saltstack_cmd",r,i).then((function(e){})).catch((function(e){X.dispatch(z(e.response.data.message,e.response.status,"CMD_FAIL"))})),X.dispatch({type:"SAVE_MINION",payload:a}),this.setState({msg:!0}),setTimeout((function(){t.setState({msg:!1,clickSave:!1})}),2200)}0!==this.state.countSaveMinion&&1!==this.state.countSaveMinion&&(this.setState({warningNoMinionSelected:!0}),setTimeout((function(){t.setState({warningNoMinionSelected:!1})}),2200)),this.setState({parms:""})}},{key:"render",value:function(){var e,t=this;return r.a.createElement("div",{style:{display:"flex",flexDirection:"row"}},r.a.createElement("div",{style:{display:"flex",flexDirection:"column"}},r.a.createElement(j.a,{component:"form",className:this.props.classes.root},r.a.createElement(w.a,{className:this.props.classes.iconButton,"aria-label":"menu"},r.a.createElement(T.a,null)),r.a.createElement(mt.a,{autoComplete:!0,autoFocus:"true",value:this.state.input,onChange:function(e){t.setState({input:e.target.value})},className:this.props.classes.input,placeholder:"Command Line",inputProps:{"aria-label":"Command Line"}}),""!==this.state.input?r.a.createElement("div",null,r.a.createElement(w.a,{color:"primary",className:this.props.classes.iconButton,"aria-label":"directions",onClick:function(){t.setState({input:""})}},r.a.createElement(bt.a,null))):r.a.createElement("div",null),r.a.createElement(y.a,{className:this.props.classes.divider,orientation:"vertical"}),r.a.createElement(w.a,{fontSize:"small",color:"primary",size:"medium",className:this.props.classes.iconButton,"aria-label":"directions",onClick:this.handleClick},r.a.createElement(ft.a,null))),r.a.createElement("div",{className:this.props.classes.Comments},"Parameters",r.a.createElement(y.a,{light:!0,style:{width:200}})),r.a.createElement(j.a,{component:"form",className:this.props.classes.paperParms},r.a.createElement(mt.a,{autoComplete:!0,autoFocus:"true",value:this.state.parms,onChange:function(e){t.setState({parms:e.target.value})},className:this.props.classes.inputparms,placeholder:"Parameters",inputProps:{"aria-label":"Parameters"}}),""!==this.state.parms?r.a.createElement(w.a,{fontSize:"small",color:"primary",className:this.props.classes.iconButton,"aria-label":"directions",onClick:function(){t.setState({parms:""})}},r.a.createElement(bt.a,null)):r.a.createElement("div",null)),r.a.createElement("div",{className:this.props.classes.Comments},"commands",r.a.createElement(y.a,{light:!0,style:{width:200}})),r.a.createElement("div",{className:this.props.classes.ButtonGroup},r.a.createElement(dt.a,(e={size:"large",color:"primary",orientation:"horizontal"},Object(p.a)(e,"color","primary"),Object(p.a)(e,"aria-label","vertical contained primary button group"),Object(p.a)(e,"variant","text"),Object(p.a)(e,"style",{marginTop:35,width:380,height:50}),e),r.a.createElement(de.a,{onClick:function(){return t.sentCommand("cmd.run")}},"cmd.run"),r.a.createElement(de.a,{onClick:function(){return t.sentCommand("state.fun")}},"state.fun"),r.a.createElement(de.a,{onClick:function(){return t.sentCommand("cd")}},"cd"))),r.a.createElement("div",{className:this.props.classes.Divider},"History",r.a.createElement(y.a,{light:!0,style:{width:400}})),r.a.createElement("div",{style:{display:"flex",flexDirection:"row",flexFlow:"row wrap",maxWidth:600}},X.getState().saveMinion.saveMinion.map((function(e){return r.a.createElement(it,{id:e.id,minion:e.minions,comment:e.comment})}))),r.a.createElement("div",{className:this.props.classes.Divider},r.a.createElement(y.a,{light:!0,style:{width:400}}))),r.a.createElement("div",null,r.a.createElement("div",{className:this.props.classes.MaterialTable},this.state.alert?r.a.createElement("div",{className:this.props.classes.msg},r.a.createElement(ut.a,{severity:"success"},"The minions you selected were  \u2014 ",r.a.createElement("strong",null,"accepted in the system"))):r.a.createElement("div",null),r.a.createElement(ye.a,{title:"Minions",icons:Et,columns:[{title:"Name",field:"name"}],data:this.state.data,options:{selection:!0},actions:[{icon:Object(s.forwardRef)((function(e,t){return r.a.createElement(_t.a,Object.assign({color:"action"},e,{ref:t}))})),tooltip:"Save Minions",onClick:function(e,a){t.clickOpen(a)}}]}),!0===this.state.clickSave?r.a.createElement("div",{className:this.props.classes.msg},r.a.createElement(pt.a,{open:this.state.msg,autoHideDuration:6e3,onClose:this.handleClose},r.a.createElement(ut.a,{onClose:this.handleClose,severity:"success"},"The commands you made were received in the system!"))):r.a.createElement("div",null),!0===this.state.warninginput?r.a.createElement("div",{className:this.props.classes.msg},r.a.createElement(pt.a,{open:this.state.warninginput,autoHideDuration:6e3,onClose:this.handleClose},r.a.createElement(ut.a,{onClose:this.handleClose,severity:"warning"},"command not sent because     ",r.a.createElement("strong",null," no command entered   ")))):r.a.createElement("div",null),!0===this.state.warningNoMinionSelected?r.a.createElement("div",{className:this.props.classes.msg},r.a.createElement(pt.a,{open:this.state.warningNoMinionSelected,autoHideDuration:6e3,onClose:this.handleClose},r.a.createElement(ut.a,{onClose:this.handleClose,severity:"warning"},"command not sent because ",r.a.createElement("strong",null,"no minion selected   ")))):r.a.createElement("div",null))))}}]),a}(r.a.Component),yt=Object(ne.a)((function(e){return{MaterialTable:{marginLeft:e.spacing(12),marginTop:e.spacing(1.5),width:450},root:{padding:"2px 4px",display:"flex",alignItems:"center",width:500,height:70,marginTop:e.spacing(1)},paperParms:{padding:"3px 4px",display:"flex",alignItems:"center",width:400,height:50,marginTop:e.spacing(3)},input:{marginLeft:e.spacing(1),marginTop:0,flex:1},inputparms:{marginLeft:e.spacing(1),flex:1},minionStyle:{marginTop:e.spacing(5),width:200},iconButton:{padding:10,height:55},Divider:{marginTop:e.spacing(5),height:50,margin:4},iconButtonParms:{padding:10,height:10,width:4},dividerParms:{marginTop:e.spacing(5),height:"100%",margin:4},msg:{width:"100%","& > * + *":{marginTop:e.spacing(2)}},Comments:{marginTop:e.spacing(4)},ButtonGroup:{display:"flex",flexDirection:"column","& > *":{margin:e.spacing(.5)}},button:{height:50}}}))(vt),wt=a(918),Ot=a(944),Ct=a(182),jt=a(382),kt=a.n(jt),Tt=a(921),Rt=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(e){var n;Object(o.a)(this,a),(n=t.call(this,e)).deleteIcon=n.deleteIcon.bind(Object(u.a)(n)),n.handleClickOpen=n.handleClickOpen.bind(Object(u.a)(n)),n.handleClose=n.handleClose.bind(Object(u.a)(n)),n.state={expanded:!1,UpperCase:"",open:!1,isDelete:!1};n.props.first_name.toUpperCase();return""!==n.props.first_name?n.state.UpperCase=n.props.first_name.toUpperCase()[0]:n.state.UpperCase="",n}return Object(c.a)(a,[{key:"handleClose",value:function(){var e=this;this.setState((function(e){return{open:!e.open}}));var t=this.state,a=t.password,n=(t.ReturnPassword,t.Role),s=t.Email,r=t.first_name,i=t.last_name;JSON.stringify({first_name:r,last_name:i,role:n,email:s,password:a});D.a.delete("/delete/"+this.props.id,function(e){var t=e().auth.token,a={headers:{"Content-Type":"application/json"}};return t&&(a.headers.Authorization=" Bearer ".concat(t," ")),a}(X.getState)).then((function(t){e.setState({isDelete:!0})}))}},{key:"handleClickOpen",value:function(){this.setState((function(e){return{open:!e.open}}))}},{key:"deleteIcon",value:function(){}},{key:"render",value:function(){var e=["#ff0000","#00ff00","#0000ff"];Math.floor(Math.random()*e.length);return!1===this.state.isDelete?r.a.createElement(Ge.a,{className:this.props.classes.root},r.a.createElement(wt.a,{avatar:r.a.createElement(Ot.a,{"aria-label":"recipe",className:this.props.classes.avatar},this.state.UpperCase),title:this.props.first_name+" "+this.props.last_name,subheader:this.props.role}),r.a.createElement(Je.a,null,r.a.createElement(v.a,{paragraph:!0,className:this.props.classes.paragraph},"Email:",this.props.mail),r.a.createElement(v.a,{paragraph:!0,className:this.props.classes.paragraph})),r.a.createElement(qe.a,{disableSpacing:!0},r.a.createElement(w.a,{"aria-label":"share",variant:"outlined",onClick:this.handleClickOpen,color:"secondary"},r.a.createElement(kt.a,null)),r.a.createElement(_e.a,{open:this.state.open,onClose:this.handleClose,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},r.a.createElement(be.a,null,r.a.createElement(Tt.a,{id:"alert-dialog-description"},"Are you sure you want to delete a user from the system?")),r.a.createElement(Se.a,null,r.a.createElement(de.a,{onClick:this.handleClickOpen,color:"primary"},"Disagree"),r.a.createElement(de.a,{onClick:this.handleClose,color:"secondary",autoFocus:!0},"Delete"))))):r.a.createElement("div",null)}}]),a}(r.a.Component),It=Object(ne.a)((function(e){return{root:{minWidth:345,maxWidth:400,margin:e.spacing(2.5)},media:{height:0,paddingTop:"56.25%"},expand:{transform:"rotate(0deg)",marginLeft:"auto",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},expandOpen:{transform:"rotate(180deg)"},avatar:{backgroundColor:Ct.a[500]},paragraph:{paddingLeft:e.spacing(7.8),wordWrap:"break-word"}}}))(Rt),Nt=a(924),xt=a(542),Pt=a.n(xt),Dt=a(377),Mt=a(296),Ft=a(121),At=a.n(Ft),Lt=a(391),Bt=a.n(Lt),Ht=a(392),Wt=a.n(Ht),Ut=function(e){var t=e().auth.token,a={headers:{"Content-Type":"application/json"}};return t&&(a.headers.Authorization=" Bearer ".concat(t," ")),a},zt=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).handleExpandClick=n.handleExpandClick.bind(Object(u.a)(n)),n.ClickFab=n.ClickFab.bind(Object(u.a)(n)),n.handleClose=n.handleClose.bind(Object(u.a)(n)),n.signIn=n.signIn.bind(Object(u.a)(n)),n.handleInputChange=n.handleInputChange.bind(Object(u.a)(n)),n.handleClickShowPassword=n.handleClickShowPassword.bind(Object(u.a)(n)),n.handleMouseDownPassword=n.handleMouseDownPassword.bind(Object(u.a)(n)),n.handleClickShowPasswordReturn=n.handleClickShowPasswordReturn.bind(Object(u.a)(n)),n.handleMouseDownPasswordReturn=n.handleMouseDownPasswordReturn.bind(Object(u.a)(n)),n.initTeam=n.initTeam.bind(Object(u.a)(n)),n.state={expanded:!1,fab:!1,first_name:"",last_name:"",Role:"",Email:"",Password:"",ReturnPassword:"",showPasswordReturn:"password",showPassword:"password",errPassword:!1,saveCard:!1,Team:[],counter:0,err_first_name:!1,err_last_name:!1,err_Role:!1,err_Email:!1,err_Password:!1,no_add_card:!1},n.initTeam(),n}return Object(c.a)(a,[{key:"initTeam",value:function(){var e=this;D.a.get("/get_users",Ut(X.getState)).then((function(t){e.setState({Team:t.data})})).catch((function(e){console.log(e)}))}},{key:"handleClickShowPassword",value:function(){this.setState({showPassword:"text"})}},{key:"handleMouseDownPassword",value:function(){this.setState({showPassword:"password"})}},{key:"handleClickShowPasswordReturn",value:function(){this.setState({showPasswordReturn:"text"})}},{key:"handleMouseDownPasswordReturn",value:function(){this.setState({showPasswordReturn:"password"})}},{key:"handleExpandClick",value:function(){this.setState((function(e){return{expanded:!e.expanded}}))}},{key:"ClickFab",value:function(){this.setState((function(e){return{fab:!e.fab,password:"",first_name:"",lastName:"",Role:"",Email:"",Password:"",ReturnPassword:""}}))}},{key:"signIn",value:function(e){var t=this;e.preventDefault();var a=this.state,n=a.password,s=a.ReturnPassword,r=a.Role,i=a.Email,l=a.first_name,o=a.last_name,c=new RegExp("^(?=.*[a-z])(?=.*[A-Z])(?=.*[!@#$%^&*])(?=.{8,})"),u=new RegExp("[A-Z0-9._%+-]+@[A-Z0-9.-]+.[A-Z]{2,6}"),d=!0;if((!1===c.test(n)||n.length>30)&&(d=!1,this.setState({err_Password:!0}),setTimeout((function(){t.setState({err_Password:!1})}),1e4)),l.length>30&&(d=!1,this.setState({err_first_name:!0}),setTimeout((function(){t.setState({err_first_name:!1})}),6e3)),o.length>30&&(d=!1,this.setState({err_last_name:!0}),setTimeout((function(){t.setState({err_last_name:!1})}),6e3)),r.length>30&&(d=!1,this.setState({err_Role:!0}),setTimeout((function(){t.setState({err_Role:!1})}),6e3)),(i.length>50||!1===u.test(this.state.Email.toUpperCase()))&&(d=!1,this.setState({err_Email:!0}),setTimeout((function(){t.setState({err_Email:!1})}),6e3)),n===s||(this.setState({errPassword:!0}),setTimeout((function(){t.setState({errPassword:!1})}),6e3)),n===s&&!0===d){this.setState((function(e){return{fab:!1}}));var m=JSON.stringify({first_name:l,last_name:o,role:r,email:i,password:n});D.a.post("/register",m,Ut(X.getState)).then((function(e){t.state.Team.push({first_name:l,mail:i,role:r,last_name:o}),t.setState({saveCard:!0}),setTimeout((function(){t.setState({saveCard:!1})}),4e3)})).catch((function(e){console.log(e),t.setState({no_add_card:!0}),setTimeout((function(){t.setState({no_add_card:!1})}),4e3)})),this.setState({expanded:!1,fab:!1,first_name:"",last_name:"",Role:"",Email:"",Password:"",ReturnPassword:"",showPasswordReturn:"password",showPassword:"password",errPassword:!1,UnsecuredPassword:!1}),setTimeout((function(){t.initTeam()}),500)}}},{key:"handleInputChange",value:function(e){this.setState(Object(p.a)({},e.target.name,e.target.value))}},{key:"handleClose",value:function(e,t){"clickaway"!==t&&this.setState({errPassword:!1,saveCard:!1})}},{key:"render",value:function(){var e,t,a=this;return!1===this.state.fab?r.a.createElement("div",null,r.a.createElement("div",{className:this.props.classes.msg},r.a.createElement(pt.a,{open:this.state.saveCard,autoHideDuration:6e3,onClose:this.handleClose},r.a.createElement(ut.a,{onClose:this.handleClose,severity:"success"},"The system added  ",r.a.createElement("strong",null,"a new staff member   ")))),r.a.createElement("div",{className:this.props.classes.msg},r.a.createElement(pt.a,{open:this.state.no_add_card,autoHideDuration:6e3,onClose:this.handleClose},r.a.createElement(ut.a,{onClose:this.handleClose,severity:"error"},"The system   ",r.a.createElement("strong",null," not added a new staff member   ")))),r.a.createElement("div",{className:this.props.classes.root},this.state.Team.map((function(e,t){if(0!==a.state.Team.length)return r.a.createElement(It,{arr:t,first_name:e.first_name,last_name:e.last_name,role:e.role,mail:e.email,id:e._id})}))),r.a.createElement(Nt.a,{color:"primary","aria-label":"add",className:this.props.classes.fab,onClick:this.ClickFab},r.a.createElement(Pt.a,null))):r.a.createElement("div",{className:this.props.classes.field},r.a.createElement("form",{className:this.props.classes.form,onSubmit:this.signIn},r.a.createElement("div",{className:this.props.classes.input},r.a.createElement(Mt.a,{className:this.props.classes.margin,id:"input-with-icon-textfield",label:"First Name",required:!0,fullWidth:!0,name:"first_name",value:this.state.first_name,onChange:this.handleInputChange,InputProps:{startAdornment:r.a.createElement(Dt.a,{position:"start"},r.a.createElement(At.a,null))}})),!0===this.state.err_first_name?r.a.createElement("div",{className:this.props.classes.msg},r.a.createElement(ut.a,{onClose:function(){a.setState({err_first_name:!1})},severity:"error"},"The first name must be less than  ",r.a.createElement("strong",null,"30 characters  "))):r.a.createElement("div",null),r.a.createElement("div",{className:this.props.classes.input},r.a.createElement(Mt.a,{className:this.props.classes.margin,id:"input-with-icon-textfield",label:"Last Name",fullWidth:!0,name:"last_name",value:this.state.last_name,onChange:this.handleInputChange,InputProps:{startAdornment:r.a.createElement(Dt.a,{position:"start"},r.a.createElement(At.a,null))}})),!0===this.state.err_last_name?r.a.createElement("div",{className:this.props.classes.msg},r.a.createElement(ut.a,{onClose:function(){a.setState({err_last_name:!1})},severity:"error"},"The last name must be less than  ",r.a.createElement("strong",null,"30 characters  "))):r.a.createElement("div",null),r.a.createElement("div",{className:this.props.classes.input},r.a.createElement(Mt.a,{className:this.props.classes.margin,id:"input-with-icon-textfield",label:"Email",required:!0,fullWidth:!0,name:"Email",value:this.state.Email,onChange:this.handleInputChange,InputProps:{startAdornment:r.a.createElement(Dt.a,{position:"start"},r.a.createElement(At.a,null))}})),!0===this.state.err_Email?r.a.createElement("div",{className:this.props.classes.msg},r.a.createElement(ut.a,{onClose:function(){a.setState({err_Email:!1})},severity:"error"},r.a.createElement("strong",null," Invalid mail  "))):r.a.createElement("div",null),r.a.createElement("div",{className:this.props.classes.input},r.a.createElement(Mt.a,{className:this.props.classes.margin,id:"input-with-icon-textfield",label:"Role",name:"Role",fullWidth:!0,value:this.state.Role,onChange:this.handleInputChange,InputProps:{startAdornment:r.a.createElement(Dt.a,{position:"start"},r.a.createElement(At.a,null))}})),!0===this.state.err_Role?r.a.createElement("div",{className:this.props.classes.msg},r.a.createElement(ut.a,{onClose:function(){a.setState({err_Role:!1})},severity:"error"},"The role name must be less than  ",r.a.createElement("strong",null,"30 characters  "))):r.a.createElement("div",null),r.a.createElement("div",{className:this.props.classes.input},r.a.createElement(Mt.a,(e={className:this.props.classes.margin,id:"input-with-icon-textfield",label:"password",required:!0,fullWidth:!0,name:"password"},Object(p.a)(e,"label","Password"),Object(p.a)(e,"type","text"===this.state.showPassword?"text":"password"),Object(p.a)(e,"value",this.state.password),Object(p.a)(e,"onChange",this.handleInputChange),Object(p.a)(e,"InputProps",{startAdornment:r.a.createElement(Dt.a,{position:"start"},r.a.createElement(At.a,null)),endAdornment:r.a.createElement(Dt.a,{position:"end"},r.a.createElement(w.a,{"aria-label":"toggle password visibility",onClick:this.handleClickShowPassword,onMouseDown:this.handleMouseDownPassword},"text"===this.state.showPassword?r.a.createElement(Bt.a,null):r.a.createElement(Wt.a,null)))}),e))),!0===this.state.err_Password?r.a.createElement("div",{className:this.props.classes.msg},r.a.createElement(ut.a,{onClose:function(){a.setState({err_Password:!1})},severity:"error"},"The password ",r.a.createElement("strong",null,"must "),"  be at least 8 characters long, and include uppercase and lowercase letters, and special characters",r.a.createElement("strong",null,"{ !, @, #, , $,%, , ^ &, , * }","  "))):r.a.createElement("div",null),r.a.createElement("div",{className:this.props.classes.input},r.a.createElement(Mt.a,(t={className:this.props.classes.margin,id:"input-with-icon-textfield",label:"password",required:!0,fullWidth:!0,name:"ReturnPassword"},Object(p.a)(t,"label","Return Password"),Object(p.a)(t,"type","text"===this.state.showPasswordReturn?"text":"password"),Object(p.a)(t,"value",this.state.ReturnPassword),Object(p.a)(t,"onChange",this.handleInputChange),Object(p.a)(t,"InputProps",{startAdornment:r.a.createElement(Dt.a,{position:"start"},r.a.createElement(At.a,null)),endAdornment:r.a.createElement(Dt.a,{position:"end"},r.a.createElement(w.a,{"aria-label":"toggle password visibility",onClick:this.handleClickShowPasswordReturn,onMouseDown:this.handleMouseDownPasswordReturn},"text"===this.state.showPasswordReturn?r.a.createElement(Bt.a,null):r.a.createElement(Wt.a,null)))}),t))),!0===this.state.errPassword?r.a.createElement("div",{className:this.props.classes.msg},r.a.createElement(ut.a,{onClose:function(){a.setState({errPassword:!1})},severity:"error"},"Passwords  ",r.a.createElement("strong",null,"unequal   "))):r.a.createElement("div",null),r.a.createElement(de.a,{variant:"contained",color:"primary",type:"submit",size:"small",fullWidth:!0,className:this.props.classes.button,startIcon:r.a.createElement(_t.a,null)},"Save")))}}]),a}(r.a.Component),Gt=Object(ne.a)((function(e){return{root:{display:"flex",flexDirection:"row",flexFlow:"row wrap",maxWidth:1300,justifyContent:"space around"},field:{display:"flex",flexDirection:"column",maxWidth:250,justifyContent:"space around",marginTop:e.spacing(0),marginLeft:e.spacing(55.5)},input:{paddingTop:e.spacing(2),paddingLeft:e.spacing(-4)},paragraph:{paddingLeft:e.spacing(7.8)},fab:{color:"#fff",border:"none",outline:"none",outlineOffset:"none",marginLeft:e.spacing(4),marginTop:e.spacing(4)},button:{marginTop:e.spacing(6)},form:{width:"100%",marginTop:e.spacing(1)},msg:{width:"100%","& > * + *":{marginTop:e.spacing(2)}}}}))(zt),qt=a(312),Jt=a.n(qt),Yt=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).handleDrawerOpen=function(){n.setState({open:!0})},n.handleDrawerClose=function(){n.setState({open:!1})},n.SelectMenu=function(e){n.setState({menu:e})},X.dispatch(Q()),n.handleDrawerOpen=n.handleDrawerOpen.bind(Object(u.a)(n)),n.handleDrawerClose=n.handleDrawerClose.bind(Object(u.a)(n)),n.SelectMenu=n.SelectMenu.bind(Object(u.a)(n)),n.state={open:!0,menu:"Dashboard"},n}return Object(c.a)(a,[{key:"render",value:function(){var e=this,t=Object(f.a)(this.props.classes.paper,this.props.classes.fixedHeight);return"Dashboard"===this.state.menu?r.a.createElement("div",{className:this.props.classes.root},r.a.createElement(g.a,null),r.a.createElement(S.a,{position:"absolute",className:Object(f.a)(this.props.classes.appBar,this.state.open&&this.props.classes.appBarShift)},r.a.createElement(b.a,{className:this.props.classes.toolbar},r.a.createElement(w.a,{edge:"start",color:"inherit","aria-label":"open drawer",onClick:this.handleDrawerOpen,className:Object(f.a)(this.props.classes.menuButton,this.state.open&&this.props.classes.menuButtonHidden)},r.a.createElement(T.a,null)),r.a.createElement(v.a,{component:"h1",variant:"h6",color:"inherit",noWrap:!0,className:this.props.classes.title},"Dashboard"),r.a.createElement(lt,null))),r.a.createElement(_.a,{variant:"permanent",classes:{paper:Object(f.a)(this.props.classes.drawerPaper,!this.state.open&&this.props.classes.drawerPaperClose)},open:this.state.open},r.a.createElement("div",{className:this.props.classes.toolbarIcon},r.a.createElement(w.a,{onClick:this.handleDrawerClose},r.a.createElement(I.a,null))),r.a.createElement(y.a,null),r.a.createElement(E.a,null,r.a.createElement(Ke.a,{button:!0,onClick:function(){e.SelectMenu("Dashboard")}},r.a.createElement(Ze.a,null,r.a.createElement(Ve.a,null)),r.a.createElement(Xe.a,{primary:"Dashboard"})),r.a.createElement(Ke.a,{button:!0,onClick:function(){e.SelectMenu("SaltStack")}},r.a.createElement(Ze.a,null,r.a.createElement(ct.a,null)),r.a.createElement(Xe.a,{primary:"SaltStack"})),r.a.createElement(Ke.a,{button:!0,onClick:function(){e.SelectMenu("Team")}},r.a.createElement(Ze.a,null,r.a.createElement(Jt.a,null)),r.a.createElement(Xe.a,{primary:"Team"})))),r.a.createElement("main",{className:this.props.classes.content},r.a.createElement("div",{className:this.props.classes.appBarSpacer}),r.a.createElement(O.a,{maxWidth:"lg",className:this.props.classes.container},r.a.createElement(C.a,{container:!0,spacing:3},r.a.createElement(C.a,{item:!0,xs:12,md:8,lg:9},r.a.createElement(j.a,{className:t},r.a.createElement(oe,null))),r.a.createElement(C.a,{item:!0,xs:12,md:4,lg:3},r.a.createElement(j.a,{className:t},r.a.createElement(ge,null))),r.a.createElement(C.a,{item:!0,xs:20},r.a.createElement("div",{className:this.props.classes.paper},r.a.createElement(ze,null))))))):"SaltStack"===this.state.menu?r.a.createElement("div",{className:this.props.classes.root},r.a.createElement(g.a,null),r.a.createElement(S.a,{position:"absolute",className:Object(f.a)(this.props.classes.appBar,this.state.open&&this.props.classes.appBarShift)},r.a.createElement(b.a,{className:this.props.classes.toolbar},r.a.createElement(w.a,{edge:"start",color:"inherit","aria-label":"open drawer",onClick:this.handleDrawerOpen,className:Object(f.a)(this.props.classes.menuButton,this.state.open&&this.props.classes.menuButtonHidden)},r.a.createElement(T.a,null)),r.a.createElement(v.a,{component:"h1",variant:"h6",color:"inherit",noWrap:!0,className:this.props.classes.title},"SaltStack"),r.a.createElement(lt,null))),r.a.createElement(_.a,{variant:"permanent",classes:{paper:Object(f.a)(this.props.classes.drawerPaper,!this.state.open&&this.props.classes.drawerPaperClose)},open:this.state.open},r.a.createElement("div",{className:this.props.classes.toolbarIcon},r.a.createElement(w.a,{onClick:this.handleDrawerClose},r.a.createElement(I.a,null))),r.a.createElement(y.a,null),r.a.createElement(E.a,null,r.a.createElement(Ke.a,{button:!0,onClick:function(){e.SelectMenu("Dashboard")}},r.a.createElement(Ze.a,null,r.a.createElement(Ve.a,null)),r.a.createElement(Xe.a,{primary:"Dashboard"})),r.a.createElement(Ke.a,{button:!0,onClick:function(){e.SelectMenu("SaltStack")}},r.a.createElement(Ze.a,null,r.a.createElement(ct.a,null)),r.a.createElement(Xe.a,{primary:"SaltStack"})),r.a.createElement(Ke.a,{button:!0,onClick:function(){e.SelectMenu("Team")}},r.a.createElement(Ze.a,null,r.a.createElement(Jt.a,null)),r.a.createElement(Xe.a,{primary:"Team"})))),r.a.createElement("main",{className:this.props.classes.content},r.a.createElement("div",{className:this.props.classes.appBarSpacer}),r.a.createElement(O.a,{maxWidth:"lg",className:this.props.classes.container},r.a.createElement(C.a,{item:!0,xs:!0},r.a.createElement("div",{className:this.props.classes.table},r.a.createElement(yt,null)))))):"Team"===this.state.menu?r.a.createElement("div",{className:this.props.classes.root},r.a.createElement(g.a,null),r.a.createElement(S.a,{position:"absolute",className:Object(f.a)(this.props.classes.appBar,this.state.open&&this.props.classes.appBarShift)},r.a.createElement(b.a,{className:this.props.classes.toolbar},r.a.createElement(w.a,{edge:"start",color:"inherit","aria-label":"open drawer",onClick:this.handleDrawerOpen,className:Object(f.a)(this.props.classes.menuButton,this.state.open&&this.props.classes.menuButtonHidden)},r.a.createElement(T.a,null)),r.a.createElement(v.a,{component:"h1",variant:"h6",color:"inherit",noWrap:!0,className:this.props.classes.title},"Team"),r.a.createElement(lt,null))),r.a.createElement(_.a,{variant:"permanent",classes:{paper:Object(f.a)(this.props.classes.drawerPaper,!this.state.open&&this.props.classes.drawerPaperClose)},open:this.state.open},r.a.createElement("div",{className:this.props.classes.toolbarIcon},r.a.createElement(w.a,{onClick:this.handleDrawerClose},r.a.createElement(I.a,null))),r.a.createElement(y.a,null),r.a.createElement(E.a,null,r.a.createElement(Ke.a,{button:!0,onClick:function(){e.SelectMenu("Dashboard")}},r.a.createElement(Ze.a,null,r.a.createElement(Ve.a,null)),r.a.createElement(Xe.a,{primary:"Dashboard"})),r.a.createElement(Ke.a,{button:!0,onClick:function(){e.SelectMenu("SaltStack")}},r.a.createElement(Ze.a,null,r.a.createElement(ct.a,null)),r.a.createElement(Xe.a,{primary:"SaltStack"})),r.a.createElement(Ke.a,{button:!0,onClick:function(){e.SelectMenu("Team")}},r.a.createElement(Ze.a,null,r.a.createElement(Jt.a,null)),r.a.createElement(Xe.a,{primary:"Team"})))),r.a.createElement("main",{className:this.props.classes.content},r.a.createElement("div",{className:this.props.classes.appBarSpacer}),r.a.createElement(O.a,{maxWidth:"lg",className:this.props.classes.container},r.a.createElement(C.a,{item:!0,xs:!0},r.a.createElement("div",{className:this.props.classes.table},r.a.createElement(Gt,null)))))):void 0}}]),a}(r.a.Component),Vt=Object(ne.a)((function(e){return{root:{display:"flex"},toolbar:{paddingRight:24},toolbarIcon:Object(h.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px"},e.mixins.toolbar),appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36},menuButtonHidden:{display:"none"},title:{flexGrow:1},drawerPaper:{position:"relative",whiteSpace:"nowrap",width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerPaperClose:Object(p.a)({overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:e.spacing(7)},e.breakpoints.up("sm"),{width:e.spacing(9)}),appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"100vh",overflow:"auto"},container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},paper:{paddingRight:e.spacing(3.5),paddingTop:e.spacing(2),paddingLeft:e.spacing(1),paddingBottom:e.spacing(3),display:"flex",overflow:"auto",flexDirection:"column"},table:{paddingRight:3.5,paddingTop:1,paddingLeft:1,paddingBottom:3,display:"flex",overflow:"auto",flexDirection:"column"},fixedHeight:{height:240},Logout:{},AccountCircleIcon:{},NotificationsIcon:{display:"flex",justifyContent:"space-between",width:43}}}))(Yt);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(870);var Kt=a(544),Zt=a(383),Xt=a(134),$t=a(513),Qt=a(517),ea=a(925),ta=a(189),aa=a.n(ta),na=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).resetPass=n.resetPass.bind(Object(u.a)(n)),n.state={email:{value:null,error:!1,helperText:null},msg:null},n}return Object(c.a)(a,[{key:"resetPass",value:function(e){var t=this;if(e.preventDefault(),""===this.emailInput.value)this.setState({email:{value:this.emailInput.value,error:!0,helperText:"Your email must be specified."}}),this.emailInput.focus();else{var a=this.emailInput.value,n=JSON.stringify({email:a});D.a.post("/forgot_password",n,{headers:{"Content-Type":"application/json"}}).then((function(e){t.setState({msg:e.message})})).catch((function(e){t.setState({msg:e.message})}))}}},{key:"render",value:function(){var e,t=this,a=this.props.classes;return r.a.createElement(O.a,{component:"main",maxWidth:"xs"},r.a.createElement(g.a,null),r.a.createElement("div",{className:a.paper},r.a.createElement(Ot.a,{className:a.avatar},r.a.createElement(aa.a,null)),r.a.createElement(v.a,{component:"h1",variant:"h5"},"Enter Your Email Address"),r.a.createElement("form",{className:a.form,onSubmit:this.resetPass},r.a.createElement(Mt.a,(e={variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0},Object(p.a)(e,"required",!0),Object(p.a)(e,"inputRef",(function(e){return t.emailInput=e})),Object(p.a)(e,"error",this.state.email.error),Object(p.a)(e,"helperText",this.state.email.helperText),e)),r.a.createElement(de.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:a.submit},"Reset Password"),this.state.msg?r.a.createElement(ut.a,{severity:"error"},this.state.msg):null,r.a.createElement(C.a,{item:!0,xs:!0},r.a.createElement(ea.a,{onClick:this.props.handler,variant:"body2"},"Back to login")))))}}]),a}(r.a.Component),sa=Object(x.b)()(Object(ne.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}))(na)),ra=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).updatePass=n.updatePass.bind(Object(u.a)(n)),n.state={email:{value:null,error:!1,helperText:null},old_password1:{value:null,error:!1,helperText:null},old_password2:{value:null,error:!1,helperText:null},new_password:{value:null,error:!1,helperText:null},msg:null},n}return Object(c.a)(a,[{key:"componentDidUpdate",value:function(e){var t=this.props.error;t!==e.error&&("Weak Password"===t.id?this.setState({msg:t.msg.msg}):this.setState({msg:null}))}},{key:"updatePass",value:function(e){var t=this;if(e.preventDefault(),""===this.emailInput.value)this.setState({email:{value:this.emailInput.value,error:!0,helperText:"Your email must be specified."}}),this.emailInput.focus();else{var a={email:this.emailInput.value,old_password1:this.old_password1.value,old_password2:this.old_password2.value,new_password:this.new_password.value},n=JSON.stringify({user:a});D.a.post("/forgot_password",n,{headers:{"Content-Type":"application/json"}}).then((function(e){t.setState({msg:e.message})})).catch((function(e){t.setState({msg:e.message})}))}}},{key:"render",value:function(){var e,t=this,a=this.props.classes;return r.a.createElement(O.a,{component:"main",maxWidth:"xs"},r.a.createElement(g.a,null),r.a.createElement("div",{className:a.paper},r.a.createElement(Ot.a,{className:a.avatar},r.a.createElement(aa.a,null)),r.a.createElement(v.a,{component:"h1",variant:"h5"},"Update Password"),r.a.createElement("form",{className:a.form,onSubmit:this.signIn},r.a.createElement(Mt.a,(e={variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0},Object(p.a)(e,"required",!0),Object(p.a)(e,"inputRef",(function(e){return t.emailInput=e})),Object(p.a)(e,"error",this.state.email.error),Object(p.a)(e,"helperText",this.state.email.helperText),e)),r.a.createElement(Mt.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password1",label:"Password1",type:"password1",id:"password1",autoComplete:"current-password",inputRef:function(e){return t.passwordInput=e}}),r.a.createElement(Mt.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password2",label:"Password2",type:"password2",id:"password2",autoComplete:"current-password",inputRef:function(e){return t.passwordInput=e}}),r.a.createElement(de.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:a.submit},"Update Password"),this.state.msg?r.a.createElement(ut.a,{severity:"error"},this.state.msg):null,r.a.createElement(C.a,{item:!0,xs:!0},r.a.createElement(ea.a,{onClick:this.props.handler,variant:"body2"},"Back to login")))))}}]),a}(r.a.Component),ia=Object(x.b)()(Object(ne.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}))(ra)),la=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).signIn=n.signIn.bind(Object(u.a)(n)),n.handler=n.handler.bind(Object(u.a)(n)),n.state={email:{value:null,error:!1,helperText:null},password:{value:null,error:!1,helperText:null},msg:null},n}return Object(c.a)(a,[{key:"componentDidUpdate",value:function(e){var t=this.props,a=t.error;t.isAuthenticated;a!==e.error&&("LOGIN_FAIL"===a.id?(this.setState({msg:a.msg}),setTimeout(function(){this.setState({msg:null})}.bind(this),3e3)):this.setState({msg:null}))}},{key:"handler",value:function(){this.setState({screen:"login"})}},{key:"signIn",value:function(e){if(e.preventDefault(),""===this.emailInput.value)this.setState({email:{value:this.emailInput.value,error:!0,helperText:"Your email must be specified."}}),this.emailInput.focus();else{var t={email:this.emailInput.value,password:this.passwordInput.value},a=this.props.login(t);console.log(a),this.props.history.push("/")}}},{key:"render",value:function(){var e,t=this;if("forgot"===this.state.screen)return r.a.createElement(sa,{handler:this.handler});if("change"===this.state.screen)return r.a.createElement(ia,{handler:this.handler});var a=this.props.classes;return r.a.createElement(O.a,{component:"main",maxWidth:"xs"},r.a.createElement(g.a,null),r.a.createElement("div",{className:a.paper},r.a.createElement(Ot.a,{className:a.avatar},r.a.createElement(aa.a,null)),r.a.createElement(v.a,{component:"h1",variant:"h5"},"Sign in"),r.a.createElement("form",{className:a.form,onSubmit:this.signIn},r.a.createElement(Mt.a,(e={variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0},Object(p.a)(e,"required",!0),Object(p.a)(e,"inputRef",(function(e){return t.emailInput=e})),Object(p.a)(e,"error",this.state.email.error),Object(p.a)(e,"helperText",this.state.email.helperText),e)),r.a.createElement(Mt.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",inputRef:function(e){return t.passwordInput=e}}),r.a.createElement($t.a,{control:r.a.createElement(Qt.a,{value:"remember",color:"primary"}),label:"Remember me"}),r.a.createElement(de.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:a.submit},"Sign In"),this.state.msg?r.a.createElement(ut.a,{severity:"error"},this.state.msg):null,r.a.createElement(C.a,{container:!0},r.a.createElement(C.a,{item:!0,xs:!0},r.a.createElement(ea.a,{onClick:function(){return t.setState({screen:"forgot"})},variant:"body2"},"Reset Your Password")),r.a.createElement(C.a,{item:!0},r.a.createElement(ea.a,{onClick:function(){return t.setState({screen:"change"})},variant:"body2"},"Do you want to update your password?"))))))}}]),a}(r.a.Component),oa=Object(x.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated,error:e.error}}),{login:J,clearErrors:function(){return{type:"CLEAR_ERRORS"}}})(Object(ne.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}))(la)),ca=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement(Zt.a,null,r.a.createElement("div",null,r.a.createElement(ua,{exact:!0,path:"/",component:Vt,authed:this.props.auth.isAuthenticated}),r.a.createElement(Xt.a,{exact:!0,path:"/login",component:oa})))}}]),a}(s.Component),ua=function(e){var t=e.component,a=e.authed,n=Object(Kt.a)(e,["component","authed"]);return r.a.createElement(Xt.a,Object.assign({},n,{render:function(e){return a?r.a.createElement(t,e):r.a.createElement(oa,e)}}))},da=Object(x.b)((function(e){return{auth:e.auth}}),n)(ca),ma=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(e){return Object(o.a)(this,a),t.call(this,e)}return Object(c.a)(a,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return r.a.createElement(da,null)}}]),a}(s.Component),pa=Object(x.b)((function(e){return{auth:e.auth}}),null)(ma);l.a.render(r.a.createElement(x.a,{store:X},r.a.createElement(pa,null)),document.getElementById("root"))}},[[583,1,2]]]);
//# sourceMappingURL=main.94eeef7c.chunk.js.map