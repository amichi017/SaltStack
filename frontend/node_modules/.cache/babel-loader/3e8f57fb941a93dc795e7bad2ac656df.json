{"ast":null,"code":"import axios from 'axios';\nimport store from '../store';\nimport { DATE_SELECT, SALT_RETURNS } from './types'; // Date is select\n\nexport const dateSelect = (start, end) => {\n  return {\n    type: DATE_SELECT,\n    payload: {\n      start,\n      end\n    }\n  }; // console.log(\"start \",start);\n  // console.log(\"end \",end);\n}; // Clear date\n\nexport const saltReturns = () => (dispatch, getState) => {\n  const time = new Date().toDateString();\n  console.log(store.getState(), \"the store \");\n\n  if (getState().auth.token !== null) {\n    console.log(\"ppppppppppppppppp\");\n  }\n\n  axios.get('http://127.0.0.1:5000/api/saltReturns', tokenConfig(getState)).then(res => {\n    // console.log(res,\"res\");\n    store.dispatch({\n      type: SALT_RETURNS,\n      payload: res.data\n    });\n  }).catch(err => {\n    console.log(err, \"error in data\");\n  });\n}; // Setup config/headers and token\n\nexport const tokenConfig = getState => {\n  // Get token from localstorage\n  const token = getState().auth.access_token; // Headers\n\n  const config = {\n    headers: {\n      \"Content-type\": \"multipart/form-data\"\n    }\n  }; // If token, add to headers\n\n  if (token) {\n    config.headers[\"Authorization\"] = ` Bearer ${token} `;\n  }\n\n  return config;\n};","map":{"version":3,"sources":["/home/avraham/SaltStack/frontend/src/actions/date.js"],"names":["axios","store","DATE_SELECT","SALT_RETURNS","dateSelect","start","end","type","payload","saltReturns","dispatch","getState","time","Date","toDateString","console","log","auth","token","get","tokenConfig","then","res","data","catch","err","access_token","config","headers"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,MAAkB,UAAlB;AACC,SAASC,WAAT,EAAsBC,YAAtB,QAAyC,SAAzC,C,CACA;;AACA,OAAO,MAAMC,UAAU,GAAG,CAACC,KAAD,EAASC,GAAT,KAAiB;AAEvC,SAAO;AACKC,IAAAA,IAAI,EAAEL,WADX;AAEKM,IAAAA,OAAO,EAAC;AAACH,MAAAA,KAAD;AAAOC,MAAAA;AAAP;AAFb,GAAP,CAFuC,CAMvC;AACA;AAEH,CATM,C,CAWP;;AACA,OAAO,MAAMG,WAAW,GAAI,MAAM,CAACC,QAAD,EAAWC,QAAX,KAAwB;AAEtD,QAAMC,IAAI,GAAE,IAAIC,IAAJ,GAAWC,YAAX,EAAZ;AACLC,EAAAA,OAAO,CAACC,GAAR,CAAYf,KAAK,CAACU,QAAN,EAAZ,EAA6B,YAA7B;;AACE,MAAGA,QAAQ,GAAGM,IAAX,CAAgBC,KAAhB,KAA0B,IAA7B,EAAkC;AAAOH,IAAAA,OAAO,CAACC,GAAR,CAAY,mBAAZ;AAAkC;;AACxEhB,EAAAA,KAAK,CAACmB,GAAN,CAAU,uCAAV,EAAmDC,WAAW,CAACT,QAAD,CAA9D,EACAU,IADA,CACMC,GAAD,IAAS;AAEX;AACJrB,IAAAA,KAAK,CAACS,QAAN,CAAe;AACXH,MAAAA,IAAI,EAAEJ,YADK;AAEXK,MAAAA,OAAO,EAAEc,GAAG,CAACC;AAFF,KAAf;AAGG,GAPF,EAQAC,KARA,CAQMC,GAAG,IAAI;AACVV,IAAAA,OAAO,CAACC,GAAR,CAAYS,GAAZ,EAAgB,eAAhB;AAEA,GAXH;AAYJ,CAjBO,C,CAqBR;;AACA,OAAO,MAAML,WAAW,GAAGT,QAAQ,IAAI;AACnC;AACA,QAAMO,KAAK,GAAGP,QAAQ,GAAGM,IAAX,CAAgBS,YAA9B,CAFmC,CAInC;;AACA,QAAMC,MAAM,GAAG;AACXC,IAAAA,OAAO,EAAE;AACL,sBAAgB;AADX;AADE,GAAf,CALmC,CAWnC;;AACA,MAAGV,KAAH,EAAU;AACPS,IAAAA,MAAM,CAACC,OAAP,CAAe,eAAf,IAAmC,WAAUV,KAAM,GAAnD;AACF;;AAEJ,SAAOS,MAAP;AACA,CAjBM","sourcesContent":["import axios from 'axios';\nimport store from '../store'\n import { DATE_SELECT, SALT_RETURNS} from './types';\n // Date is select\n export const dateSelect = (start , end) => {\n   \n     return {\n                 type: DATE_SELECT,\n                 payload:{start,end}\n              };\n     // console.log(\"start \",start);\n     // console.log(\"end \",end);\n     \n }\n \n // Clear date\n export const saltReturns =  () => (dispatch, getState) => {\n     \n     const time =new Date().toDateString();\nconsole.log(store.getState(),\"the store \");\n  if(getState().auth.token !== null){      console.log(\"ppppppppppppppppp\");}\n     axios.get('http://127.0.0.1:5000/api/saltReturns', tokenConfig(getState))\n    .then((res) => { \n        \n        // console.log(res,\"res\");\n    store.dispatch({\n        type: SALT_RETURNS,\n        payload: res.data\n    })})\n    .catch(err => {\n        console.log(err,\"error in data\");\n       \n       });\n};\n\n\n\n// Setup config/headers and token\nexport const tokenConfig = getState => {\n    // Get token from localstorage\n    const token = getState().auth.access_token;\n  \n    // Headers\n    const config = {\n        headers: {\n            \"Content-type\": \"multipart/form-data\"\n        }\n    }\n\n    // If token, add to headers\n    if(token) {\n       config.headers[\"Authorization\"] = ` Bearer ${token} `;\n    }\n\n return config;\n}"]},"metadata":{},"sourceType":"module"}