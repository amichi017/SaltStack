{"ast":null,"code":"import _objectWithoutProperties from \"/home/avraham/SaltStack/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";\nvar _jsxFileName = \"/home/avraham/SaltStack/frontend/src/App.js\";\nimport React from \"react\";\nimport { BrowserRouter as Router, Switch, Route, Link, Redirect, useHistory, useLocation } from \"react-router-dom\";\nimport Dashboard from \"./Dashboard\";\nimport LoginForm from './Component/LoginForm';\nimport RegisterForm from './Component/RegisterForm';\nimport { createStore } from 'redux';\nimport appReducer from './reducers/index';\nimport { Provider } from 'react-redux'; // This example has 3 pages: a public page, a protected\n// page, and a login screen. In order to see the protected\n// page, you must first login. Pretty standard stuff.\n//\n// First, visit the public page. Then, visit the protected\n// page. You're not yet logged in, so you are redirected\n// to the login page. After you login, you are redirected\n// back to the protected page.\n//\n// Notice the URL change each time. If you click the back\n// button at this point, would you expect to go back to the\n// login page? No! You're already logged in. Try it out,\n// and you'll see you go back to the page you visited\n// just *before* logging in, the public page.\n// A wrapper for <Route> that redirects to the login\n// screen if you're not yet authenticated.\n\nclass App extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      loggedIn: false // user is not logged in\n\n    };\n  }\n\n  render() {\n    return React.createElement(Switch, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45\n      },\n      __self: this\n    }, React.createElement(Route, {\n      path: \"/protected\",\n      component: Protected,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46\n      },\n      __self: this\n    }), React.createElement(Route, {\n      path: \"/login\",\n      component: Login,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47\n      },\n      __self: this\n    }));\n  }\n\n}\n\nexport default App;\n\nconst PrivateRoute = (_ref) => {\n  let isLoggedIn = _ref.isLoggedIn,\n      props = _objectWithoutProperties(_ref, [\"isLoggedIn\"]);\n\n  isLoggedIn ? React.createElement(Route, Object.assign({}, props, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60\n    },\n    __self: this\n  })) : React.createElement(Redirect, {\n    to: \"/login\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61\n    },\n    __self: this\n  });\n};\n\nfunction PublicPage() {\n  return React.createElement(\"h3\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65\n    },\n    __self: this\n  }, \"Public\");\n}\n\nfunction ProtectedPage() {\n  const store = createStore(appReducer);\n  return React.createElement(Provider, {\n    store: store,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71\n    },\n    __self: this\n  }, React.createElement(Dashboard, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72\n    },\n    __self: this\n  }));\n}\n\nfunction LoginPage() {\n  let history = useHistory();\n  let location = useLocation();\n  const store = createStore(appReducer);\n\n  let _ref2 = location.state || {\n    from: {\n      pathname: \"/\"\n    }\n  },\n      from = _ref2.from;\n\n  let login = () => {\n    fakeAuth.authenticate(() => {\n      history.replace(from);\n    });\n  };\n\n  return React.createElement(Provider, {\n    store: store,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89\n    },\n    __self: this\n  }, React.createElement(LoginForm, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90\n    },\n    __self: this\n  }));\n}","map":{"version":3,"sources":["/home/avraham/SaltStack/frontend/src/App.js"],"names":["React","BrowserRouter","Router","Switch","Route","Link","Redirect","useHistory","useLocation","Dashboard","LoginForm","RegisterForm","createStore","appReducer","Provider","App","Component","state","loggedIn","render","Protected","Login","PrivateRoute","isLoggedIn","props","PublicPage","ProtectedPage","store","LoginPage","history","location","from","pathname","login","fakeAuth","authenticate","replace"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SACEC,aAAa,IAAIC,MADnB,EAEEC,MAFF,EAGEC,KAHF,EAIEC,IAJF,EAKEC,QALF,EAMEC,UANF,EAOEC,WAPF,QAQO,kBARP;AASA,OAAOC,SAAP,MAAsB,aAAtB;AACA,OAAOC,SAAP,MAAsB,uBAAtB;AACA,OAAOC,YAAP,MAAyB,0BAAzB;AACA,SAASC,WAAT,QAA4B,OAA5B;AACA,OAAOC,UAAP,MAAuB,kBAAvB;AACA,SAAQC,QAAR,QAAuB,aAAvB,C,CAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;;AACA,MAAMC,GAAN,SAAkBC,SAAlB,CAA4B;AAAA;AAAA;AAAA,SAE1BC,KAF0B,GAElB;AACNC,MAAAA,QAAQ,EAAE,KADJ,CACU;;AADV,KAFkB;AAAA;;AAM1BC,EAAAA,MAAM,GAAG;AAEP,WACI,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,KAAD;AAAO,MAAA,IAAI,EAAC,YAAZ;AAAyB,MAAA,SAAS,EAAEC,SAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,EAEE,oBAAC,KAAD;AAAO,MAAA,IAAI,EAAC,QAAZ;AAAqB,MAAA,SAAS,EAAEC,KAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFF,CADJ;AAMD;;AAdyB;;AAkB5B,eAAeN,GAAf;;AAGA,MAAMO,YAAY,GAAG,UACrB;AAAA,MADwBC,UACxB,QADwBA,UACxB;AAAA,MADuCC,KACvC;;AACED,EAAAA,UAAU,GACN,oBAAC,KAAD,oBAAYC,KAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KADM,GAEN,oBAAC,QAAD;AAAU,IAAA,EAAE,EAAC,QAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFJ;AAGD,CALD;;AAOA,SAASC,UAAT,GAAsB;AACpB,SAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAAP;AACD;;AAED,SAASC,aAAT,GAAyB;AACvB,QAAMC,KAAK,GAAGf,WAAW,CAACC,UAAD,CAAzB;AAEA,SAAS,oBAAC,QAAD;AAAU,IAAA,KAAK,EAAEc,KAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACA,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADA,CAAT;AAGD;;AAED,SAASC,SAAT,GAAqB;AACnB,MAAIC,OAAO,GAAGtB,UAAU,EAAxB;AACA,MAAIuB,QAAQ,GAAGtB,WAAW,EAA1B;AACA,QAAMmB,KAAK,GAAGf,WAAW,CAACC,UAAD,CAAzB;;AAHmB,cAKJiB,QAAQ,CAACb,KAAT,IAAkB;AAAEc,IAAAA,IAAI,EAAE;AAAEC,MAAAA,QAAQ,EAAE;AAAZ;AAAR,GALd;AAAA,MAKbD,IALa,SAKbA,IALa;;AAMnB,MAAIE,KAAK,GAAG,MAAM;AAChBC,IAAAA,QAAQ,CAACC,YAAT,CAAsB,MAAM;AAC1BN,MAAAA,OAAO,CAACO,OAAR,CAAgBL,IAAhB;AACD,KAFD;AAGD,GAJD;;AAMA,SACE,oBAAC,QAAD;AAAU,IAAA,KAAK,EAAEJ,KAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACA,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADA,CADF;AAKD","sourcesContent":["import React from \"react\";\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n  Link,\n  Redirect,\n  useHistory,\n  useLocation\n} from \"react-router-dom\";\nimport Dashboard from \"./Dashboard\";\nimport LoginForm from './Component/LoginForm';\nimport RegisterForm from './Component/RegisterForm';\nimport { createStore } from 'redux';\nimport appReducer from './reducers/index';\nimport {Provider} from 'react-redux';\n\n\n// This example has 3 pages: a public page, a protected\n// page, and a login screen. In order to see the protected\n// page, you must first login. Pretty standard stuff.\n//\n// First, visit the public page. Then, visit the protected\n// page. You're not yet logged in, so you are redirected\n// to the login page. After you login, you are redirected\n// back to the protected page.\n//\n// Notice the URL change each time. If you click the back\n// button at this point, would you expect to go back to the\n// login page? No! You're already logged in. Try it out,\n// and you'll see you go back to the page you visited\n// just *before* logging in, the public page.\n\n// A wrapper for <Route> that redirects to the login\n// screen if you're not yet authenticated.\nclass App extends Component {\n\n  state = {\n    loggedIn: false // user is not logged in\n  };\n\n  render() {\n\n    return (\n        <Switch>\n          <Route path=\"/protected\" component={Protected}/>\n          <Route path=\"/login\" component={Login}/>\n        </Switch>\n    );\n  }\n}\n\n\nexport default App;\n\n\nconst PrivateRoute = ({ isLoggedIn, ...props }) =>\n{\n  isLoggedIn \n    ? <Route { ...props } />\n    : <Redirect to=\"/login\" />\n}\n\nfunction PublicPage() {\n  return <h3>Public</h3>;\n}\n\nfunction ProtectedPage() {\n  const store = createStore(appReducer);\n\n  return ( <Provider store={store}>\n           <Dashboard />\n           </Provider> );\n}\n\nfunction LoginPage() {\n  let history = useHistory();\n  let location = useLocation();\n  const store = createStore(appReducer);\n\n  let { from } = location.state || { from: { pathname: \"/\" } };\n  let login = () => {\n    fakeAuth.authenticate(() => {\n      history.replace(from);\n    });\n  };\n\n  return (\n    <Provider store={store}>\n    <LoginForm />\n    </Provider>  \n  );\n}\n"]},"metadata":{},"sourceType":"module"}