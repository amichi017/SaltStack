{"ast":null,"code":"var _jsxFileName = \"C:\\\\react\\\\SaltStack\\\\frontend\\\\src\\\\Component\\\\Graph.js\";\nimport React from 'react';\nimport { bindActionCreators } from 'redux';\nimport { connect } from 'react-redux';\nimport { dateSelect } from '../actions/date';\nimport { LineChart, Line, XAxis, YAxis, Label, ResponsiveContainer, Tooltip, Legend } from 'recharts';\nimport store from '../store';\nimport Title from './Title'; // import SaltData from'../demo/jsonPars.json';\n// Generate Sales Data\n\nfunction createData(time, Succeeded, Faile, amount) {\n  return {\n    time,\n    Succeeded,\n    Faile,\n    amount\n  };\n}\n\nconst data = [createData('00:00', 54, 67, 0), createData('03:00', 67, 89, 300), createData('06:00', 45, 67, 600), createData('09:00', 34, 56, 800), createData('12:00', 23, 45, 1500), createData('15:00', 89, 45, 2000), createData('18:00', 34, 56, 2400), createData('21:00', 23, 47, 2400), createData('24:00', 34, 56, 45)];\n\nconst demoOnClick = e => {// if(e){if(e.activeLabel){console.log(e.activeLabel);}}\n};\n\nclass Chart extends React.PureComponent {\n  constructor(props) {\n    super(props);\n    this.state = {\n      start: new Date(),\n      end: new Date(),\n      returns: null,\n      amountFail: 0,\n      amountSuc: 0\n    };\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if (this.props.date.start.toLocaleDateString() !== nextProps.date.start.toLocaleDateString() || this.props.date.end.toLocaleDateString() !== nextProps.date.end.toLocaleDateString()) {\n      this.setState({\n        start: nextProps.date.start,\n        end: nextProps.date.end\n      });\n      this.state.returns = nextProps.saltReturns.saltReturns;\n      nextProps.saltReturns.saltReturns.forEach(item => {\n        item.full_ret.success === true ? this.state.amountSuc++ : this.state.amountFail++;\n      }); // console.log(\"props                             \",nextProps);\n\n      console.log(\"state                               \", this.state);\n      return true;\n    }\n\n    return false;\n  }\n\n  render() {\n    return React.createElement(React.Fragment, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }, React.createElement(Title, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }, this.state.start.toLocaleDateString() === this.state.end.toLocaleDateString() ? this.state.start.toLocaleDateString() : this.state.start.toLocaleDateString() + ' - ' + this.state.end.toLocaleDateString()), React.createElement(ResponsiveContainer, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }, React.createElement(LineChart, {\n      onClick: demoOnClick,\n      data: data,\n      margin: {\n        top: 16,\n        right: 16,\n        bottom: 0,\n        left: 24\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }, React.createElement(XAxis, {\n      dataKey: \"time\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }), React.createElement(YAxis, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }, React.createElement(Label, {\n      angle: 270,\n      position: \"left\",\n      style: {\n        textAnchor: 'middle'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }, \"(A/T)\")), React.createElement(Line, {\n      type: \"monotone\",\n      dataKey: \"Faile\",\n      stroke: \"#ff6666\",\n      onClick: demoOnClick,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }), React.createElement(Line, {\n      type: \"monotone\",\n      dataKey: \"Succeeded\",\n      stroke: \"#82ca9d\",\n      onClick: demoOnClick,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }), React.createElement(Legend, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }), React.createElement(Tooltip, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }))));\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    saltReturns: state.saltReturns,\n    date: state.date\n  };\n};\n\nfunction matchDispatchToProps(dispatch) {\n  return bindActionCreators({\n    dateSelect: dateSelect\n  }, dispatch);\n}\n\nexport default connect(mapStateToProps, matchDispatchToProps)(Chart);","map":{"version":3,"sources":["C:/react/SaltStack/frontend/src/Component/Graph.js"],"names":["React","bindActionCreators","connect","dateSelect","LineChart","Line","XAxis","YAxis","Label","ResponsiveContainer","Tooltip","Legend","store","Title","createData","time","Succeeded","Faile","amount","data","demoOnClick","e","Chart","PureComponent","constructor","props","state","start","Date","end","returns","amountFail","amountSuc","componentWillReceiveProps","nextProps","date","toLocaleDateString","setState","saltReturns","forEach","item","full_ret","success","console","log","render","top","right","bottom","left","textAnchor","mapStateToProps","matchDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport {bindActionCreators} from 'redux';\r\nimport {connect} from 'react-redux';\r\nimport {dateSelect} from '../actions/date';\r\nimport { LineChart,\r\n         Line,\r\n         XAxis,\r\n         YAxis,\r\n         Label,\r\n         ResponsiveContainer,\r\n         Tooltip,\r\n         Legend  \r\n} from 'recharts';\r\nimport store from '../store';\r\nimport Title from './Title';\r\n// import SaltData from'../demo/jsonPars.json';\r\n// Generate Sales Data\r\nfunction createData(time,Succeeded,Faile, amount) {\r\n  return { time,Succeeded,Faile, amount };\r\n}\r\n\r\nconst data = [\r\n  createData('00:00',54,67, 0),\r\n  createData('03:00',67,89, 300),\r\n  createData('06:00',45,67, 600),\r\n  createData('09:00',34,56, 800),\r\n  createData('12:00',23,45, 1500),\r\n  createData('15:00',89,45, 2000),\r\n  createData('18:00',34,56, 2400),\r\n  createData('21:00',23,47, 2400),\r\n  createData('24:00',34,56, 45),\r\n];\r\nconst demoOnClick= (e)=>{\r\n  // if(e){if(e.activeLabel){console.log(e.activeLabel);}}\r\n}\r\n\r\n\r\n class Chart extends React.PureComponent {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      start: new Date(),\r\n      end:new Date(),\r\n      returns:null,\r\n      amountFail:0,\r\n      amountSuc:0\r\n    };\r\n  }\r\n  componentWillReceiveProps(nextProps) {\r\n    if((this.props.date.start.toLocaleDateString()!== nextProps.date.start.toLocaleDateString()) || this.props.date.end.toLocaleDateString()!== nextProps.date.end.toLocaleDateString() ){ \r\n      this.setState({start:nextProps.date.start,end:nextProps.date.end});\r\n      this.state.returns=nextProps.saltReturns.saltReturns;\r\n      nextProps.saltReturns.saltReturns.forEach(item => {\r\n        (item.full_ret.success ===true)?(this.state.amountSuc++):(this.state.amountFail++)\r\n      });\r\n        // console.log(\"props                             \",nextProps);\r\n       console.log(\"state                               \",this.state);\r\n      return true;\r\n    }\r\n    return false;\r\n  }\r\n \r\n  render(){\r\n  return (\r\n    <React.Fragment>\r\n      <Title>{(this.state.start.toLocaleDateString() === this.state.end.toLocaleDateString())?this.state.start.toLocaleDateString():this.state.start.toLocaleDateString() + ' - '+ this.state.end.toLocaleDateString()}</Title>\r\n      <ResponsiveContainer>\r\n        <LineChart\r\n          onClick={demoOnClick}\r\n          data={data}\r\n          margin={{\r\n            top: 16,\r\n            right: 16,\r\n            bottom: 0,\r\n            left: 24,\r\n          }}\r\n        >\r\n          <XAxis dataKey=\"time\">\r\n          </XAxis> \r\n          <YAxis>\r\n            <Label angle={270} position=\"left\" style={{ textAnchor: 'middle' }}>\r\n             (A/T)\r\n            </Label>\r\n          </YAxis>\r\n          <Line type=\"monotone\" dataKey=\"Faile\" stroke=\"#ff6666\" onClick={demoOnClick} />\r\n          <Line type=\"monotone\" dataKey=\"Succeeded\" stroke=\"#82ca9d\"  onClick={demoOnClick}/>\r\n          <Legend />\r\n          <Tooltip />\r\n        </LineChart>\r\n      </ResponsiveContainer>\r\n    </React.Fragment>\r\n  );\r\n }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    saltReturns: state.saltReturns,\r\n    date: state.date \r\n  }\r\n}\r\n\r\nfunction matchDispatchToProps(dispatch){\r\n  return bindActionCreators({dateSelect: dateSelect}, dispatch);\r\n}\r\nexport default connect(mapStateToProps,matchDispatchToProps)(Chart);"]},"metadata":{},"sourceType":"module"}